{
    "version": "5.0.beta.9.1",
    "collection": [
        {
            "class_name": "ViewTemplate",
            "id": 21,
            "name": "questionnaire",
            "description": "",
            "accessibility": 0,
            "archived": "0",
            "head": "",
            "css": ".questionnaire-table {\n  display: table;\n}\n\n.questionnaire-header {\n  \n}\n\n.questionnaire-row {\n  display: table-row;\n}\n\n.questionnaire-cell {\n  display: table-cell;\n}\n\n.questionnaire-error {\n}\n\n.questionnaire-timer:empty {\n  display: none;\n}",
            "js": "testRunner.controllerProvider.register(\"questionnaire\", function($scope) {\n  $scope.items = testRunner.R.items;\n  $scope.responseOptions = testRunner.R.responseOptions;\n  $scope.canGoBack = testRunner.R.canGoBack == 1;\n  $scope.responseRequired = testRunner.R.responseRequired == 1;\n  $scope.responseRequiredAlert = testRunner.R.responeRequiredAlert;\n  $scope.pastResponses = testRunner.R.responses;\n  $scope.responses = {};\n\n  if($scope.pastResponses) {\n    for(var i=0;i<$scope.pastResponses.length;i++) {\n      var response = $scope.pastResponses[i];\n      $scope.responses[\"r\"+response.item_id] = response.response;\n    }\n  }\n\n  for(var i=0;i<$scope.items.length;i++) {\n    var item = $scope.items[i];\n    if(typeof $scope.responses[\"r\"+item.id] === 'undefined') {\n      $scope.responses[\"r\"+item.id] = null;\n    }\n  }\n});",
            "html": "<form name=\"form\" ng-controller=\"questionnaire\">\n  <div class=\"questionnaire-timer\">[[timeLeft]]<\/div>\n  <div class=\"questionnaire-table\">\n    <div class=\"questionnaire-row questionnaire-header\">\n      <div class=\"questionnaire-cell\"><\/div>\n\n      <div class=\"questionnaire-cell\" ng-repeat=\"option in responseOptions\">[[option.label]]<\/div>\n    <\/div>\n\n    <div class=\"questionnaire-row\" ng-repeat=\"item in items track by $index\">\n      <div class=\"questionnaire-cell\">[[item.question]]<\/div>\n\n      <div class=\"questionnaire-cell\" ng-repeat=\"option in responseOptions\"><input id=\"r[[item.id]]-[[option.value]]\" name=\"r[[item.id]]\" ng-model=\"responses['r' + item.id]\" ng-required=\"responseRequired\" ng-value=\"option.value\" type=\"radio\" \/><\/div>\n    <\/div>\n  <\/div>\n\n  <div class=\"questionnaire-error\" ng-show=\"form['r'+item.id].$error.required &amp;&amp; form['r'+item.id].$dirty\">[[responseRequiredAlert]]<\/div>\n  <button name=\"back\" ng-show=\"canGoBack\">Previous<\/button><button name=\"next\" ng-disabled=\"!form.$valid\">Next<\/button><\/form>\n",
            "updatedOn": "2019-02-06 14:07:25",
            "updatedBy": "admin",
            "owner": null,
            "groups": "",
            "starterContent": true,
            "hash": "316e50e862c24d7cbe387f58f9de433d6fd72d10"
        }
    ]
}