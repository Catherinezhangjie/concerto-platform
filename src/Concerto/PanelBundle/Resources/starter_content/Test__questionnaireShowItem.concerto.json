{
    "version": "5.0.beta.9.1",
    "collection": [
        {
            "class_name": "Test",
            "id": 68,
            "name": "_questionnaireShowItem",
            "accessibility": 0,
            "archived": "0",
            "visibility": 2,
            "type": 0,
            "code": "getData = function(itemsSafe, responsesSafe, canGoBack, templateParams, responseRequired, responseRequiredAlert, page, totalPages, responseOptions) {\n  templateParams$items = itemsSafe\n  templateParams$canGoBack = canGoBack\n  templateParams$responses = responsesSafe\n  templateParams$responseRequired = responseRequired\n  templateParams$responseRequiredAlert = responseRequiredAlert\n  templateParams$page = page\n  templateParams$totalPages = totalPages\n  templateParams$responseOptions = responseOptions\n\n  return(templateParams)\n}\n\ngetTimeLimit = function(testTimeStarted, testTimeLimit, itemTimeLimit) {\n  limit = 0\n  startedAgo = as.numeric(Sys.time()) - testTimeStarted\n  testTimeLeft = 0\n  if(testTimeLimit > 0) {\n    testTimeLeft = max(testTimeLimit - startedAgo, 1)\n    limit = testTimeLeft\n  }\n  if(itemTimeLimit > 0) {\n    if(limit > 0) {\n      limit = min(limit, itemTimeLimit)\n    } else {\n      limit = itemTimeLimit\n    }\n  }\n  return(limit)\n}\n\ncanGoBack = if(settings$canGoBack == \"1\" && itemIndex > 1) { 1 } else { 0 }\ntotalPages = ceiling(dim(items)[1] \/ as.numeric(settings$itemsPerPage))\nresponse = concerto.template.show(\n  settings$itemTemplate, \n  params=getData(\n    itemsSafe, \n    responsesSafe, \n    canGoBack, \n    templateParams, \n    settings$responseRequired, \n    settings$responseRequiredAlert, \n    page, \n    totalPages, \n    fromJSON(settings$responseOptions)\n  ), \n  timeLimit=getTimeLimit(\n    testTimeStarted, \n    as.numeric(settings$testTimeLimit), \n    as.numeric(settings$itemTimeLimit)\n  )\n)\n\n.branch = \"submitted\"\nif(response$isTimeout == 1) { .branch = \"outOfTime\" }",
            "outdated": "0",
            "description": "",
            "variables": [
                {
                    "class_name": "TestVariable",
                    "id": 679,
                    "name": "outOfTime",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "0",
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 680,
                    "name": "items",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 681,
                    "name": "currentItemsIndices",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 682,
                    "name": "itemsSafe",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 683,
                    "name": "responsesSafe",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 684,
                    "name": "settings",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 685,
                    "name": "templateParams",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 686,
                    "name": "testTimeLeft",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 687,
                    "name": "testTimeStarted",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 688,
                    "name": "response",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 689,
                    "name": "page",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 690,
                    "name": ".branch",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 691,
                    "name": "submitted",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 68,
                    "parentVariable": null
                }
            ],
            "sourceWizard": null,
            "sourceWizardName": null,
            "sourceWizardTest": null,
            "sourceWizardTestName": null,
            "updatedOn": "2019-02-06 14:34:56",
            "updatedBy": "admin",
            "nodes": [],
            "nodesConnections": [],
            "tags": "",
            "owner": null,
            "groups": "",
            "starterContent": true,
            "hash": "70a9124e66fbf255bb0d84c5991fd01192297fcc"
        }
    ]
}