{
    "version": "5.0.beta.9.1",
    "collection": [
        {
            "class_name": "ViewTemplate",
            "id": 20,
            "name": "form",
            "description": "",
            "accessibility": 0,
            "archived": "0",
            "head": "",
            "css": "",
            "js": "testRunner.controllerProvider.register(\"form\", function($scope) {\n  $scope.fields = angular.fromJson(testRunner.R.fields);\n  $scope.values = angular.fromJson(testRunner.R.initialValues);\n  if(typeof $scope.values === 'undefined' || $scope.values === null) $scope.values = {};\n\n  $scope.getValidator = function(field, type) {\n    for(var i=0; i<field.validation.length; i++) {\n      var validation = field.validation[i];\n      if(validation.type === type) {\n        return validation;\n      }\n    }\n    return null;\n  };\n\n  function initializeValues() {\n    for(var i=0; i<$scope.fields.length; i++) {\n      var field = $scope.fields[i];\n      \n      switch(field.type) {\n        case \"checkbox\": {\n          if(typeof $scope.values[field.name] === 'undefined') { $scope.values[field.name] = 0; }\n          testRunner.addExtraControl(field.name, function() {\n            return $scope.values[field.name];\n          });\n          break;\n        }\n        default: {\n          if(typeof $scope.values[field.name] === 'undefined') { $scope.values[field.name] = \"\"; }\n        }\n      }\n    }\n  }\n\n  initializeValues();\n});",
            "html": "<form name=\"form\" ng-controller=\"form\">\n  <div ng-repeat=\"field in fields track by $index\">\n    <div class=\"form-label\">[[field.label]]<\/div>\n\n    <div class=\"form-field\" ng-switch=\"field.type\">\n      <div ng-switch-when=\"singleLine\">\n        <input name=\"[[field.name]]\" ng-max=\"getValidator(field, 'max').value\" ng-maxlength=\"getValidator(field, 'maxlength').value\" ng-min=\"getValidator(field, 'min').value\" ng-minlength=\"getValidator(field, 'minlength').value\" ng-model=\"values[field.name]\" ng-pattern=\"getValidator(field, 'pattern').value\" ng-required=\"getValidator(field, 'required')\" type=\"text\" \/>\n      <\/div>\n      \n      <div ng-switch-when=\"password\">\n        <input name=\"[[field.name]]\" ng-max=\"getValidator(field, 'max').value\" ng-maxlength=\"getValidator(field, 'maxlength').value\" ng-min=\"getValidator(field, 'min').value\" ng-minlength=\"getValidator(field, 'minlength').value\" ng-model=\"values[field.name]\" ng-pattern=\"getValidator(field, 'pattern').value\" ng-required=\"getValidator(field, 'required')\" type=\"password\" \/>\n      <\/div>\n\n      <div ng-switch-when=\"multiLine\"><textarea name=\"[[field.name]]\" ng-max=\"getValidator(field, 'max').value\" ng-maxlength=\"getValidator(field, 'maxlength').value\" ng-min=\"getValidator(field, 'min').value\" ng-minlength=\"getValidator(field, 'minlength').value\" ng-model=\"values[field.name]\" ng-pattern=\"getValidator(field, 'pattern').value\" ng-required=\"getValidator(field, 'required')\"><\/textarea><\/div>\n\n      <div ng-switch-when=\"checkbox\"><input name=\"[[field.name]]\" ng-false-value=\"'0'\" ng-model=\"values[field.name]\" ng-required=\"getValidator(field, 'required')\" ng-true-value=\"'1'\" type=\"checkbox\" \/><\/div>\n    <\/div>\n\n    <div class=\"form-error\" ng-repeat=\"error in field.validation\" ng-show=\"form[field.name].$error[error.type] &amp;&amp; form[field.name].$dirty\">[[error.alert]]<\/div>\n  <\/div>\n  <button name=\"submit\" ng-disabled=\"!form.$valid\">submit<\/button><\/form>\n",
            "updatedOn": "2019-02-11 13:54:42",
            "updatedBy": "admin",
            "owner": null,
            "groups": "",
            "starterContent": true,
            "hash": "e061bd6f611594700d47b73539b579d7330e2c06"
        }
    ]
}