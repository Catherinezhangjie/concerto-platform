version: 5.0.beta.10.1
collection:
  -
    class_name: ViewTemplate
    id: 9
    name: itemOptions
    description: ''
    accessibility: 2
    archived: '0'
    head: ''
    css: |
      .item-options-response {
        display: table;
      }
      
      .item-options-response-radio-cell {
        display: table-cell;
      }
      
      .item-options-response-label-cell {
        display: table-cell;
      }
    js: |
      testRunner.compileProvider.component('itemOptions', {
        templateUrl: testRunner.settings.directory + "ViewTemplate/itemOptions/content?css=1,html=1",
        bindings: {
          item: '=',
          response: '=',
          responseRequired: "<"
        },
        controller: function controller($scope) {
          $scope.item = this.item;
          $scope.response = this.response;
          $scope.responseRequired = this.responseRequired;
        }
      });
    html: |
      <div class="item-options-response" ng-repeat="option in item.responseOptions.options track by $index">
      	<div class="item-options-response-radio-cell">
      		<input id="r[[item.id]]-[[option.value]]" name="r[[item.id]]" ng-model="response.value" ng-required="responseRequired" ng-value="option.value" type="radio" />
      	</div>
      	<div class="item-options-response-label-cell">
      		<label for="r[[item.id]]-[[option.value]]" ng-bind-html="option.label">&nbsp;</label>
      	</div>
      </div>
    groups: ''
    starterContent: true
    hash: 03fb8deb4ee2ba74e11d255918b6857ffd5a9933
  -
    class_name: ViewTemplate
    id: 7
    name: itemOpen
    description: ''
    accessibility: 2
    archived: '0'
    head: ''
    css: ''
    js: |
      testRunner.compileProvider.component('itemOpen', {
        templateUrl: testRunner.settings.directory + "ViewTemplate/itemOpen/content?css=1,html=1",
        bindings: {
          item: '=',
          response: '=',
          responseRequired: '<'
        },
        controller: function controller($scope) {
          $scope.item = this.item;
          $scope.response = this.response;
          $scope.responseRequired = this.responseRequired;
        }
      });
    html: '<input name="r[[item.id]]" ng-model="response.value" ng-required="responseRequired" type="text" />'
    groups: ''
    starterContent: true
    hash: d018b13d13789362163cbf45df9dd0acaf6fe074
  -
    class_name: ViewTemplate
    id: 3
    name: form
    description: ''
    accessibility: 2
    archived: '0'
    head: ''
    css: ''
    js: |
      testRunner.controllerProvider.register("form", function($scope) {
        $scope.fields = angular.fromJson(testRunner.R.fields);
        $scope.values = angular.fromJson(testRunner.R.initialValues);
        if(typeof $scope.values === 'undefined' || $scope.values === null) $scope.values = {};
      
        $scope.getValidator = function(field, type) {
          for(var i=0; i<field.validation.length; i++) {
            var validation = field.validation[i];
            if(validation.type === type) {
              return validation;
            }
          }
          return null;
        };
      
        function initializeValues() {
          for(var i=0; i<$scope.fields.length; i++) {
            var field = $scope.fields[i];
            
            switch(field.type) {
              case "checkbox": {
                if(typeof $scope.values[field.name] === 'undefined') { $scope.values[field.name] = 0; }
                testRunner.addExtraControl(field.name, function() {
                  return $scope.values[field.name];
                });
                break;
              }
              default: {
                if(typeof $scope.values[field.name] === 'undefined') { $scope.values[field.name] = ""; }
              }
            }
          }
        }
      
        initializeValues();
      });
      
    html: |
      <form name="form" ng-controller="form">
        <div ng-repeat="field in fields track by $index">
          <div class="form-label">[[field.label]]</div>
      
          <div class="form-field" ng-switch="field.type">
            <div ng-switch-when="singleLine">
              <input name="[[field.name]]" ng-max="getValidator(field, 'max').value" ng-maxlength="getValidator(field, 'maxlength').value" ng-min="getValidator(field, 'min').value" ng-minlength="getValidator(field, 'minlength').value" ng-model="values[field.name]" ng-pattern="getValidator(field, 'pattern').value" ng-required="getValidator(field, 'required')" type="text" />
            </div>
            
            <div ng-switch-when="password">
              <input name="[[field.name]]" ng-max="getValidator(field, 'max').value" ng-maxlength="getValidator(field, 'maxlength').value" ng-min="getValidator(field, 'min').value" ng-minlength="getValidator(field, 'minlength').value" ng-model="values[field.name]" ng-pattern="getValidator(field, 'pattern').value" ng-required="getValidator(field, 'required')" type="password" />
            </div>
      
            <div ng-switch-when="multiLine"><textarea name="[[field.name]]" ng-max="getValidator(field, 'max').value" ng-maxlength="getValidator(field, 'maxlength').value" ng-min="getValidator(field, 'min').value" ng-minlength="getValidator(field, 'minlength').value" ng-model="values[field.name]" ng-pattern="getValidator(field, 'pattern').value" ng-required="getValidator(field, 'required')"></textarea></div>
      
            <div ng-switch-when="checkbox"><input name="[[field.name]]" ng-false-value="'0'" ng-model="values[field.name]" ng-required="getValidator(field, 'required')" ng-true-value="'1'" type="checkbox" /></div>
          </div>
      
          <div class="form-error" ng-repeat="error in field.validation" ng-show="form[field.name].$error[error.type] &amp;&amp; form[field.name].$dirty">[[error.alert]]</div>
        </div>
        <button name="submit" ng-disabled="!form.$valid">submit</button></form>
      
    groups: ''
    starterContent: true
    hash: ec11da51ff747dcf7054e12594edd65211074334
  -
    class_name: ViewTemplate
    id: 2
    name: linearTest
    description: ''
    accessibility: 2
    archived: '0'
    head: ''
    css: |
      .linearTest-error {
      }
      
      .linearTest-timer:empty {
        display: none;
      }
      
    js: |
      testRunner.controllerProvider.register("linearTest", function($scope) {
        $scope.items = testRunner.R.items;
        $scope.canGoBack = testRunner.R.canGoBack == 1;
        $scope.responseRequired = testRunner.R.responseRequired == 1;
        $scope.responseRequiredAlert = testRunner.R.responeRequiredAlert;
        $scope.page = testRunner.R.page;
        $scope.totalPages = testRunner.R.totalPages;
        $scope.pastResponses = testRunner.R.responses;
        $scope.responses = {};
      
        if($scope.pastResponses) {
          for(var i=0;i<$scope.pastResponses.length;i++) {
            var response = $scope.pastResponses[i];
            $scope.responses["r"+response.item_id] = typeof response.response === 'object' ? response.response : { value : response.response };
          }
        }
      
        for(var i=0;i<$scope.items.length;i++) {
          var item = $scope.items[i];
          item.responseOptions = JSON.parse(item.responseOptions);
          $scope.items[i] = item;
          
          if(typeof $scope.responses["r"+item.id] === 'undefined') {
            $scope.responses["r"+item.id] = {};
          }
        }
      });
    html: |
      {{template:itemOpen,css=FALSE,html=FALSE}}
      {{template:itemOptions,css=FALSE,html=FALSE}}
      <form name="form" ng-controller="linearTest">
        <div class="linearTest-timer">[[timeLeft]]</div>
        <div ng-repeat="item in items">
          <div class="linearTest-question" ng-bind-html="item.question"></div>
          <div ng-switch="item.responseOptions.type">
            <item-open item="item" ng-switch-when="open" response="responses['r' + item.id]" response-required="responseRequired"></item-open>
            <item-options item="item" ng-switch-when="options" response="responses['r' + item.id]" response-required="responseRequired"></item-options>
          </div>
          <div class="linearTest-error" ng-show="form.response.$error.required &amp;&amp; form.response.$dirty">[[responseRequiredAlert]]</div>
        </div>
        <button name="back" ng-show="canGoBack">Previous</button><button name="next" ng-disabled="!form.$valid">Next</button>
      </form>
      
    groups: ''
    starterContent: true
    hash: b621f66d00938eaf3736abd1b4581ffb351f6e72
  -
    class_name: ViewTemplate
    id: 1
    name: CAT
    description: ''
    accessibility: 2
    archived: '0'
    head: ''
    css: |
      .CAT-timer:empty {
        display: none;
      }
      
    js: |
      testRunner.controllerProvider.register("CAT", function($scope) {
        $scope.item = testRunner.R.item;
        $scope.responseRequired = testRunner.R.responseRequired == 1;
        $scope.responseRequiredAlert = testRunner.R.responseRequiredAlert;
        
        $scope.response = {};
      });
      
    html: |
      {{template:itemOpen,css=FALSE,html=FALSE}}
      {{template:itemOptions,css=FALSE,html=FALSE}}
      
      <form name="form" ng-controller="CAT">
      	<div class="CAT-timer">[[timeLeft]]</div>
      	<div class="CAT-question" ng-bind-html="item.question"></div>
      	<div ng-switch="item.responseOptions.type">
      		<item-open item="item" ng-switch-when="open" response="response" response-required="responseRequired"></item-open>
      		<item-options item="item" ng-switch-when="options" response="response" response-required="responseRequired"></item-options>
      	</div>
      	<div class="CAT-error" ng-show="form.response.$error.required &amp;&amp; form.response.$dirty">[[responseRequiredAlert]]</div>
      	<button name="submit" ng-disabled="!form.$valid">submit</button>
      </form>
      
    groups: ''
    starterContent: true
    hash: 39b7766440a454c1452f7a69e1cd90b6afeac536
  -
    class_name: DataTable
    id: 9
    name: translationDictionary
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: entryKey
        type: string
        nullable: false
      -
        name: en
        type: text
        nullable: false
      -
        name: de
        type: text
        nullable: false
      -
        name: es
        type: text
        nullable: false
      -
        name: fr
        type: text
        nullable: false
      -
        name: zh
        type: text
        nullable: false
    groups: ''
    starterContent: true
    hash: 4ffe389d37c5aeb9e635029a10021caed5e19b88
  -
    class_name: DataTable
    id: 6
    name: linearTestResponses
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: item_id
        type: bigint
        nullable: false
      -
        name: response
        type: string
        nullable: false
      -
        name: timeTaken
        type: float
        nullable: false
      -
        name: session_id
        type: string
        nullable: false
      -
        name: score
        type: float
        nullable: false
      -
        name: trait
        type: string
        nullable: false
    groups: ''
    starterContent: true
    hash: 6a88eea42660caedf519c69a254dac3be29df919
  -
    class_name: DataTable
    id: 5
    name: linearTestItems
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: question
        type: text
        nullable: false
      -
        name: responseOptions
        type: text
        nullable: false
      -
        name: orderIndex
        type: integer
        nullable: false
      -
        name: trait
        type: string
        nullable: false
    groups: ''
    starterContent: true
    hash: d8dc5520a7a9bd7499e86807e55799fceb3cf131
  -
    class_name: DataTable
    id: 4
    name: CATItems
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: question
        type: text
        nullable: false
      -
        name: responseOptions
        type: text
        nullable: false
      -
        name: a
        type: float
        nullable: false
      -
        name: b
        type: float
        nullable: false
      -
        name: c
        type: float
        nullable: false
      -
        name: d
        type: float
        nullable: false
      -
        name: correct
        type: string
        nullable: false
      -
        name: cbGroup
        type: text
        nullable: false
      -
        name: fixedIndex
        type: integer
        nullable: false
    groups: ''
    starterContent: true
    hash: 36e58046aa3a53e580471659368b34331f4b9dc2
  -
    class_name: DataTable
    id: 3
    name: CATResponses
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: item_id
        type: bigint
        nullable: false
      -
        name: response
        type: string
        nullable: false
      -
        name: timeTaken
        type: float
        nullable: false
      -
        name: session_id
        type: string
        nullable: false
      -
        name: correct
        type: boolean
        nullable: false
      -
        name: theta
        type: float
        nullable: false
      -
        name: sem
        type: float
        nullable: false
    groups: ''
    starterContent: true
    hash: 19091d0035ceb9d977976912c93e30382952936b
  -
    class_name: DataTable
    id: 2
    name: sessions
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: internal_id
        type: bigint
        nullable: false
      -
        name: test_id
        type: bigint
        nullable: false
      -
        name: user_id
        type: bigint
        nullable: false
      -
        name: startedTime
        type: datetime
        nullable: false
      -
        name: updateTime
        type: datetime
        nullable: false
      -
        name: finished
        type: boolean
        nullable: false
    groups: ''
    starterContent: true
    hash: 947e8c07e96e04045f8763bbfe4abe26366b26d5
  -
    class_name: DataTable
    id: 1
    name: users
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: login
        type: string
        nullable: false
      -
        name: password
        type: string
        nullable: false
      -
        name: enabled
        type: boolean
        nullable: false
    groups: ''
    starterContent: true
    hash: e2ba936fe247f4aed6496c984f4479b276c0936c
  -
    class_name: Test
    id: 1
    name: _showPage
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getTemplateParams = function(templateParams) {
        if(!is.list(templateParams)) {
          templateParams = list()
        }
        for(.name in .dynamicInputs) {
          templateParams[[.name]] = get(.name)
        }
        return(templateParams)
      }
      
      response = concerto5:::concerto.template.show(
        template=template, 
        html=if(!is.null(html) && !is.na(html) && html != "") {html} else {""},
        params=getTemplateParams(templateParams), 
        timeLimit=if(!is.na(timeLimit)) { as.numeric(timeLimit) } else { 0 }
      )
      
      for(.name in .dynamicReturns) {
        assign(.name, response[[.name]])
      }
      if(".branch" %in% .dynamicReturns) {
        .branch = response$buttonPressed
        if(!(.branch %in% .dynamicBranches)) { .branch = "out" }
      }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 1
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 2
        name: template
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 3
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 4
        name: timeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 5
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 6
        name: html
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 1
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 3046c8b60b023b25b3421d54019fcd174985c013
  -
    class_name: TestWizard
    id: 1
    name: showPage
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 1
        title: Template
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 1
        params:
          -
            class_name: TestWizardParam
            id: 1
            label: 'View Template'
            description: 'Select which template should be shown by this node'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: ''
            testVariable: 2
            name: template
            wizardStep: 1
            stepTitle: Template
            order: 0
            wizard: 1
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 2
            label: 'Time limit'
            description: 'Specify how long the selected Page or HTML should be shown for, in seconds. 0&nbsp;= page does not expire.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 4
            name: timeLimit
            wizardStep: 1
            stepTitle: Template
            order: 2
            wizard: 1
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 3
            label: HTML
            description: 'Directly input HTML to be shown by this node. This field will be ignored if a template has been selected above.'
            hideCondition: ''
            type: 2
            passableThroughUrl: '0'
            value: ''
            testVariable: 6
            name: html
            wizardStep: 1
            stepTitle: Template
            order: 1
            wizard: 1
            definition:
              placeholder: 0
              defvalue: ''
    test: 1
    groups: ''
    starterContent: true
    hash: 84f3a68f3dd674fff9915c703d7e8cc0fd04fa5d
  -
    class_name: Test
    id: 2
    name: showPage
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Shows page to user.'
    variables:
      -
        class_name: TestVariable
        id: 7
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 2
        parentVariable: 1
      -
        class_name: TestVariable
        id: 8
        name: template
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 2
        parentVariable: 2
      -
        class_name: TestVariable
        id: 9
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 2
        parentVariable: 3
      -
        class_name: TestVariable
        id: 10
        name: timeLimit
        type: 0
        description: 'Time limit in seconds.'
        passableThroughUrl: '0'
        value: '0'
        test: 2
        parentVariable: 4
      -
        class_name: TestVariable
        id: 11
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 2
        parentVariable: 5
      -
        class_name: TestVariable
        id: 12
        name: html
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 2
        parentVariable: 6
    sourceWizard: 1
    sourceWizardTest: 1
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: b3571dce506cfb498df80d87f4c11d716855e622
  -
    class_name: Test
    id: 3
    name: _setInternalTemplates
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      if(!is.list(params)) {
        params = list()
      }
      for(.name in .dynamicInputs) {
        params[[.name]] = get(.name)
      }
      
      if(!is.na(loaderTemplate)) {
        concerto.template.loader(loaderTemplate, params=params)
      }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 13
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 3
        parentVariable: null
      -
        class_name: TestVariable
        id: 14
        name: loaderTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 3
        parentVariable: null
      -
        class_name: TestVariable
        id: 15
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 3
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 2e7d6c28b4325218e382e2a8ef2dbb7ac09e92a8
  -
    class_name: TestWizard
    id: 2
    name: setInternalTemplates
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 2
        title: 'Internal Templates'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 2
        params:
          -
            class_name: TestWizardParam
            id: 4
            label: 'Loader template'
            description: 'Select which template to use for the loading page. This page is shown after the user submits a page and before the next page is loaded.'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: ''
            testVariable: 14
            name: loaderTemplate
            wizardStep: 2
            stepTitle: 'Internal Templates'
            order: 0
            wizard: 2
            definition:
              placeholder: 0
              defvalue: ''
    test: 3
    groups: ''
    starterContent: true
    hash: 359acec776c7df990114faa837b82d405812d4f8
  -
    class_name: Test
    id: 4
    name: setInternalTemplates
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Sets templates to use for internal Concerto Platform pages. E.g. loading template.'
    variables:
      -
        class_name: TestVariable
        id: 16
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 4
        parentVariable: 13
      -
        class_name: TestVariable
        id: 17
        name: loaderTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 4
        parentVariable: 14
      -
        class_name: TestVariable
        id: 18
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 4
        parentVariable: 15
    sourceWizard: 2
    sourceWizardTest: 3
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: eb8258d1a18c7a76c5e5f6d06786b9cb08f774d0
  -
    class_name: Test
    id: 5
    name: _authorizeUser
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      library(digest)
      
      resultCode = 0
      getUserByLogin = function(login) {
        if(userBankType == "direct") {
          userList = fromJSON(userBankList)
          if(length(userList) == 0) {
            resultCode <<- 1
            return(NULL)
          }
      
          for(i in 1:length(userList)) {
            user = userList[[i]]
            if(user$login == login && user$enabled == 1) {
              return(user)
            }
          }
          resultCode <<- 1
          return(NULL)
        } else {
          tableMap = fromJSON(userBankTable)
          sql = "
      SELECT * 
      FROM {{table}} 
      WHERE 
      {{loginColumn}}='{{login}}'
      AND {{enabledColumn}}=1
      "
          user = concerto.table.query(sql, params=list(
            table=tableMap$table,
            loginColumn=tableMap$columns$login,
            enabledColumn=tableMap$columns$enabled,
            login=login
          ))
          if(dim(user)[1] == 0) {
            resultCode <<- 1
            return(NULL)
          }
          return(user[1,])
        }
      }
      
      checkPassword = function(rawPassword, encryptedPassword, encryption) {
        if(is.na(encryptedPassword) || encryptedPassword == "") { return(T) }
        if(is.na(rawPassword)) { return(F) }
        if(encryption=="plain") {
          return(rawPassword == encryptedPassword)
        }
        return(digest(rawPassword, encryption, serialize=F) == encryptedPassword)
      }
      
      authorizeUser = function(login, password) {
        user = getUserByLogin(login)
        concerto.log(login, "login checked")
        concerto.log(password, "password checked")
        concerto.log(user, "user checked for password")
        
        if(!is.null(user) && checkPassword(password, user$password, userBankEncryption)) {
          return(user)
        }
        resultCode <<- 1
        return(NULL)
      }
      
      user = authorizeUser(login, password)
      if(is.null(user)) {
        concerto.log(paste0("user ",login," unauthorized"), title="authorization result")
        .branch = "unauthorized"
      } else {
        concerto.log(paste0("user ",login," authorized"), title="authorization result")
        .branch = "authorized"
      }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 19
        name: authorized
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 20
        name: login
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 21
        name: password
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 22
        name: unauthorized
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 23
        name: user
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 24
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 25
        name: userBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 26
        name: userBankList
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 27
        name: userBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 28
        name: userBankEncryption
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 29
        name: resultCode
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 4c325e561050b96782fdf813825c6ea3e74b09ad
  -
    class_name: TestWizard
    id: 3
    name: authorizeUser
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 3
        title: 'User Bank'
        description: 'User bank settings'
        orderNum: 0
        colsNum: 0
        wizard: 3
        params:
          -
            class_name: TestWizardParam
            id: 5
            label: Type
            description: |
              Select where to get user information from:
              <ul>
              	<li><b>Direct</b>&nbsp;- user bank is declared at node level</li>
              	<li><strong>Table</strong> - user bank is taken from data table</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: direct
            testVariable: 25
            name: userBankType
            wizardStep: 3
            stepTitle: 'User Bank'
            order: 0
            wizard: 3
            definition:
              placeholder: 0
              options:
                -
                  value: direct
                  label: Direct
                -
                  value: table
                  label: Table
              defvalue: direct
          -
            class_name: TestWizardParam
            id: 6
            label: 'User list'
            description: 'Directly input a list of users for authorisation'
            hideCondition: 'values.userBankType != "direct"'
            type: 10
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 26
            name: userBankList
            wizardStep: 3
            stepTitle: 'User Bank'
            order: 1
            wizard: 3
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: id
                      label: Id
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: login
                      label: Login
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: password
                      label: Password
                      definition:
                        placeholder: 0
                    -
                      type: 4
                      name: enabled
                      label: Enabled
                      definition:
                        placeholder: 0
                        defvalue: '1'
          -
            class_name: TestWizardParam
            id: 7
            label: 'Password encryption'
            description: |
              <p>Choose which hashing algorithm to apply&nbsp;to user&nbsp;passwords:</p>
              
              <ul>
              	<li><strong>md5</strong></li>
              	<li><strong>sha1</strong></li>
              	<li><strong>crc32</strong></li>
              	<li><strong>sha256</strong></li>
              	<li><strong>sha512</strong></li>
              	<li><strong>xxhash32</strong></li>
              	<li><strong>xxhash64</strong></li>
              	<li><strong>murmur32</strong></li>
              	<li><strong>plain</strong></li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: plain
            testVariable: 28
            name: userBankEncryption
            wizardStep: 3
            stepTitle: 'User Bank'
            order: 0
            wizard: 3
            definition:
              placeholder: 0
              options:
                -
                  value: md5
                  label: md5
                  order: 1
                -
                  value: sha1
                  label: sha1
                  order: 2
                -
                  value: crc32
                  label: crc32
                  order: 3
                -
                  value: sha256
                  label: sha256
                  order: 4
                -
                  value: sha512
                  label: sha512
                  order: 5
                -
                  value: xxhash32
                  label: xxhash32
                  order: 6
                -
                  value: xxhash64
                  label: xxhash64
                  order: 7
                -
                  value: murmur32
                  label: murmur32
                  order: 8
                -
                  value: plain
                  label: plain
                  order: 0
              defvalue: plain
          -
            class_name: TestWizardParam
            id: 8
            label: 'User table'
            description: 'Map columns in data table to user bank'
            hideCondition: 'values.userBankType != "table"'
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 27
            name: userBankTable
            wizardStep: 3
            stepTitle: 'User Bank'
            order: 1
            wizard: 3
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: login
                  label: Login
                  tooltip: ''
                -
                  name: password
                  label: Password
                  tooltip: ''
                -
                  name: enabled
                  label: Enabled
                  tooltip: ''
    test: 5
    groups: ''
    starterContent: true
    hash: be613b8457c1580f3240e484b45fa2c8bcd1feca
  -
    class_name: Test
    id: 6
    name: authorizeUser
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'User authorization.'
    variables:
      -
        class_name: TestVariable
        id: 30
        name: authorized
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 6
        parentVariable: 19
      -
        class_name: TestVariable
        id: 31
        name: login
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 20
      -
        class_name: TestVariable
        id: 32
        name: password
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 21
      -
        class_name: TestVariable
        id: 33
        name: unauthorized
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 22
      -
        class_name: TestVariable
        id: 34
        name: user
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 23
      -
        class_name: TestVariable
        id: 35
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 24
      -
        class_name: TestVariable
        id: 36
        name: userBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 6
        parentVariable: 25
      -
        class_name: TestVariable
        id: 37
        name: userBankList
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 6
        parentVariable: 26
      -
        class_name: TestVariable
        id: 38
        name: userBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"users","columns":{"id":"id","login":"login","password":"password","enabled":"enabled"}}'
        test: 6
        parentVariable: 27
      -
        class_name: TestVariable
        id: 39
        name: userBankEncryption
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: plain
        test: 6
        parentVariable: 28
      -
        class_name: TestVariable
        id: 40
        name: resultCode
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 29
    sourceWizard: 3
    sourceWizardTest: 5
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 6d1cad24812a846de73ba050584d907ed0b3718d
  -
    class_name: Test
    id: 7
    name: _createUser
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      library(digest)
      
      formatFields = function(login, password, userBankEncryption, enabled, extraFields) {
        fields = list(
          login=login,
          password=password,
          enabled=enabled
        )
        if(userBankEncryption != "plain") {
          fields$password = digest(password, userBankEncryption, serialize=F)
        }
        if(is.list(extraFields)) {
          for(name in ls(extraFields)) {
            fields[[name]] = extraFields[[name]]
          }
        }
        return(fields)
      }
      
      checkLoginExist = function(login, tableMap) {
        sql = "
      SELECT * FROM {{table}} 
      WHERE {{loginColumn}}='{{login}}'
      "
        user = concerto.table.query(sql, params=list(
          table=tableMap$table,
          loginColumn=tableMap$columns$login,
          login=login
        ))
      
        return(dim(user)[1]>0)
      }
      
      getMappedColumns = function(fieldNames, tableMap) {
        cols = c()
        for(i in 1:length(fieldNames)) {
          col = tableMap$columns[[fieldNames[i]]]
          if(!is.null(col)) {
            cols=c(cols,col)
            next
          }
          cols=c(cols,fieldNames[i])
        }
        return(cols)
      }
      
      insertUser = function(fields, tableMap) {
        sql = paste0(
          "INSERT INTO {{table}} (",
          paste(getMappedColumns(ls(fields), tableMap), collapse=","),
          ") VALUES (",
          paste0("'{{",ls(fields),"}}'", collapse=","),
          ")"
        )
        concerto.table.query(sql, params=append(fields, list(
          table=tableMap$table
        )))
        userId = concerto.table.lastInsertId()
        concerto.log(userId, title="new user id")
      
        sql="SELECT * FROM {{table}} WHERE {{idColumn}}={{id}}"
        user=concerto.table.query(sql,params=list(
          table=tableMap$table,
          idColumn=tableMap$columns$id,
          id=userId
        ))
        concerto.log(user, title="inserted user")
        return(user)
      }
      
      user=NULL
      if(is.na(password)) { password = "" }
      tableMap = fromJSON(userBankTable)
      fields = formatFields(login, password, userBankEncryption, enabled, extraFields)
      if(checkLoginExist(login, tableMap)) {
        concerto.log(login, title="login already exist")
        .branch = "loginAlreadyExist"
      } else {
        concerto.log(login, title="login doesn't exist and can be created")
        user=insertUser(fields, tableMap)
        .branch = "created"
      }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 41
        name: created
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 42
        name: userBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 43
        name: login
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 44
        name: password
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 45
        name: enabled
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 46
        name: loginAlreadyExist
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 47
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 48
        name: user
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 49
        name: userBankEncryption
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 50
        name: extraFields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: bab9cdf774e7a6ec1e6019a76ee3306d4421afa3
  -
    class_name: TestWizard
    id: 4
    name: createUser
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 4
        title: 'User Bank'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 4
        params:
          -
            class_name: TestWizardParam
            id: 9
            label: 'User table'
            description: 'User bank column mapping'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 42
            name: userBankTable
            wizardStep: 4
            stepTitle: 'User Bank'
            order: 1
            wizard: 4
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: login
                  label: Login
                  tooltip: ''
                -
                  name: password
                  label: Password
                  tooltip: ''
                -
                  name: enabled
                  label: Enabled
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 10
            label: 'Password encryption'
            description: |
              <p>Select which hashing algorithm to apply to users&#39; passwords:</p>
              
              <ul>
              	<li><strong>md5</strong></li>
              	<li><strong>sha1</strong></li>
              	<li><strong>crc32</strong></li>
              	<li><strong>sha256</strong></li>
              	<li><strong>sha512</strong></li>
              	<li><strong>xxhash32</strong></li>
              	<li><strong>xxhash64</strong></li>
              	<li><strong>murmur32</strong></li>
              	<li><strong>plain</strong></li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: plain
            testVariable: 49
            name: userBankEncryption
            wizardStep: 4
            stepTitle: 'User Bank'
            order: 0
            wizard: 4
            definition:
              placeholder: 0
              options:
                -
                  value: md5
                  label: md5
                  order: 1
                -
                  value: sha1
                  label: sha1
                  order: 2
                -
                  value: crc32
                  label: crc32
                  order: 3
                -
                  value: sha256
                  label: sha256
                  order: 4
                -
                  value: sha512
                  label: sha512
                  order: 5
                -
                  value: xxhash32
                  label: xxhash32
                  order: 6
                -
                  value: xxhash64
                  label: xxhash64
                  order: 7
                -
                  value: murmur32
                  label: murmur32
                  order: 8
                -
                  value: plain
                  label: plain
                  order: 0
              defvalue: plain
    test: 7
    groups: ''
    starterContent: true
    hash: 2197d36e83b1c4fbd17941fe6207aebed52d9d08
  -
    class_name: Test
    id: 8
    name: createUser
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'User creation.'
    variables:
      -
        class_name: TestVariable
        id: 51
        name: created
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 8
        parentVariable: 41
      -
        class_name: TestVariable
        id: 52
        name: userBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"users","columns":{"id":"id","login":"login","password":"password","enabled":"enabled"}}'
        test: 8
        parentVariable: 42
      -
        class_name: TestVariable
        id: 53
        name: login
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 43
      -
        class_name: TestVariable
        id: 54
        name: password
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 44
      -
        class_name: TestVariable
        id: 55
        name: enabled
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 8
        parentVariable: 45
      -
        class_name: TestVariable
        id: 56
        name: loginAlreadyExist
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 46
      -
        class_name: TestVariable
        id: 57
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 47
      -
        class_name: TestVariable
        id: 58
        name: user
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 48
      -
        class_name: TestVariable
        id: 59
        name: userBankEncryption
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: plain
        test: 8
        parentVariable: 49
      -
        class_name: TestVariable
        id: 60
        name: extraFields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 50
    sourceWizard: 4
    sourceWizardTest: 7
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 962b85712681044305b646950d9c87312c85dcef
  -
    class_name: Test
    id: 9
    name: _startSession
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      concerto.log(user, "user")
      
      formatFields = function(user, extraFields) {
        userId = 0
        if(!is.null(user) && !is.na(user)) { userId=user$id }
        fields = list(
          user_id=userId,
          internal_id=concerto$session$id, 
          test_id=concerto$mainTest$id,
          startedTime=Sys.time(),
          updateTime=Sys.time(),
          finished=0
        )
        if(is.list(extraFields)) {
          for(name in ls(extraFields)) {
            fields[[name]] = extraFields[[name]]
          }
        }
        return(fields)
      }
      
      getMappedColumns = function(fieldNames, tableMap) {
        cols = c()
        for(i in 1:length(fieldNames)) {
          col = tableMap$columns[[fieldNames[i]]]
          if(!is.null(col)) {
            cols=c(cols,col)
            next
          }
          cols=c(cols,fieldNames[i])
        }
        return(cols)
      }
      
      insertSession = function(fields, tableMap) {
        sqlColumns = paste(getMappedColumns(ls(fields), tableMap), collapse=",")
        sqlValues = paste0("'{{",ls(fields),"}}'", collapse=",")
        sql = paste0("INSERT INTO {{table}} (",sqlColumns,") VALUES (",sqlValues,")")
        concerto.table.query(sql, params=append(fields, list(
          table=tableMap$table
        )))
        id = concerto.table.lastInsertId()
      
        sql = "SELECT * FROM {{table}} WHERE {{idColumn}}={{id}}"
        session = concerto.table.query(sql, params=list(
          table=tableMap$table,
          idColumn=tableMap$columns$id,
          id=id
        ))
        if(dim(session)[1] > 0) {
          return(session[1,])
        }
        return(NULL)
      }
      
      resumeSession = function(user, tableMap) {
        if(is.null(user)) { return(NULL) }
      
        session = concerto.table.query("
      SELECT * FROM {{table}} 
      WHERE 
      {{testIdColumn}} = {{testId}} AND 
      {{userIdColumn}} = '{{userId}}' AND 
      {{finishedColumn}} = 0 
      ORDER BY id DESC", params=list(
          table=tableMap$table, 
          testIdColumn=tableMap$columns$test_id, 
          testId=concerto$mainTest$id, 
          userIdColumn=tableMap$columns$user_id, 
          userId=user$id,
          finishedColumn=tableMap$columns$finished
        ), n=1)
        if(dim(session)[1] == 0) {
          return(NULL)
        }
        
        session = as.list(session)
        session$previousInternal_id = session$internal_id
        session$internal_id = concerto$session$id
      
        timeLimit = as.numeric(resumableExpiration)
        if(timeLimit > 0) {
          timeDiff = as.numeric(Sys.time()) - as.numeric(strptime(session$updateTime, "%Y-%m-%d %H:%M:%S"))
          if(timeDiff > timeLimit) {
            concerto.log("session resume time limit exceeded")
            return(NULL)
          }
        }
      
        concerto.table.query("
      UPDATE {{table}} 
      SET 
      {{internalIdColumn}}='{{internal_id}}', 
      {{updateTimeColumn}}=CURRENT_TIMESTAMP 
      WHERE id={{id}}", params=list(
          table=tableMap$table,
          internalIdColumn=tableMap$columns$internal_id,
          internal_id=concerto$session$id,
          id=session$id,
          updateTimeColumn=tableMap$columns$updateTime
        ))
      
        return(session)
      }
      
      fields = formatFields(user, extraFields)
      concerto.log(fields, "fields")
      tableMap = fromJSON(sessionBankTable)
      
      session = NULL
      if(resumable == 1) {
        session = resumeSession(user, tableMap)
        if(!is.null(session)) {
          hash = concerto.table.query("SELECT hash FROM TestSession WHERE id={{id}}", list(id=session$previousInternal_id))
          concerto.log(hash, "resuming session...")
          if(!concerto.session.unserialize(hash=hash)) {
            	session = NULL
          }
        }
      }
      if(is.null(session)) {
      	session = insertSession(fields, tableMap)
      }
      concerto.log(session, "session")
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 61
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 62
        name: extraFields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 63
        name: user
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 64
        name: sessionBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 65
        name: session
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 66
        name: resumable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 67
        name: resumableExpiration
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 3b7087801513f73470b21f08578916122affbd87
  -
    class_name: TestWizard
    id: 5
    name: startSession
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 5
        title: Session
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 5
        params:
          -
            class_name: TestWizardParam
            id: 11
            label: Table
            description: 'Specify where to save session information'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 64
            name: sessionBankTable
            wizardStep: 5
            stepTitle: Session
            order: 0
            wizard: 5
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: internal_id
                  label: 'Internal id'
                  tooltip: ''
                -
                  name: user_id
                  label: 'User id'
                  tooltip: ''
                -
                  name: test_id
                  label: 'Test id'
                  tooltip: ''
                -
                  name: startedTime
                  label: 'Started time'
                  tooltip: ''
                -
                  name: updateTime
                  label: 'Update time'
                  tooltip: ''
                -
                  name: finished
                  label: Finished
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 12
            label: 'Resumable expiration'
            description: 'Specify the length of time (in seconds) for which the session should be resumable. <strong>0</strong>&nbsp;= session does not expire.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 67
            name: resumableExpiration
            wizardStep: 5
            stepTitle: Session
            order: 2
            wizard: 5
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 13
            label: 'Resumable?'
            description: 'Check box to make the session resumable'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 66
            name: resumable
            wizardStep: 5
            stepTitle: Session
            order: 1
            wizard: 5
            definition:
              placeholder: 0
              defvalue: '0'
    test: 9
    groups: ''
    starterContent: true
    hash: bf5a012ee16b9aa07173ad07ea8ed487ac949894
  -
    class_name: Test
    id: 10
    name: startSession
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Start session.'
    variables:
      -
        class_name: TestVariable
        id: 68
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 10
        parentVariable: 61
      -
        class_name: TestVariable
        id: 69
        name: extraFields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 10
        parentVariable: 62
      -
        class_name: TestVariable
        id: 70
        name: user
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 10
        parentVariable: 63
      -
        class_name: TestVariable
        id: 71
        name: sessionBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"sessions","columns":{"id":"id","internal_id":"internal_id","user_id":"user_id","test_id":"test_id","updateTime":"updateTime","finished":"finished","startedTime":"startedTime"}}'
        test: 10
        parentVariable: 64
      -
        class_name: TestVariable
        id: 72
        name: session
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 10
        parentVariable: 65
      -
        class_name: TestVariable
        id: 73
        name: resumable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 10
        parentVariable: 66
      -
        class_name: TestVariable
        id: 74
        name: resumableExpiration
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 10
        parentVariable: 67
    sourceWizard: 5
    sourceWizardTest: 9
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 1a5e57703c48e4d0ea4b732269c205d8003ff2ef
  -
    class_name: Test
    id: 11
    name: set
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      for(.name in .dynamicInputs) {
        c.set(.name, get(.name), posOffset = -1)
      }
      
    description: 'Promote variables. Use dynamic inputs to declare which variables you want to promote.'
    variables:
      -
        class_name: TestVariable
        id: 75
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 11
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 220802aed8e79f2f5ea653740139ccdd5bbecd03
  -
    class_name: Test
    id: 12
    name: _runTest
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      if(!is.list(params)) {
        params = list()
      }
      for(name in .dynamicInputs) {
        value = get(name)
        if(is.null(value)) {
          params[name] = list(NULL)
        } else {
          params[[name]] = value
        }
      }
      
      results = concerto5:::concerto.test.run(test, params=params)
      for(name in .dynamicReturns) {
        assign(name, results[[name]])
      }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 76
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 12
        parentVariable: null
      -
        class_name: TestVariable
        id: 77
        name: test
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 12
        parentVariable: null
      -
        class_name: TestVariable
        id: 78
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 12
        parentVariable: null
      -
        class_name: TestVariable
        id: 79
        name: results
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 12
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 63637f9a713c8d0282fe8583c48e60f70d9e7955
  -
    class_name: TestWizard
    id: 6
    name: runTest
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 6
        title: Test
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 6
        params:
          -
            class_name: TestWizardParam
            id: 14
            label: 'Run Test'
            description: 'Select which test you would like this node to run'
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: ''
            testVariable: 77
            name: test
            wizardStep: 6
            stepTitle: Test
            order: 0
            wizard: 6
            definition:
              defvalue: ''
              placeholder: 0
    test: 12
    groups: ''
    starterContent: true
    hash: cedb2bba7fe654acaa6f9608cf1a653b3e16b12d
  -
    class_name: Test
    id: 13
    name: runTest
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Run other test.'
    variables:
      -
        class_name: TestVariable
        id: 80
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 13
        parentVariable: 76
      -
        class_name: TestVariable
        id: 81
        name: test
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 13
        parentVariable: 77
      -
        class_name: TestVariable
        id: 82
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 13
        parentVariable: 78
      -
        class_name: TestVariable
        id: 83
        name: results
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 13
        parentVariable: 79
    sourceWizard: 6
    sourceWizardTest: 12
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 9e6d68b997f89eb35c8b49a83ee83a958557778c
  -
    class_name: Test
    id: 14
    name: if
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      .branch = "false"
      if(expression) { .branch = "true" }
      
    description: '<strong>If</strong>&nbsp;expression.'
    variables:
      -
        class_name: TestVariable
        id: 84
        name: 'true'
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 14
        parentVariable: null
      -
        class_name: TestVariable
        id: 85
        name: expression
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 14
        parentVariable: null
      -
        class_name: TestVariable
        id: 86
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 14
        parentVariable: null
      -
        class_name: TestVariable
        id: 87
        name: 'false'
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 14
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 9eebe7e6b8d4d0a02059e05e769b3b3e3f1f60b5
  -
    class_name: Test
    id: 15
    name: eval
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: 'result = eval(parse(text=code))'
    description: 'Evaluate R code.'
    variables:
      -
        class_name: TestVariable
        id: 88
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 15
        parentVariable: null
      -
        class_name: TestVariable
        id: 89
        name: code
        type: 0
        description: 'Code value is expected to be text.'
        passableThroughUrl: '0'
        value: null
        test: 15
        parentVariable: null
      -
        class_name: TestVariable
        id: 90
        name: result
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 15
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 984026c495f333a2bfe3a8c2fb31dcd8e7b60507
  -
    class_name: Test
    id: 16
    name: get
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      for(.name in .dynamicReturns) {
        assign(.name, c.get(.name, posOffset = -1))
      }
      
    description: 'Gets promoted variables values. Use dynamic returns to declare which variables you want to get.'
    variables: {  }
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 5d1fcfde5ab036fc807cee14333758eccfd0649a
  -
    class_name: Test
    id: 17
    name: _CATInitialization
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getItems = function(itemBankType, itemBankItems, itemBankTable){
        items = NULL
        if(itemBankType == "table") {
          tableMap = fromJSON(itemBankTable)
          table = tableMap$table
          questionColumn = tableMap$columns$question
          responseOptionsColumn = tableMap$columns$responseOptions
          aColumn = tableMap$columns$a
          bColumn = tableMap$columns$b
          cColumn = tableMap$columns$c
          dColumn = tableMap$columns$d
          correctColumn = tableMap$columns$correct
          cbGroupColumn = tableMap$columns$cbGroup
          fixedIndexColumn = tableMap$columns$fixedIndex
          items = concerto.table.query(
            "
      SELECT 
      id, 
      {{questionColumn}} AS question, 
      {{responseOptionsColumn}} AS responseOptions,
      {{aColumn}} AS a,
      {{bColumn}} AS b,
      {{cColumn}} AS c,
      {{dColumn}} AS d,
      {{correctColumn}} AS correct,
      {{cbGroupColumn}} AS cbGroup,
      {{fixedIndexColumn}} AS fixedIndex
      FROM {{table}}
      ", 
            list(
              questionColumn=questionColumn,
              responseOptionsColumn=responseOptionsColumn,
              aColumn=aColumn,
              bColumn=bColumn,
              cColumn=cColumn,
              dColumn=dColumn,
              correctColumn=correctColumn,
              cbGroupColumn=cbGroupColumn,
              fixedIndexColumn=fixedIndexColumn,
              table=table
            ))
        }
        if(itemBankType == "direct") {
          itemBankItems = fromJSON(itemBankItems)
          if(length(itemBankItems) > 0) {
            for(i in 1:length(itemBankItems)) {
              itemBankItems[[i]]$responseOptions = as.character(toJSON(itemBankItems[[i]]$responseOptions)) #response options don't fit into flat table, so turn them back to JSON.
              items = rbind(items, data.frame(itemBankItems[[i]], stringsAsFactors=F))
            }
          }
        } 
        
        if(dim(items)[1] == 0) { stop("Item bank must not be empty!") }
        return(items)
      }
      
      items = getItems(settings$itemBankType, settings$itemBankItems, settings$itemBankTable)
      itemsNum = dim(items)[1]
      
      cbGroup = NULL
      cbControl = NULL
      cbProps = fromJSON(settings$contentBalancing)
      concerto.log(cbProps, "cbProps")
      if(length(cbProps) > 0) {
        cbGroup = as.character(items[,"cbGroup"])
        cbControl = list(
          names=NULL,
          props=NULL
        )
        
        for(i in 1:length(cbProps)) {
          cbControl$names = c(cbControl$names, cbProps[[i]]$name)
          cbControl$props = c(cbControl$props, as.numeric(cbProps[[i]]$proportion))
        }
        concerto.log(cbControl, "cbControl")
      }
      
      paramBank = items[,c("a","b","c","d"),drop=F]
      paramBank = apply(paramBank, 2, as.numeric)
      
      theta = as.numeric(settings$startingTheta)
      itemsAdministered = NULL
      correctness = NULL
      testTimeStarted = as.numeric(Sys.time())
      testTimeLeft = as.numeric(settings$testTimeLimit) + as.numeric(settings$testTimeLimitOffset)
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 91
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 92
        name: items
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 93
        name: cbGroup
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 94
        name: cbControl
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 95
        name: paramBank
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 96
        name: theta
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 97
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 98
        name: correctness
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 99
        name: testTimeStarted
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 100
        name: testTimeLeft
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 101
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: de8d25da6702e6c2818ba6c2a058a5bc93712e24
  -
    class_name: Test
    id: 18
    name: _CATShowItem
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getTemplateParams = function(itemSafe, templateParams, responseRequired, responseRequiredAlert) {
        templateParams$item = itemSafe
        templateParams$responseRequired = responseRequired
        templateParams$responseRequiredAlert = responseRequiredAlert
      
        return(templateParams)
      }
      
      getTimeLimit = function(testTimeStarted, testTimeLimit, itemTimeLimit) {
        limit = 0
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = 0
        if(testTimeLimit > 0) {
          testTimeLeft = max(testTimeLimit - startedAgo, 1)
          limit = testTimeLeft
        }
        if(itemTimeLimit > 0) {
          if(limit > 0) {
            limit = min(limit, itemTimeLimit)
          } else {
            limit = itemTimeLimit
          }
        }
        return(limit)
      }
      
      if(!concerto.template.isResponseQueued()) {
        params = getTemplateParams(itemSafe, templateParams, settings$responseRequired, settings$responseRequiredAlert)
        if(settings$itemTemplateParamsModule != "") {
          params = concerto.test.run(settings$itemTemplateParamsModule, params=list(
            params = params,
            item = item
          ))$params
        }
      }
      
      response = concerto.template.show(
        settings$itemTemplate, 
        params=params, 
        timeLimit=getTimeLimit(
          testTimeStarted, 
          as.numeric(settings$testTimeLimit), 
          as.numeric(settings$itemTimeLimit)
        )
      )
      
      .branch = "submitted"
      if(response$isTimeout == 1) { .branch = "outOfTime" }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 102
        name: submitted
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 103
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 104
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 105
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 106
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 107
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 108
        name: outOfTime
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 109
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 110
        name: itemSafe
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 111
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 04266fa93d1239e1e7f6fb70a29dce2aa78dd918
  -
    class_name: Test
    id: 19
    name: createList
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      result = list()
      if(is.list(sourceList)) {
        result = sourceList
      }
      for(.name in .dynamicInputs) {
          result[.name] = list(get(.name))
      }
      
    description: 'List creation. Dynamic inputs will be used as list elements (input name as list key, input value as list value).'
    variables:
      -
        class_name: TestVariable
        id: 112
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 19
        parentVariable: null
      -
        class_name: TestVariable
        id: 113
        name: sourceList
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 19
        parentVariable: null
      -
        class_name: TestVariable
        id: 114
        name: result
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 19
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 4a7cb888e6f59b12d67542fc02ed8fc87fa56b65
  -
    class_name: Test
    id: 20
    name: _CAT
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 2
    code: null
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 115
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 116
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 117
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 118
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 119
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 120
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 121
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 122
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 123
        name: contentBalancing
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 124
        name: startingTheta
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 125
        name: nextItemCriterion
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: MFI
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 126
        name: nextItemRandomesque
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 127
        name: scoringMethod
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: BM
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 128
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 129
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 130
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 131
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 132
        name: minAccuracy
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 133
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 134
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 135
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 136
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 137
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 138
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 139
        name: sem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 140
        name: theta
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
      -
        class_name: TestVariable
        id: 492
        name: itemTemplateParamsModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 20
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes:
      -
        class_name: TestNode
        id: 31
        title: ''
        type: 1
        posX: 14369
        posY: 14742
        flowTest: 20
        sourceTest: 20
        sourceTestName: _CAT
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 366
            value: direct
            node: 31
            variable: 116
            variableObject:
              class_name: TestVariable
              id: 116
              name: itemBankType
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: direct
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemBankType
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 367
            value: '[]'
            node: 31
            variable: 117
            variableObject:
              class_name: TestVariable
              id: 117
              name: itemBankItems
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '[]'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemBankItems
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 368
            value: null
            node: 31
            variable: 118
            variableObject:
              class_name: TestVariable
              id: 118
              name: itemBankTable
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemBankTable
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 369
            value: '0'
            node: 31
            variable: 119
            variableObject:
              class_name: TestVariable
              id: 119
              name: testTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 370
            value: '0'
            node: 31
            variable: 120
            variableObject:
              class_name: TestVariable
              id: 120
              name: itemTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 371
            value: '0'
            node: 31
            variable: 121
            variableObject:
              class_name: TestVariable
              id: 121
              name: itemTimeFullRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 372
            value: '0'
            node: 31
            variable: 122
            variableObject:
              class_name: TestVariable
              id: 122
              name: testTimeLimitOffset
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 373
            value: '[]'
            node: 31
            variable: 123
            variableObject:
              class_name: TestVariable
              id: 123
              name: contentBalancing
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '[]'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: contentBalancing
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 374
            value: '0'
            node: 31
            variable: 124
            variableObject:
              class_name: TestVariable
              id: 124
              name: startingTheta
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: startingTheta
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 375
            value: MFI
            node: 31
            variable: 125
            variableObject:
              class_name: TestVariable
              id: 125
              name: nextItemCriterion
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: MFI
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: nextItemCriterion
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 376
            value: '1'
            node: 31
            variable: 126
            variableObject:
              class_name: TestVariable
              id: 126
              name: nextItemRandomesque
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '1'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: nextItemRandomesque
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 377
            value: BM
            node: 31
            variable: 127
            variableObject:
              class_name: TestVariable
              id: 127
              name: scoringMethod
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: BM
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: scoringMethod
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 378
            value: null
            node: 31
            variable: 128
            variableObject:
              class_name: TestVariable
              id: 128
              name: responseBank
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: responseBank
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 379
            value: null
            node: 31
            variable: 129
            variableObject:
              class_name: TestVariable
              id: 129
              name: itemTemplate
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemTemplate
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 380
            value: null
            node: 31
            variable: 130
            variableObject:
              class_name: TestVariable
              id: 130
              name: session
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 381
            value: '0'
            node: 31
            variable: 131
            variableObject:
              class_name: TestVariable
              id: 131
              name: itemNumLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 382
            value: '1'
            node: 31
            variable: 132
            variableObject:
              class_name: TestVariable
              id: 132
              name: minAccuracy
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '1'
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: minAccuracy
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 383
            value: null
            node: 31
            variable: 133
            variableObject:
              class_name: TestVariable
              id: 133
              name: nextItemSelectorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: nextItemSelectorModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 384
            value: null
            node: 31
            variable: 134
            variableObject:
              class_name: TestVariable
              id: 134
              name: scoringModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: scoringModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 385
            value: null
            node: 31
            variable: 135
            variableObject:
              class_name: TestVariable
              id: 135
              name: responseProcessorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseProcessorModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 386
            value: null
            node: 31
            variable: 136
            variableObject:
              class_name: TestVariable
              id: 136
              name: statusCheckModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: statusCheckModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 387
            value: null
            node: 31
            variable: 137
            variableObject:
              class_name: TestVariable
              id: 137
              name: responseRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 388
            value: null
            node: 31
            variable: 138
            variableObject:
              class_name: TestVariable
              id: 138
              name: responseRequiredAlert
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequiredAlert
            pointer: '0'
            pointerVariable: responseRequiredAlert
          -
            class_name: TestNodePort
            id: 950
            value: null
            node: 31
            variable: 492
            variableObject:
              class_name: TestVariable
              id: 492
              name: itemTemplateParamsModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTemplateParamsModule
            pointer: '0'
            pointerVariable: itemTemplateParamsModule
      -
        class_name: TestNode
        id: 32
        title: ''
        type: 2
        posX: 16736
        posY: 15739
        flowTest: 20
        sourceTest: 20
        sourceTestName: _CAT
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 389
            value: null
            node: 32
            variable: 139
            variableObject:
              class_name: TestVariable
              id: 139
              name: sem
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: sem
            pointer: '1'
            pointerVariable: sem
          -
            class_name: TestNodePort
            id: 390
            value: null
            node: 32
            variable: 140
            variableObject:
              class_name: TestVariable
              id: 140
              name: theta
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 20
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: theta
            pointer: '1'
            pointerVariable: theta
      -
        class_name: TestNode
        id: 33
        title: ''
        type: 0
        posX: 15254
        posY: 15084
        flowTest: 20
        sourceTest: 17
        sourceTestName: _CATInitialization
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 391
            value: '0'
            node: 33
            variable: 91
            variableObject:
              class_name: TestVariable
              id: 91
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 392
            value: null
            node: 33
            variable: 92
            variableObject:
              class_name: TestVariable
              id: 92
              name: items
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 393
            value: null
            node: 33
            variable: 93
            variableObject:
              class_name: TestVariable
              id: 93
              name: cbGroup
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: cbGroup
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 394
            value: null
            node: 33
            variable: 94
            variableObject:
              class_name: TestVariable
              id: 94
              name: cbControl
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: cbControl
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 395
            value: null
            node: 33
            variable: 95
            variableObject:
              class_name: TestVariable
              id: 95
              name: paramBank
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: paramBank
            pointer: '1'
            pointerVariable: paramBank
          -
            class_name: TestNodePort
            id: 396
            value: null
            node: 33
            variable: 96
            variableObject:
              class_name: TestVariable
              id: 96
              name: theta
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: theta
            pointer: '1'
            pointerVariable: theta
          -
            class_name: TestNodePort
            id: 397
            value: null
            node: 33
            variable: 97
            variableObject:
              class_name: TestVariable
              id: 97
              name: itemsAdministered
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 398
            value: null
            node: 33
            variable: 98
            variableObject:
              class_name: TestVariable
              id: 98
              name: correctness
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: correctness
            pointer: '1'
            pointerVariable: correctness
          -
            class_name: TestNodePort
            id: 399
            value: null
            node: 33
            variable: 99
            variableObject:
              class_name: TestVariable
              id: 99
              name: testTimeStarted
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 400
            value: null
            node: 33
            variable: 100
            variableObject:
              class_name: TestVariable
              id: 100
              name: testTimeLeft
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 401
            value: null
            node: 33
            variable: 101
            variableObject:
              class_name: TestVariable
              id: 101
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 17
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 34
        title: ''
        type: 0
        posX: 16073
        posY: 15132
        flowTest: 20
        sourceTest: 18
        sourceTestName: _CATShowItem
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 402
            value: '0'
            node: 34
            variable: 102
            variableObject:
              class_name: TestVariable
              id: 102
              name: submitted
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: submitted
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 403
            value: null
            node: 34
            variable: 103
            variableObject:
              class_name: TestVariable
              id: 103
              name: item
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 404
            value: c.getDynamicInputs()
            node: 34
            variable: 104
            variableObject:
              class_name: TestVariable
              id: 104
              name: templateParams
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: templateParams
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 405
            value: null
            node: 34
            variable: 105
            variableObject:
              class_name: TestVariable
              id: 105
              name: testTimeStarted
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 406
            value: null
            node: 34
            variable: 106
            variableObject:
              class_name: TestVariable
              id: 106
              name: testTimeLeft
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 407
            value: null
            node: 34
            variable: 107
            variableObject:
              class_name: TestVariable
              id: 107
              name: response
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 408
            value: null
            node: 34
            variable: 108
            variableObject:
              class_name: TestVariable
              id: 108
              name: outOfTime
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: outOfTime
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 409
            value: null
            node: 34
            variable: 109
            variableObject:
              class_name: TestVariable
              id: 109
              name: .branch
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 410
            value: null
            node: 34
            variable: 110
            variableObject:
              class_name: TestVariable
              id: 110
              name: itemSafe
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: itemSafe
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 411
            value: null
            node: 34
            variable: 111
            variableObject:
              class_name: TestVariable
              id: 111
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 18
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 35
        title: 'next item selector module'
        type: 0
        posX: 15673
        posY: 15113
        flowTest: 20
        sourceTest: 13
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 412
            value: ''
            node: 35
            variable: 81
            variableObject:
              class_name: TestVariable
              id: 81
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 77
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 413
            value: null
            node: 35
            variable: 82
            variableObject:
              class_name: TestVariable
              id: 82
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 78
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 414
            value: null
            node: 35
            variable: 83
            variableObject:
              class_name: TestVariable
              id: 83
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 79
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 415
            value: '0'
            node: 35
            variable: 80
            variableObject:
              class_name: TestVariable
              id: 80
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 13
              parentVariable: 76
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 416
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: cbControl
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 417
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: cbGroup
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 418
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 419
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: paramBank
            pointer: '1'
            pointerVariable: paramBank
          -
            class_name: TestNodePort
            id: 420
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: theta
            pointer: '1'
            pointerVariable: theta
          -
            class_name: TestNodePort
            id: 421
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItem
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 422
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 423
            value: 'NULL'
            node: 35
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 424
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemSafe
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 425
            value: ''
            node: 35
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 36
        title: 'scoring module'
        type: 0
        posX: 16490
        posY: 15129
        flowTest: 20
        sourceTest: 13
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 426
            value: ''
            node: 36
            variable: 81
            variableObject:
              class_name: TestVariable
              id: 81
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 77
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 427
            value: null
            node: 36
            variable: 82
            variableObject:
              class_name: TestVariable
              id: 82
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 78
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 428
            value: null
            node: 36
            variable: 83
            variableObject:
              class_name: TestVariable
              id: 83
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 79
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 429
            value: '0'
            node: 36
            variable: 80
            variableObject:
              class_name: TestVariable
              id: 80
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 13
              parentVariable: 76
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '0'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 430
            value: 'NULL'
            node: 36
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: correctness
            pointer: '1'
            pointerVariable: correctness
          -
            class_name: TestNodePort
            id: 431
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 432
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 433
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: paramBank
            pointer: '1'
            pointerVariable: paramBank
          -
            class_name: TestNodePort
            id: 434
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 435
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: correct
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 436
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: incorrect
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 437
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 438
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: correct
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 439
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: correctness
            pointer: '1'
            pointerVariable: correctness
          -
            class_name: TestNodePort
            id: 440
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: sem
            pointer: '1'
            pointerVariable: sem
          -
            class_name: TestNodePort
            id: 441
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: theta
            pointer: '1'
            pointerVariable: theta
          -
            class_name: TestNodePort
            id: 442
            value: 'NULL'
            node: 36
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 443
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 444
            value: ''
            node: 36
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
      -
        class_name: TestNode
        id: 37
        title: 'response processor module'
        type: 0
        posX: 16910
        posY: 15135
        flowTest: 20
        sourceTest: 13
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 445
            value: ''
            node: 37
            variable: 81
            variableObject:
              class_name: TestVariable
              id: 81
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 77
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 446
            value: null
            node: 37
            variable: 82
            variableObject:
              class_name: TestVariable
              id: 82
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 78
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 447
            value: null
            node: 37
            variable: 83
            variableObject:
              class_name: TestVariable
              id: 83
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 79
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 448
            value: '0'
            node: 37
            variable: 80
            variableObject:
              class_name: TestVariable
              id: 80
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 13
              parentVariable: 76
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 449
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: correct
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 450
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 451
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 452
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: sem
            pointer: '1'
            pointerVariable: sem
          -
            class_name: TestNodePort
            id: 453
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 454
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: theta
            pointer: '1'
            pointerVariable: theta
          -
            class_name: TestNodePort
            id: 455
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: responseId
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 456
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 457
            value: 'NULL'
            node: 37
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 458
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 459
            value: ''
            node: 37
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemIndex
            pointer: '1'
            pointerVariable: itemIndex
      -
        class_name: TestNode
        id: 38
        title: 'status check module'
        type: 0
        posX: 16251
        posY: 15699
        flowTest: 20
        sourceTest: 13
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 460
            value: ''
            node: 38
            variable: 81
            variableObject:
              class_name: TestVariable
              id: 81
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 77
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 461
            value: null
            node: 38
            variable: 82
            variableObject:
              class_name: TestVariable
              id: 82
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 78
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 462
            value: null
            node: 38
            variable: 83
            variableObject:
              class_name: TestVariable
              id: 83
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 79
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 463
            value: '0'
            node: 38
            variable: 80
            variableObject:
              class_name: TestVariable
              id: 80
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 13
              parentVariable: 76
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '0'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 464
            value: ''
            node: 38
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: sem
            pointer: '1'
            pointerVariable: sem
          -
            class_name: TestNodePort
            id: 465
            value: ''
            node: 38
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 466
            value: ''
            node: 38
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: continue
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 467
            value: ''
            node: 38
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: stop
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 468
            value: ''
            node: 38
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 469
            value: 'NULL'
            node: 38
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 470
            value: ''
            node: 38
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 471
            value: ''
            node: 38
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 472
            value: ''
            node: 38
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
      -
        class_name: TestNode
        id: 39
        title: 'create settings'
        type: 0
        posX: 14816
        posY: 14740
        flowTest: 20
        sourceTest: 19
        sourceTestName: createList
        sourceTestDescription: 'List creation. Dynamic inputs will be used as list elements (input name as list key, input value as list value).'
        ports:
          -
            class_name: TestNodePort
            id: 473
            value: null
            node: 39
            variable: 113
            variableObject:
              class_name: TestVariable
              id: 113
              name: sourceList
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 19
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: sourceList
            pointer: '0'
            pointerVariable: sourceList
          -
            class_name: TestNodePort
            id: 474
            value: null
            node: 39
            variable: 114
            variableObject:
              class_name: TestVariable
              id: 114
              name: result
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 19
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: result
            pointer: '0'
            pointerVariable: result
          -
            class_name: TestNodePort
            id: 475
            value: '0'
            node: 39
            variable: 112
            variableObject:
              class_name: TestVariable
              id: 112
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 19
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 476
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: contentBalancing
            pointer: '0'
            pointerVariable: contentBalancing
          -
            class_name: TestNodePort
            id: 477
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankItems
            pointer: '0'
            pointerVariable: itemBankItems
          -
            class_name: TestNodePort
            id: 478
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankTable
            pointer: '0'
            pointerVariable: itemBankTable
          -
            class_name: TestNodePort
            id: 479
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankType
            pointer: '0'
            pointerVariable: itemBankType
          -
            class_name: TestNodePort
            id: 480
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: itemNumLimit
          -
            class_name: TestNodePort
            id: 481
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTemplate
            pointer: '0'
            pointerVariable: itemTemplate
          -
            class_name: TestNodePort
            id: 482
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: itemTimeFullRequired
          -
            class_name: TestNodePort
            id: 483
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: itemTimeLimit
          -
            class_name: TestNodePort
            id: 484
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: minAccuracy
            pointer: '0'
            pointerVariable: minAccuracy
          -
            class_name: TestNodePort
            id: 485
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: nextItemCriterion
            pointer: '0'
            pointerVariable: nextItemCriterion
          -
            class_name: TestNodePort
            id: 486
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: nextItemRandomesque
            pointer: '0'
            pointerVariable: nextItemRandomesque
          -
            class_name: TestNodePort
            id: 487
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseBank
            pointer: '0'
            pointerVariable: responseBank
          -
            class_name: TestNodePort
            id: 488
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: scoringMethod
            pointer: '0'
            pointerVariable: scoringMethod
          -
            class_name: TestNodePort
            id: 489
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: startingTheta
            pointer: '0'
            pointerVariable: startingTheta
          -
            class_name: TestNodePort
            id: 490
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: testTimeLimit
          -
            class_name: TestNodePort
            id: 491
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: testTimeLimitOffset
          -
            class_name: TestNodePort
            id: 492
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 493
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequiredAlert
            pointer: '0'
            pointerVariable: responseRequiredAlert
          -
            class_name: TestNodePort
            id: 951
            value: ''
            node: 39
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTemplateParamsModule
            pointer: '0'
            pointerVariable: itemTemplateParamsModule
      -
        class_name: TestNode
        id: 40
        title: 'set settings'
        type: 0
        posX: 15155
        posY: 14762
        flowTest: 20
        sourceTest: 11
        sourceTestName: set
        sourceTestDescription: 'Promote variables. Use dynamic inputs to declare which variables you want to promote.'
        ports:
          -
            class_name: TestNodePort
            id: 494
            value: '0'
            node: 40
            variable: 75
            variableObject:
              class_name: TestVariable
              id: 75
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 11
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 495
            value: ''
            node: 40
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '0'
            pointerVariable: settings
    nodesConnections:
      -
        class_name: TestNodeConnection
        id: 127
        flowTest: 20
        sourceNode: 31
        sourcePort: null
        sourcePortObject: null
        destinationNode: 39
        destinationPort: null
        destinationPortObject: null
        returnFunction: ''
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 128
        flowTest: 20
        sourceNode: 31
        sourcePort: 367
        sourcePortObject:
          class_name: TestNodePort
          id: 367
          value: '[]'
          node: 31
          variable: 117
          variableObject:
            class_name: TestVariable
            id: 117
            name: itemBankItems
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '[]'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemBankItems
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 477
        destinationPortObject:
          class_name: TestNodePort
          id: 477
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankItems
          pointer: '0'
          pointerVariable: itemBankItems
        returnFunction: itemBankItems
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 129
        flowTest: 20
        sourceNode: 31
        sourcePort: 368
        sourcePortObject:
          class_name: TestNodePort
          id: 368
          value: null
          node: 31
          variable: 118
          variableObject:
            class_name: TestVariable
            id: 118
            name: itemBankTable
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemBankTable
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 478
        destinationPortObject:
          class_name: TestNodePort
          id: 478
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankTable
          pointer: '0'
          pointerVariable: itemBankTable
        returnFunction: itemBankTable
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 130
        flowTest: 20
        sourceNode: 31
        sourcePort: 366
        sourcePortObject:
          class_name: TestNodePort
          id: 366
          value: direct
          node: 31
          variable: 116
          variableObject:
            class_name: TestVariable
            id: 116
            name: itemBankType
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: direct
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemBankType
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 479
        destinationPortObject:
          class_name: TestNodePort
          id: 479
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankType
          pointer: '0'
          pointerVariable: itemBankType
        returnFunction: itemBankType
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 131
        flowTest: 20
        sourceNode: 31
        sourcePort: 373
        sourcePortObject:
          class_name: TestNodePort
          id: 373
          value: '[]'
          node: 31
          variable: 123
          variableObject:
            class_name: TestVariable
            id: 123
            name: contentBalancing
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '[]'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: contentBalancing
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 476
        destinationPortObject:
          class_name: TestNodePort
          id: 476
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: contentBalancing
          pointer: '0'
          pointerVariable: contentBalancing
        returnFunction: contentBalancing
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 132
        flowTest: 20
        sourceNode: 31
        sourcePort: 374
        sourcePortObject:
          class_name: TestNodePort
          id: 374
          value: '0'
          node: 31
          variable: 124
          variableObject:
            class_name: TestVariable
            id: 124
            name: startingTheta
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: startingTheta
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 489
        destinationPortObject:
          class_name: TestNodePort
          id: 489
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: startingTheta
          pointer: '0'
          pointerVariable: startingTheta
        returnFunction: startingTheta
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 133
        flowTest: 20
        sourceNode: 34
        sourcePort: 408
        sourcePortObject:
          class_name: TestNodePort
          id: 408
          value: null
          node: 34
          variable: 108
          variableObject:
            class_name: TestVariable
            id: 108
            name: outOfTime
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 18
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: outOfTime
          pointer: '0'
          pointerVariable: ''
        destinationNode: 36
        destinationPort: null
        destinationPortObject: null
        returnFunction: outOfTime
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 134
        flowTest: 20
        sourceNode: 34
        sourcePort: 402
        sourcePortObject:
          class_name: TestNodePort
          id: 402
          value: '0'
          node: 34
          variable: 102
          variableObject:
            class_name: TestVariable
            id: 102
            name: submitted
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 18
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: submitted
          pointer: '0'
          pointerVariable: ''
        destinationNode: 36
        destinationPort: null
        destinationPortObject: null
        returnFunction: submitted
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 135
        flowTest: 20
        sourceNode: 31
        sourcePort: 369
        sourcePortObject:
          class_name: TestNodePort
          id: 369
          value: '0'
          node: 31
          variable: 119
          variableObject:
            class_name: TestVariable
            id: 119
            name: testTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 490
        destinationPortObject:
          class_name: TestNodePort
          id: 490
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: testTimeLimit
        returnFunction: testTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 136
        flowTest: 20
        sourceNode: 31
        sourcePort: 372
        sourcePortObject:
          class_name: TestNodePort
          id: 372
          value: '0'
          node: 31
          variable: 122
          variableObject:
            class_name: TestVariable
            id: 122
            name: testTimeLimitOffset
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 491
        destinationPortObject:
          class_name: TestNodePort
          id: 491
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: testTimeLimitOffset
        returnFunction: testTimeLimitOffset
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 137
        flowTest: 20
        sourceNode: 33
        sourcePort: 391
        sourcePortObject:
          class_name: TestNodePort
          id: 391
          value: '0'
          node: 33
          variable: 91
          variableObject:
            class_name: TestVariable
            id: 91
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 17
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 35
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 138
        flowTest: 20
        sourceNode: 33
        sourcePort: 394
        sourcePortObject:
          class_name: TestNodePort
          id: 394
          value: null
          node: 33
          variable: 94
          variableObject:
            class_name: TestVariable
            id: 94
            name: cbControl
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 17
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: cbControl
          pointer: '0'
          pointerVariable: ''
        destinationNode: 35
        destinationPort: 416
        destinationPortObject:
          class_name: TestNodePort
          id: 416
          value: ''
          node: 35
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: cbControl
          pointer: '0'
          pointerVariable: ''
        returnFunction: cbControl
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 139
        flowTest: 20
        sourceNode: 33
        sourcePort: 393
        sourcePortObject:
          class_name: TestNodePort
          id: 393
          value: null
          node: 33
          variable: 93
          variableObject:
            class_name: TestVariable
            id: 93
            name: cbGroup
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 17
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: cbGroup
          pointer: '0'
          pointerVariable: ''
        destinationNode: 35
        destinationPort: 417
        destinationPortObject:
          class_name: TestNodePort
          id: 417
          value: ''
          node: 35
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: cbGroup
          pointer: '0'
          pointerVariable: ''
        returnFunction: cbGroup
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 140
        flowTest: 20
        sourceNode: 35
        sourcePort: 415
        sourcePortObject:
          class_name: TestNodePort
          id: 415
          value: '0'
          node: 35
          variable: 80
          variableObject:
            class_name: TestVariable
            id: 80
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 13
            parentVariable: 76
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 34
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 141
        flowTest: 20
        sourceNode: 36
        sourcePort: 435
        sourcePortObject:
          class_name: TestNodePort
          id: 435
          value: ''
          node: 36
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: correct
          pointer: '0'
          pointerVariable: ''
        destinationNode: 37
        destinationPort: null
        destinationPortObject: null
        returnFunction: correct
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 142
        flowTest: 20
        sourceNode: 36
        sourcePort: 436
        sourcePortObject:
          class_name: TestNodePort
          id: 436
          value: ''
          node: 36
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: incorrect
          pointer: '0'
          pointerVariable: ''
        destinationNode: 37
        destinationPort: null
        destinationPortObject: null
        returnFunction: incorrect
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 143
        flowTest: 20
        sourceNode: 36
        sourcePort: 438
        sourcePortObject:
          class_name: TestNodePort
          id: 438
          value: ''
          node: 36
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: correct
          pointer: '0'
          pointerVariable: ''
        destinationNode: 37
        destinationPort: 449
        destinationPortObject:
          class_name: TestNodePort
          id: 449
          value: ''
          node: 37
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: correct
          pointer: '0'
          pointerVariable: ''
        returnFunction: correct
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 144
        flowTest: 20
        sourceNode: 37
        sourcePort: 448
        sourcePortObject:
          class_name: TestNodePort
          id: 448
          value: '0'
          node: 37
          variable: 80
          variableObject:
            class_name: TestVariable
            id: 80
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 13
            parentVariable: 76
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 38
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 145
        flowTest: 20
        sourceNode: 38
        sourcePort: 466
        sourcePortObject:
          class_name: TestNodePort
          id: 466
          value: ''
          node: 38
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: continue
          pointer: '0'
          pointerVariable: ''
        destinationNode: 35
        destinationPort: null
        destinationPortObject: null
        returnFunction: continue
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 146
        flowTest: 20
        sourceNode: 38
        sourcePort: 467
        sourcePortObject:
          class_name: TestNodePort
          id: 467
          value: ''
          node: 38
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: stop
          pointer: '0'
          pointerVariable: ''
        destinationNode: 32
        destinationPort: null
        destinationPortObject: null
        returnFunction: stop
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 147
        flowTest: 20
        sourceNode: 31
        sourcePort: 383
        sourcePortObject:
          class_name: TestNodePort
          id: 383
          value: null
          node: 31
          variable: 133
          variableObject:
            class_name: TestVariable
            id: 133
            name: nextItemSelectorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: nextItemSelectorModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 35
        destinationPort: 412
        destinationPortObject:
          class_name: TestNodePort
          id: 412
          value: ''
          node: 35
          variable: 81
          variableObject:
            class_name: TestVariable
            id: 81
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 13
            parentVariable: 77
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: nextItemSelectorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 148
        flowTest: 20
        sourceNode: 31
        sourcePort: 384
        sourcePortObject:
          class_name: TestNodePort
          id: 384
          value: null
          node: 31
          variable: 134
          variableObject:
            class_name: TestVariable
            id: 134
            name: scoringModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: scoringModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 36
        destinationPort: 426
        destinationPortObject:
          class_name: TestNodePort
          id: 426
          value: ''
          node: 36
          variable: 81
          variableObject:
            class_name: TestVariable
            id: 81
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 13
            parentVariable: 77
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: scoringModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 149
        flowTest: 20
        sourceNode: 31
        sourcePort: 385
        sourcePortObject:
          class_name: TestNodePort
          id: 385
          value: null
          node: 31
          variable: 135
          variableObject:
            class_name: TestVariable
            id: 135
            name: responseProcessorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseProcessorModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 37
        destinationPort: 445
        destinationPortObject:
          class_name: TestNodePort
          id: 445
          value: ''
          node: 37
          variable: 81
          variableObject:
            class_name: TestVariable
            id: 81
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 13
            parentVariable: 77
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: responseProcessorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 150
        flowTest: 20
        sourceNode: 31
        sourcePort: 386
        sourcePortObject:
          class_name: TestNodePort
          id: 386
          value: null
          node: 31
          variable: 136
          variableObject:
            class_name: TestVariable
            id: 136
            name: statusCheckModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: statusCheckModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 38
        destinationPort: 460
        destinationPortObject:
          class_name: TestNodePort
          id: 460
          value: ''
          node: 38
          variable: 81
          variableObject:
            class_name: TestVariable
            id: 81
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 13
            parentVariable: 77
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: statusCheckModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 151
        flowTest: 20
        sourceNode: 35
        sourcePort: 424
        sourcePortObject:
          class_name: TestNodePort
          id: 424
          value: ''
          node: 35
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: nextItemSafe
          pointer: '0'
          pointerVariable: ''
        destinationNode: 34
        destinationPort: 410
        destinationPortObject:
          class_name: TestNodePort
          id: 410
          value: null
          node: 34
          variable: 110
          variableObject:
            class_name: TestVariable
            id: 110
            name: itemSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 18
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: itemSafe
          pointer: '0'
          pointerVariable: ''
        returnFunction: nextItemSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 152
        flowTest: 20
        sourceNode: 31
        sourcePort: 381
        sourcePortObject:
          class_name: TestNodePort
          id: 381
          value: '0'
          node: 31
          variable: 131
          variableObject:
            class_name: TestVariable
            id: 131
            name: itemNumLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 480
        destinationPortObject:
          class_name: TestNodePort
          id: 480
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: itemNumLimit
        returnFunction: itemNumLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 153
        flowTest: 20
        sourceNode: 31
        sourcePort: 379
        sourcePortObject:
          class_name: TestNodePort
          id: 379
          value: null
          node: 31
          variable: 129
          variableObject:
            class_name: TestVariable
            id: 129
            name: itemTemplate
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemTemplate
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 481
        destinationPortObject:
          class_name: TestNodePort
          id: 481
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTemplate
          pointer: '0'
          pointerVariable: itemTemplate
        returnFunction: itemTemplate
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 154
        flowTest: 20
        sourceNode: 31
        sourcePort: 371
        sourcePortObject:
          class_name: TestNodePort
          id: 371
          value: '0'
          node: 31
          variable: 121
          variableObject:
            class_name: TestVariable
            id: 121
            name: itemTimeFullRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 482
        destinationPortObject:
          class_name: TestNodePort
          id: 482
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: itemTimeFullRequired
        returnFunction: itemTimeFullRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 155
        flowTest: 20
        sourceNode: 31
        sourcePort: 370
        sourcePortObject:
          class_name: TestNodePort
          id: 370
          value: '0'
          node: 31
          variable: 120
          variableObject:
            class_name: TestVariable
            id: 120
            name: itemTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 483
        destinationPortObject:
          class_name: TestNodePort
          id: 483
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: itemTimeLimit
        returnFunction: itemTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 156
        flowTest: 20
        sourceNode: 31
        sourcePort: 382
        sourcePortObject:
          class_name: TestNodePort
          id: 382
          value: '1'
          node: 31
          variable: 132
          variableObject:
            class_name: TestVariable
            id: 132
            name: minAccuracy
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '1'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: minAccuracy
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 484
        destinationPortObject:
          class_name: TestNodePort
          id: 484
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: minAccuracy
          pointer: '0'
          pointerVariable: minAccuracy
        returnFunction: minAccuracy
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 157
        flowTest: 20
        sourceNode: 31
        sourcePort: 375
        sourcePortObject:
          class_name: TestNodePort
          id: 375
          value: MFI
          node: 31
          variable: 125
          variableObject:
            class_name: TestVariable
            id: 125
            name: nextItemCriterion
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: MFI
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: nextItemCriterion
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 485
        destinationPortObject:
          class_name: TestNodePort
          id: 485
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: nextItemCriterion
          pointer: '0'
          pointerVariable: nextItemCriterion
        returnFunction: nextItemCriterion
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 158
        flowTest: 20
        sourceNode: 31
        sourcePort: 376
        sourcePortObject:
          class_name: TestNodePort
          id: 376
          value: '1'
          node: 31
          variable: 126
          variableObject:
            class_name: TestVariable
            id: 126
            name: nextItemRandomesque
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '1'
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: nextItemRandomesque
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 486
        destinationPortObject:
          class_name: TestNodePort
          id: 486
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: nextItemRandomesque
          pointer: '0'
          pointerVariable: nextItemRandomesque
        returnFunction: nextItemRandomesque
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 159
        flowTest: 20
        sourceNode: 31
        sourcePort: 378
        sourcePortObject:
          class_name: TestNodePort
          id: 378
          value: null
          node: 31
          variable: 128
          variableObject:
            class_name: TestVariable
            id: 128
            name: responseBank
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: responseBank
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 487
        destinationPortObject:
          class_name: TestNodePort
          id: 487
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseBank
          pointer: '0'
          pointerVariable: responseBank
        returnFunction: responseBank
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 160
        flowTest: 20
        sourceNode: 31
        sourcePort: 377
        sourcePortObject:
          class_name: TestNodePort
          id: 377
          value: BM
          node: 31
          variable: 127
          variableObject:
            class_name: TestVariable
            id: 127
            name: scoringMethod
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: BM
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: scoringMethod
          pointer: '0'
          pointerVariable: ''
        destinationNode: 39
        destinationPort: 488
        destinationPortObject:
          class_name: TestNodePort
          id: 488
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: scoringMethod
          pointer: '0'
          pointerVariable: scoringMethod
        returnFunction: scoringMethod
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 161
        flowTest: 20
        sourceNode: 39
        sourcePort: 475
        sourcePortObject:
          class_name: TestNodePort
          id: 475
          value: '0'
          node: 39
          variable: 112
          variableObject:
            class_name: TestVariable
            id: 112
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 19
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 40
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 162
        flowTest: 20
        sourceNode: 39
        sourcePort: 474
        sourcePortObject:
          class_name: TestNodePort
          id: 474
          value: null
          node: 39
          variable: 114
          variableObject:
            class_name: TestVariable
            id: 114
            name: result
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 19
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: result
          pointer: '0'
          pointerVariable: result
        destinationNode: 40
        destinationPort: 495
        destinationPortObject:
          class_name: TestNodePort
          id: 495
          value: ''
          node: 40
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: settings
          pointer: '0'
          pointerVariable: settings
        returnFunction: result
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 163
        flowTest: 20
        sourceNode: 40
        sourcePort: 494
        sourcePortObject:
          class_name: TestNodePort
          id: 494
          value: '0'
          node: 40
          variable: 75
          variableObject:
            class_name: TestVariable
            id: 75
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 11
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 33
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 164
        flowTest: 20
        sourceNode: 31
        sourcePort: 387
        sourcePortObject:
          class_name: TestNodePort
          id: 387
          value: null
          node: 31
          variable: 137
          variableObject:
            class_name: TestVariable
            id: 137
            name: responseRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        destinationNode: 39
        destinationPort: 492
        destinationPortObject:
          class_name: TestNodePort
          id: 492
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        returnFunction: responseRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 165
        flowTest: 20
        sourceNode: 31
        sourcePort: 388
        sourcePortObject:
          class_name: TestNodePort
          id: 388
          value: null
          node: 31
          variable: 138
          variableObject:
            class_name: TestVariable
            id: 138
            name: responseRequiredAlert
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        destinationNode: 39
        destinationPort: 493
        destinationPortObject:
          class_name: TestNodePort
          id: 493
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        returnFunction: responseRequiredAlert
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 262
        flowTest: 20
        sourceNode: 31
        sourcePort: 950
        sourcePortObject:
          class_name: TestNodePort
          id: 950
          value: null
          node: 31
          variable: 492
          variableObject:
            class_name: TestVariable
            id: 492
            name: itemTemplateParamsModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 20
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTemplateParamsModule
          pointer: '0'
          pointerVariable: itemTemplateParamsModule
        destinationNode: 39
        destinationPort: 951
        destinationPortObject:
          class_name: TestNodePort
          id: 951
          value: ''
          node: 39
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTemplateParamsModule
          pointer: '0'
          pointerVariable: itemTemplateParamsModule
        returnFunction: itemTemplateParamsModule
        automatic: '0'
        defaultReturnFunction: '1'
    tags: ''
    groups: ''
    starterContent: true
    hash: ccca3d3263d3266f0ae0c2d7192e448f2e781e6e
  -
    class_name: Test
    id: 21
    name: _CATNextItemSelectorModule
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      library(catR)
      
      getSafeItem = function(item) {
        item = as.list(item)
        item$correct = NULL
        
        if(is.character(item$responseOptions)) { item$responseOptions = fromJSON(item$responseOptions) }
        responseOptionsRandomOrder = item$responseOptions$optionsRandomOrder == "1"
        orderedOptions = c()
      
        if(length(item$responseOptions$options) > 0) {
          if(responseOptionsRandomOrder) {
            orderedOptions = item$responseOptions$options[sample(1:length(item$responseOptions$options))]
          } else {
            orderedOptions = item$responseOptions$options
          }
        }
        item$responseOptions$options = orderedOptions
        return(item)
      }
      
      currentIndex = length(itemsAdministered) + 1
      itemsNum = dim(items)[1]
      nextItemIndex = 0
      if(itemsNum > 0) {
        for(i in 1:itemsNum) {
          fixedIndex = items[i,"fixedIndex"]
          if(!is.na(fixedIndex) && !is.null(fixedIndex) && fixedIndex != "" && fixedIndex != 0){
            concerto.log(fixedIndex, "fixedIndex")
            if(fixedIndex == currentIndex) {
              nextItemIndex = i
            } else {
              itemsAdministered = unique(c(itemsAdministered, i))
            }
          }
        }
      }
      
      if(nextItemIndex == 0) {
        concerto.log(itemsAdministered, "out")
        result = nextItem(paramBank, theta=theta, out=itemsAdministered, criterion=settings$nextItemCriterion, method=settings$scoringMethod, randomesque=settings$nextItemRandomesque, cbGroup=cbGroup, cbControl=cbControl)
        nextItemIndex = result$item
      }
      concerto.log(nextItemIndex, "nextItemIndex")
      nextItem = items[nextItemIndex,]
      concerto.log(nextItem, "nextItem")
      nextItemSafe = getSafeItem(nextItem)
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 141
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 142
        name: paramBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 143
        name: theta
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 144
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 145
        name: cbGroup
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 146
        name: cbControl
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 147
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 148
        name: nextItemIndex
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 149
        name: nextItem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 150
        name: nextItemSafe
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
      -
        class_name: TestVariable
        id: 151
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 21
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: c20389365fd535283edf5622af336f56546dc565
  -
    class_name: Test
    id: 22
    name: _CATResponseProcessorModule
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getSessionId = function(session) {
        id = 0
        if(!is.null(session) && is.list(session)) {
          id = session$id
        } else {
          id = paste0("i",concerto$session$id)
        }
        return(id)
      }
      
      saveResponse = function(responseBank, session, response, item, correct, theta, sem) {
        responseBank = fromJSON(responseBank)
        if(is.null(responseBank$table)) {
          concerto.log("no response bank defined, skipping response saving")
          return(NULL)
        }
      
        sql = "
      INSERT INTO {{table}} 
      ({{itemIdColumn}}, {{responseColumn}}, {{timeTakenColumn}}, {{sessionIdColumn}}, {{correctColumn}}, {{thetaColumn}}, {{semColumn}}) 
      VALUES ({{itemId}}, '{{response}}', {{timeTaken}}, '{{sessionId}}', {{correct}}, {{theta}}, {{sem}})
      "
        concerto.table.query(sql, list(
          table=responseBank$table,
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=getSessionId(session),
          itemIdColumn=responseBank$columns$item_id,
          itemId=item$id,
          responseColumn=responseBank$columns$response,
          response=response[[paste0("r",item$id)]],
          timeTakenColumn=responseBank$columns$timeTaken,
          timeTaken=response$timeTaken, #could use time difference
          correctColumn=responseBank$columns$correct,
          correct=correct,
          thetaColumn=responseBank$columns$theta,
          theta=theta,
          semColumn=responseBank$columns$sem,
          sem=sem
        ))
        return(concerto.table.lastInsertId())
      }
      
      itemsAdministered = unique(c(itemsAdministered, itemIndex))
      responseId = saveResponse(settings$responseBank, session, response, item, correct, theta, sem)
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 152
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 153
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 154
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 155
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 156
        name: correct
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 157
        name: theta
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 158
        name: responseId
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 159
        name: sem
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 160
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 161
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 162
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 163
        name: itemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: c2bcc72318abfc73229cbf2815cb9d5484f6f0d0
  -
    class_name: Test
    id: 23
    name: _CATStatusCheckModule
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      isOutOfTime = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired) {
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = testTimeLimit - startedAgo
        if(testTimeLimit > 0) {
          if(testTimeLeft <= 0) { return(T) }
          if(testTimeLeft < itemTimeLimit && itemTimeFullRequired) { return(T) }
        }
        return(F)
      }
      
      getBranch = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired, itemNumLimit, minAccuracy, itemsAdministered, itemsNum, sem) {
        if(isOutOfTime(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired)) {
          concerto.log("time out", "test status")
          return("stop")
        }
      
        if(itemNumLimit > 0 && length(itemsAdministered) >= itemNumLimit || length(itemsAdministered) >= itemsNum) {
          concerto.log("maximum items reached", "test status")
          return("stop")
        }
      
        if(minAccuracy != 0 && minAccuracy >= sem) {
          concerto.log("minimum accuracy", "test status")
          return("stop")
        }
        concerto.log("continue", "test status")
        return("continue")
      }
      
      .branch = getBranch(
        as.numeric(settings$testTimeLimit), 
        testTimeStarted, 
        as.numeric(settings$itemTimeLimit), 
        settings$itemTimeFullRequired == "1", 
        as.numeric(settings$itemNumLimit), 
        as.numeric(settings$minAccuracy), 
        itemsAdministered, 
        dim(items)[1], 
        sem
      )
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 164
        name: continue
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 23
        parentVariable: null
      -
        class_name: TestVariable
        id: 165
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 23
        parentVariable: null
      -
        class_name: TestVariable
        id: 166
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 23
        parentVariable: null
      -
        class_name: TestVariable
        id: 167
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 23
        parentVariable: null
      -
        class_name: TestVariable
        id: 168
        name: sem
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 23
        parentVariable: null
      -
        class_name: TestVariable
        id: 169
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 23
        parentVariable: null
      -
        class_name: TestVariable
        id: 170
        name: stop
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 23
        parentVariable: null
      -
        class_name: TestVariable
        id: 171
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 23
        parentVariable: null
      -
        class_name: TestVariable
        id: 172
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 23
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 932e77293cbe4b9b29be31dcef919d5d8f052e7e
  -
    class_name: Test
    id: 24
    name: _CATScoringModule
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      library(catR)
      
      correct = 0
      response = response[[paste0("r",item$id)]]
      if(!is.null(response) && response == item$correct) { correct = 1 }
      correctness = c(correctness, correct)
      itemsAdministered = unique(c(itemsAdministered, itemIndex))
      paramBankAdministered = paramBank
      if(dim(items)[1] > 1) {
        paramBankAdministered = paramBank[itemsAdministered,]
      }
      concerto.log(itemsAdministered, "itemsAdministered")
      concerto.log(correctness, "correctness")
      theta <- thetaEst(matrix(paramBankAdministered, ncol=4, byrow=F), correctness, method=settings$scoringMethod)
      concerto.log(theta, "theta")
      sem <- semTheta(theta, matrix(paramBankAdministered, ncol=4, byrow=F), correctness)
      concerto.log(sem, "SEM")
      if(correct == 1) {
        .branch = "correct"
      } else {
        .branch = "incorrect"
      }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 173
        name: correct
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 174
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 175
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 176
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 177
        name: correctness
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 178
        name: paramBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 179
        name: theta
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 180
        name: sem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 181
        name: correctness
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 182
        name: correct
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 183
        name: itemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 184
        name: incorrect
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 185
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 186
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
      -
        class_name: TestVariable
        id: 187
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 24
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: b9bcbd0cd364ef13a6b6a5e1fc1dbef6390637e2
  -
    class_name: TestWizard
    id: 7
    name: CAT
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 7
        title: Items
        description: 'Test items collection'
        orderNum: 0
        colsNum: 0
        wizard: 7
        params:
          -
            class_name: TestWizardParam
            id: 15
            label: Type
            description: |
              <p>Select where to get items from:</p>
              
              <ul>
              	<li><strong>Direct&nbsp;</strong>- declare item bank at the node level</li>
              	<li><strong>Table&nbsp;</strong>- use a data table as the item bank</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: direct
            testVariable: 116
            name: itemBankType
            wizardStep: 7
            stepTitle: Items
            order: 0
            wizard: 7
            definition:
              options:
                -
                  label: Direct
                  order: ''
                  value: direct
                -
                  label: Table
                  order: ''
                  value: table
              defvalue: direct
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 16
            label: Items
            description: 'Directly input your item bank'
            hideCondition: 'values.itemBankType != "direct"'
            type: 10
            passableThroughUrl: '0'
            value: '[{"id":1,"question":"10 + 10","responseOptions":{"0":{"value":"20","label":"20"},"1":{"value":"40","label":"40"},"type":null,"optionsRandomOrder":null,"options":null},"a":1.7,"b":"-2","c":0,"d":1,"correct":20,"cbGroup":"mathematics","fixedIndex":""},{"id":2,"question":"100 + 100","responseOptions":{"0":{"value":"200","label":"200"},"1":{"value":"400","label":"400"},"type":null,"optionsRandomOrder":null,"options":null},"a":1.7,"b":0,"c":0,"d":1,"correct":200,"cbGroup":"mathematics","fixedIndex":""},{"id":3,"question":"1000 + 1000","responseOptions":{"0":{"value":"2000","label":"2000"},"1":{"value":"4000","label":"4000"},"type":null,"optionsRandomOrder":null,"options":null},"a":1.7,"b":2,"c":0,"d":1,"correct":2000,"cbGroup":"mathematics","fixedIndex":""}]'
            testVariable: 117
            name: itemBankItems
            wizardStep: 7
            stepTitle: Items
            order: 0
            wizard: 7
            definition:
              element:
                type: 9
                definition:
                  fields:
                    -
                      name: id
                      type: 0
                      label: Id
                      definition:
                        placeholder: 0
                    -
                      name: question
                      type: 2
                      label: Question
                      definition:
                        placeholder: 0
                    -
                      name: responseOptions
                      type: 9
                      label: 'Response Options'
                      definition:
                        fields:
                          -
                            name: type
                            type: 3
                            label: Type
                            definition:
                              options:
                                -
                                  label: Open
                                  value: open
                                -
                                  label: Options
                                  value: options
                              defvalue: options
                              placeholder: 0
                          -
                            name: optionsRandomOrder
                            type: 4
                            label: 'Options Random Order'
                            definition:
                              defvalue: '1'
                              placeholder: 0
                            hideCondition: 'parent.type != "options"'
                          -
                            name: options
                            type: 10
                            label: Options
                            definition:
                              element:
                                type: 9
                                definition:
                                  fields:
                                    -
                                      name: value
                                      type: 0
                                      label: Value
                                      definition:
                                        placeholder: 0
                                    -
                                      name: label
                                      type: 2
                                      label: Label
                                      definition:
                                        placeholder: 0
                                  placeholder: 0
                              placeholder: 0
                            hideCondition: 'parent.type != "options"'
                        element:
                          type: 9
                          definition:
                            fields:
                              -
                                name: value
                                type: 0
                                label: Value
                                definition:
                                  placeholder: 0
                              -
                                name: label
                                type: 2
                                label: Label
                                definition:
                                  placeholder: 0
                            placeholder: 0
                        placeholder: 0
                    -
                      name: a
                      type: 0
                      label: A
                      definition:
                        defvalue: '0'
                        placeholder: 0
                    -
                      name: b
                      type: 0
                      label: B
                      definition:
                        defvalue: '0'
                        placeholder: 0
                    -
                      name: c
                      type: 0
                      label: C
                      definition:
                        defvalue: '0'
                        placeholder: 0
                    -
                      name: d
                      type: 0
                      label: D
                      definition:
                        defvalue: '0'
                        placeholder: 0
                    -
                      name: correct
                      type: 0
                      label: Correct
                      definition:
                        placeholder: 0
                    -
                      name: cbGroup
                      type: 0
                      label: 'Content Balancing Group'
                      definition:
                        placeholder: 0
                    -
                      name: fixedIndex
                      type: 0
                      label: 'Fixed Index'
                      definition:
                        defvalue: ''
                        placeholder: 0
                  placeholder: 0
          -
            class_name: TestWizardParam
            id: 17
            label: Table
            description: 'Map columns in data table to item bank'
            hideCondition: 'values.itemBankType != "table"'
            type: 12
            passableThroughUrl: '0'
            value: '{"table":"catItems","columns":{"id":"id","question":"question","responseOptions":"responseOptions","a":"a","b":"b","c":"c","d":"d","correct":"correct","cbGroup":"cbGroup","fixedIndex":"fixedIndex"}}'
            testVariable: 118
            name: itemBankTable
            wizardStep: 7
            stepTitle: Items
            order: 0
            wizard: 7
            definition:
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: question
                  label: Question
                  tooltip: ''
                -
                  name: responseOptions
                  label: 'Response Options'
                  tooltip: ''
                -
                  name: a
                  label: A
                  tooltip: ''
                -
                  name: b
                  label: B
                  tooltip: ''
                -
                  name: c
                  label: C
                  tooltip: ''
                -
                  name: d
                  label: D
                  tooltip: ''
                -
                  name: correct
                  label: Correct
                  tooltip: ''
                -
                  name: cbGroup
                  label: 'Content Balancing Group'
                  tooltip: ''
                -
                  name: fixedIndex
                  label: 'Fixed Index'
                  tooltip: ''
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 18
            label: 'Item Template'
            description: 'Select which template to use for CAT item page design'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: CAT
            testVariable: 129
            name: itemTemplate
            wizardStep: 7
            stepTitle: Items
            order: 0
            wizard: 7
            definition:
              defvalue: CAT
              placeholder: 0
      -
        class_name: TestWizardStep
        id: 8
        title: 'Stopping Rules'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 7
        params:
          -
            class_name: TestWizardParam
            id: 19
            label: 'Limit Total Test Time'
            description: 'Total test time limit in seconds. 0 = no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 119
            name: testTimeLimit
            wizardStep: 8
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 7
            definition:
              defvalue: '0'
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 20
            label: 'Limit Time Per Item'
            description: 'Time limit for each item, in seconds. 0 = no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 120
            name: itemTimeLimit
            wizardStep: 8
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 7
            definition:
              defvalue: '0'
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 21
            label: 'Require Sufficient Time Per Item'
            description: 'Check this box to prevent the test from showing more items when the total test time remaining is less than the time limit per item.'
            hideCondition: 'values.testTimeLimit == 0 || values.itemTimeLimit == 0'
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 121
            name: itemTimeFullRequired
            wizardStep: 8
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 7
            definition:
              defvalue: '0'
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 22
            label: 'Limit Number of Items'
            description: 'Maximum number of items to show in the test. 0 = no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 131
            name: itemNumLimit
            wizardStep: 8
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 7
            definition:
              defvalue: '0'
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 23
            label: 'Minimum Accuracy'
            description: 'Minimum accuracy value that must be reached before stopping the test. 0 = no minimum accuracy.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 132
            name: minAccuracy
            wizardStep: 8
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 7
            definition:
              defvalue: '0'
              placeholder: 0
      -
        class_name: TestWizardStep
        id: 9
        title: 'CAT Options'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 7
        params:
          -
            class_name: TestWizardParam
            id: 24
            label: 'Content Balancing Settings'
            description: |
              <p>Each entry in the table consist of two fields:</p>
              <ul>
              	<li><strong>Group Name</strong> - specifies the column in the item bank by which to apply&nbsp;content balancing</li>
              	<li><strong>Group Proportion</strong>&nbsp;- numerical value specifying the proportion of&nbsp;items from each CB group to be used by the next item selection algorithm</li>
              </ul>
              <p><em>e.g. group1_proportion=1, group2_proportion=2 will mean that the next item algorithm will try to show twice as many items from group2 as from group1</em></p>
              <p><strong>NOTE: The&nbsp;number of items&nbsp;in each CB group in the item bank must&nbsp;be sufficient to cover the proportions specified</strong></p>
              
            hideCondition: ''
            type: 10
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 123
            name: contentBalancing
            wizardStep: 9
            stepTitle: 'CAT Options'
            order: 3
            wizard: 7
            definition:
              element:
                type: 9
                definition:
                  fields:
                    -
                      name: name
                      type: 0
                      label: 'Group Name'
                      definition:
                        placeholder: 0
                    -
                      name: proportion
                      type: 0
                      label: 'Group Proportion'
                      definition:
                        defvalue: '0'
                        placeholder: 0
                  placeholder: 0
          -
            class_name: TestWizardParam
            id: 81
            label: 'Next item criterion'
            description: ''
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: MFI
            testVariable: 125
            name: nextItemCriterion
            wizardStep: 9
            stepTitle: 'CAT Options'
            order: 0
            wizard: 7
            definition:
              options:
                -
                  label: MFI
                  value: MFI
                -
                  label: bOpt
                  value: bOpt
                -
                  label: random
                  value: random
              defvalue: MFI
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 82
            label: 'Next item randomesque'
            description: 'The number of items to be chosen from the next item selection rule, among those the next item to be administered will be randomly picked up. Default value is 1 and leads to usual selection of the optimal item for the specified criterion.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '1'
            testVariable: 126
            name: nextItemRandomesque
            wizardStep: 9
            stepTitle: 'CAT Options'
            order: 1
            wizard: 7
            definition:
              defvalue: '1'
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 83
            label: 'Scoring method'
            description: 'Ability estimator'
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: BM
            testVariable: 127
            name: scoringMethod
            wizardStep: 9
            stepTitle: 'CAT Options'
            order: 2
            wizard: 7
            definition:
              options:
                -
                  label: BM
                  value: BM
                -
                  label: ML
                  value: ML
                -
                  label: WL
                  value: WL
                -
                  label: EAP
                  value: EAP
              defvalue: BM
              placeholder: 0
      -
        class_name: TestWizardStep
        id: 10
        title: Responses
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 7
        params:
          -
            class_name: TestWizardParam
            id: 25
            label: 'Response Bank'
            description: 'Specify where to save responses to items. Leave empty to not store responses.'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '{"table":"CATResponses","columns":{"id":"id","item_id":"item_id","response":"response","timeTaken":"timeTaken","session_id":"session_id","correct":"correct","theta":"theta","sem":"sem"}}'
            testVariable: 128
            name: responseBank
            wizardStep: 10
            stepTitle: Responses
            order: 0
            wizard: 7
            definition:
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: item_id
                  label: 'Item Id'
                  tooltip: ''
                -
                  name: response
                  label: Response
                  tooltip: ''
                -
                  name: timeTaken
                  label: 'Time Taken'
                  tooltip: ''
                -
                  name: session_id
                  label: 'Session Id'
                  tooltip: ''
                -
                  name: correct
                  label: Correct
                  tooltip: ''
                -
                  name: theta
                  label: Theta
                  tooltip: ''
                -
                  name: sem
                  label: SEM
                  tooltip: ''
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 26
            label: 'Require Response'
            description: 'Check to require user to answer all items before proceeding to next page.'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 137
            name: responseRequired
            wizardStep: 10
            stepTitle: Responses
            order: 0
            wizard: 7
            definition:
              defvalue: '0'
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 27
            label: 'Response validation alert'
            description: 'Specify the message shown to users when no answer is given to a required item.'
            hideCondition: 'values.responseRequired == 0'
            type: 0
            passableThroughUrl: '0'
            value: 'Please answer all items on this page'
            testVariable: 138
            name: responseRequiredAlert
            wizardStep: 10
            stepTitle: Responses
            order: 0
            wizard: 7
            definition:
              defvalue: 'Please answer all items on this page'
              placeholder: 0
      -
        class_name: TestWizardStep
        id: 11
        title: Modules
        description: 'Test modules. Each module is a separate test that can use specific input variables and must return specific return variables.'
        orderNum: 0
        colsNum: 0
        wizard: 7
        params:
          -
            class_name: TestWizardParam
            id: 28
            label: 'Next Item Selector Module'
            description: |
              Next item selection module. Needs to return:
              <ul>
              	<li><strong>nextItem&nbsp;</strong>- list representing next item record</li>
              	<li><strong>nextItemIndex&nbsp;</strong>- index of next item in&nbsp;<strong>items</strong>&nbsp;collection</li>
              	<li><strong>nextItemSafe</strong>&nbsp;- list representing next item record that can be passed to client side (should be stripped of any sensitive data as it can be visible by user)</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _CATNextItemSelectorModule
            testVariable: 133
            name: nextItemSelectorModule
            wizardStep: 11
            stepTitle: Modules
            order: 0
            wizard: 7
            definition:
              defvalue: _CATNextItemSelectorModule
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 29
            label: 'Scoring Module'
            description: |
              <p>Scoring module. Needs to return:</p>
              
              <ul>
              	<li><strong>.branch</strong>&nbsp;- string - containing either&nbsp;<strong>correct&nbsp;</strong>or&nbsp;<strong>incorrect</strong> value</li>
              	<li><strong>correct</strong>&nbsp;- numerical value -&nbsp;should be <strong>1</strong> if correct answer was given,&nbsp;<strong>0&nbsp;</strong>otherwise</li>
              	<li><strong>correctness</strong>&nbsp;- vector - containing values of&nbsp;<strong>correct</strong> answers&nbsp;for all responses</li>
              	<li><strong>sem</strong>&nbsp;- standard error of measurement</li>
              	<li><strong>theta&nbsp;</strong>- difficulty value</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _CATScoringModule
            testVariable: 134
            name: scoringModule
            wizardStep: 11
            stepTitle: Modules
            order: 0
            wizard: 7
            definition:
              defvalue: _CATScoringModule
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 30
            label: 'Response Processor Module'
            description: |
              <p>Response processing module. Usually used for saving responses. Needs to return:</p>
              
              <ul>
              	<li><strong>itemsAdministered</strong>&nbsp;- vector - containing indices of the items administered</li>
              	<li><strong>responseId</strong>&nbsp;- numerical - containing&nbsp;id of&nbsp;the inserted response record</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _CATResponseProcessorModule
            testVariable: 135
            name: responseProcessorModule
            wizardStep: 11
            stepTitle: Modules
            order: 0
            wizard: 7
            definition:
              defvalue: _CATResponseProcessorModule
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 31
            label: 'Status Check Module'
            description: |
              <p>Status check module. Checks if test should be continued or should be stopped. Needs to return:</p>
              
              <ul>
              	<li><strong>.branch</strong>&nbsp;- string - containing&nbsp;either&nbsp;<strong>continue</strong>&nbsp;or <b>stop</b>&nbsp;as a value</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _CATStatusCheckModule
            testVariable: 136
            name: statusCheckModule
            wizardStep: 11
            stepTitle: Modules
            order: 0
            wizard: 7
            definition:
              defvalue: _CATStatusCheckModule
              placeholder: 0
          -
            class_name: TestWizardParam
            id: 84
            label: 'Item Template Params Module'
            description: ''
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: ''
            testVariable: 492
            name: itemTemplateParamsModule
            wizardStep: 11
            stepTitle: Modules
            order: 0
            wizard: 7
            definition:
              placeholder: 0
              defvalue: ''
    test: 20
    groups: ''
    starterContent: true
    hash: e2ada8e8b73ef55040260b9daaba53321daaad69
  -
    class_name: Test
    id: 25
    name: CAT
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Computer Adaptive Test'
    variables:
      -
        class_name: TestVariable
        id: 188
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 115
      -
        class_name: TestVariable
        id: 189
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 25
        parentVariable: 116
      -
        class_name: TestVariable
        id: 190
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[{"id":1,"question":"10 + 10","responseOptions":{"type":"options","optionsRandomOrder":"1","options":[{"value":"20","label":"20"},{"value":"200","label":"200"},{"value":"2000","label":"2000"}]},"a":1.7,"b":"-2","c":0,"d":1,"correct":20,"cbGroup":"mathematics","fixedIndex":""},{"id":2,"question":"100 + 100","responseOptions":{"type":"options","optionsRandomOrder":"1","options":[{"value":"20","label":"20"},{"value":"200","label":"200"},{"value":"2000","label":"2000"}]},"a":1.7,"b":0,"c":0,"d":1,"correct":200,"cbGroup":"mathematics","fixedIndex":""},{"id":3,"question":"1000 + 1000","responseOptions":{"type":"options","optionsRandomOrder":"1","options":[{"value":"20","label":"20"},{"value":"200","label":"200"},{"value":"2000","label":"2000"}]},"a":1.7,"b":2,"c":0,"d":1,"correct":2000,"cbGroup":"mathematics","fixedIndex":""}]'
        test: 25
        parentVariable: 117
      -
        class_name: TestVariable
        id: 191
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"catItems","columns":{"id":"id","question":"question","responseOptions":"responseOptions","a":"a","b":"b","c":"c","d":"d","correct":"correct","cbGroup":"cbGroup","fixedIndex":"fixedIndex"}}'
        test: 25
        parentVariable: 118
      -
        class_name: TestVariable
        id: 192
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 119
      -
        class_name: TestVariable
        id: 193
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 120
      -
        class_name: TestVariable
        id: 194
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 121
      -
        class_name: TestVariable
        id: 195
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 122
      -
        class_name: TestVariable
        id: 196
        name: contentBalancing
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 25
        parentVariable: 123
      -
        class_name: TestVariable
        id: 197
        name: startingTheta
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 124
      -
        class_name: TestVariable
        id: 198
        name: nextItemCriterion
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: MFI
        test: 25
        parentVariable: 125
      -
        class_name: TestVariable
        id: 199
        name: nextItemRandomesque
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 25
        parentVariable: 126
      -
        class_name: TestVariable
        id: 200
        name: scoringMethod
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: BM
        test: 25
        parentVariable: 127
      -
        class_name: TestVariable
        id: 201
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"CATResponses","columns":{"id":"id","item_id":"item_id","response":"response","timeTaken":"timeTaken","session_id":"session_id","correct":"correct","theta":"theta","sem":"sem"}}'
        test: 25
        parentVariable: 128
      -
        class_name: TestVariable
        id: 202
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: CAT
        test: 25
        parentVariable: 129
      -
        class_name: TestVariable
        id: 203
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: 130
      -
        class_name: TestVariable
        id: 204
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 131
      -
        class_name: TestVariable
        id: 205
        name: minAccuracy
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 132
      -
        class_name: TestVariable
        id: 206
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _CATNextItemSelectorModule
        test: 25
        parentVariable: 133
      -
        class_name: TestVariable
        id: 207
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _CATScoringModule
        test: 25
        parentVariable: 134
      -
        class_name: TestVariable
        id: 208
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _CATResponseProcessorModule
        test: 25
        parentVariable: 135
      -
        class_name: TestVariable
        id: 209
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _CATStatusCheckModule
        test: 25
        parentVariable: 136
      -
        class_name: TestVariable
        id: 210
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: 137
      -
        class_name: TestVariable
        id: 211
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: 'Response required!'
        test: 25
        parentVariable: 138
      -
        class_name: TestVariable
        id: 212
        name: sem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: 139
      -
        class_name: TestVariable
        id: 213
        name: theta
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: 140
      -
        class_name: TestVariable
        id: 493
        name: itemTemplateParamsModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: 492
    sourceWizard: 7
    sourceWizardTest: 20
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: cfbe948a9058b8f071ee1988453ae71406c306fb
  -
    class_name: Test
    id: 26
    name: _nestedPageHtml
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      if(!is.list(params)) {
        params = list()
      }
      for(.name in .dynamicInputs) {
        params[[.name]] = get(.name)
      }
      
      html = concerto.template.join(templateId=layout)
      content = fromJSON(content)
      if(length(content) > 0) {
        for(i in 1:length(content)) {
          pageParam = list()
          pageParam[[content[[i]]$name]] = concerto.template.join(templateId=content[[i]]$template)
          html = concerto.template.insertParams(html, pageParam, removeMissing=F)
        }
      }
      
      html = concerto.template.insertParams(html, params, removeMissing=F)
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 214
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 215
        name: layout
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 216
        name: content
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 217
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 218
        name: html
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 55965e6d961e95daded3386cde366541e05749df
  -
    class_name: TestWizard
    id: 8
    name: nestedPageHtml
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 12
        title: Templates
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 8
        params:
          -
            class_name: TestWizardParam
            id: 32
            label: 'Layout Template'
            description: 'Select which template to use for the layout of the main page into which other templates are inserted'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: ''
            testVariable: 215
            name: layout
            wizardStep: 12
            stepTitle: Templates
            order: 0
            wizard: 8
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 33
            label: 'Content Templates'
            description: |
              <p>Specify which templates to insert into the main layout template. There are two variables:</p>
              
              <ul>
              	<li><strong>Name</strong>&nbsp;is the name of a&nbsp;variable on the main layout template</li>
              	<li><strong>Template&nbsp;</strong>is the template content that should be inserted in place of this named variable</li>
              </ul>
              
            hideCondition: ''
            type: 10
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 216
            name: content
            wizardStep: 12
            stepTitle: Templates
            order: 0
            wizard: 8
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: name
                      label: Name
                      definition:
                        placeholder: 0
                    -
                      type: 5
                      name: template
                      label: Template
                      definition:
                        placeholder: 0
    test: 26
    groups: ''
    starterContent: true
    hash: 1ed72fe3c207865f948a6a43f4066f8d43bf6192
  -
    class_name: Test
    id: 27
    name: nestedPageHtml
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Nested page. Creates HTML that is constructed from one main layout template that can contain multiple nested templates inside.'
    variables:
      -
        class_name: TestVariable
        id: 219
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 27
        parentVariable: 214
      -
        class_name: TestVariable
        id: 220
        name: layout
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: 215
      -
        class_name: TestVariable
        id: 221
        name: content
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 27
        parentVariable: 216
      -
        class_name: TestVariable
        id: 222
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: 217
      -
        class_name: TestVariable
        id: 223
        name: html
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: 218
    sourceWizard: 8
    sourceWizardTest: 26
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 343ce8c509f271042e1c1503965cda40dbfa09d1
  -
    class_name: Test
    id: 28
    name: _linearTestInitialization
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getItems = function(itemBankType, itemBankItems, itemBankTable, order){
        items = NULL
        if(itemBankType == "table") {
          tableMap = fromJSON(itemBankTable)
          table = tableMap$table
          questionColumn = tableMap$columns$question
          responseOptionsColumn = tableMap$columns$responseOptions
          orderIndexColumn = tableMap$columns$orderIndex
          traitColumn = tableMap$columns$trait
          correctColumn = tableMap$columns$correct
          items = concerto.table.query(
            "
      SELECT 
      id, 
      {{questionColumn}} AS question, 
      {{responseOptionsColumn}} AS responseOptions,
      {{orderIndexColumn}} AS orderIndex,
      {{traitColumn}} AS trait,
      {{correctColumn}} AS correct
      FROM {{table}} 
      ORDER BY {{orderIndexColumn}}
      ", 
            list(
              questionColumn=questionColumn,
              responseOptionsColumn=responseOptionsColumn,
              orderIndexColumn=orderIndexColumn,
              traitColumn=traitColumn,
              correctColumn=correctColumn,
              table=table
            ))
        }
        if(itemBankType == "direct") {
          itemBankItems = fromJSON(itemBankItems)
          if(length(itemBankItems) > 0) {
            for(i in 1:length(itemBankItems)) {
              itemBankItems[[i]]$responseOptions = as.character(toJSON(itemBankItems[[i]]$responseOptions)) #response options don't fit into flat table, so turn them back to JSON.
              items = rbind(items, data.frame(itemBankItems[[i]], stringsAsFactors=F))
            }
          }
        } 
        
        if(dim(items)[1] == 0) { stop("Item bank must not be empty!") }
        if(order == "random") {
          items = items[sample(1:dim(items)[1]),]
        }
        return(items)
      }
      
      items = getItems(settings$itemBankType, settings$itemBankItems, settings$itemBankTable, settings$order)
      
      itemsAdministered = NULL
      scores = NULL
      traitScores = list()
      
      testTimeStarted = as.numeric(Sys.time())
      testTimeLeft = as.numeric(settings$testTimeLimit) + as.numeric(settings$testTimeLimitOffset)
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 224
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 225
        name: items
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 226
        name: testTimeStarted
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 227
        name: testTimeLeft
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 228
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 229
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 230
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 231
        name: traitScores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 2d8b386c50394c6086aef2b527af17e357d892e4
  -
    class_name: Test
    id: 29
    name: _linearTestShowItem
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getData = function(itemsSafe, responsesSafe, canGoBack, templateParams, responseRequired, responseRequiredAlert, page, totalPages) {
        templateParams$items = itemsSafe
        templateParams$canGoBack = canGoBack
        templateParams$responses = responsesSafe
        templateParams$responseRequired = responseRequired
        templateParams$responseRequiredAlert = responseRequiredAlert
        templateParams$page = page
        templateParams$totalPages = totalPages
      
        return(templateParams)
      }
      
      getTimeLimit = function(testTimeStarted, testTimeLimit, itemTimeLimit) {
        limit = 0
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = 0
        if(testTimeLimit > 0) {
          testTimeLeft = max(testTimeLimit - startedAgo, 1)
          limit = testTimeLeft
        }
        if(itemTimeLimit > 0) {
          if(limit > 0) {
            limit = min(limit, itemTimeLimit)
          } else {
            limit = itemTimeLimit
          }
        }
        return(limit)
      }
      
      canGoBack = if(settings$canGoBack == "1" && itemIndex > 1) { 1 } else { 0 }
      totalPages = ceiling(dim(items)[1] / as.numeric(settings$itemsPerPage))
      response = concerto.template.show(
        settings$itemTemplate, 
        params=getData(
          itemsSafe, 
          responsesSafe, 
          canGoBack, 
          templateParams, 
          settings$responseRequired, 
          settings$responseRequiredAlert, 
          page, 
          totalPages
        ), 
        timeLimit=getTimeLimit(
          testTimeStarted, 
          as.numeric(settings$testTimeLimit), 
          as.numeric(settings$itemTimeLimit)
        )
      )
      
      .branch = "submitted"
      if(response$isTimeout == 1) { .branch = "outOfTime" }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 232
        name: submitted
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 233
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 234
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 235
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 236
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 237
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 238
        name: outOfTime
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 239
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 240
        name: itemsSafe
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 241
        name: currentItemsIndices
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 242
        name: responsesSafe
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 243
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 486
        name: page
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 5dcd4d9ac6ead737ae07681f27c31944c745bb06
  -
    class_name: Test
    id: 30
    name: _linearTest
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 2
    code: null
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 244
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 245
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 246
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 247
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 248
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 249
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 250
        name: order
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 251
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 252
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 253
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 254
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 255
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 256
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 257
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 258
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 259
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 260
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 261
        name: canGoBack
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 262
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 263
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 264
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 30
        parentVariable: null
      -
        class_name: TestVariable
        id: 483
        name: itemsPerPage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 30
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes:
      -
        class_name: TestNode
        id: 41
        title: ''
        type: 1
        posX: 14782
        posY: 14945
        flowTest: 30
        sourceTest: 30
        sourceTestName: _linearTest
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 496
            value: null
            node: 41
            variable: 245
            variableObject:
              class_name: TestVariable
              id: 245
              name: itemBankItems
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankItems
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 497
            value: null
            node: 41
            variable: 246
            variableObject:
              class_name: TestVariable
              id: 246
              name: itemBankTable
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankTable
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 498
            value: null
            node: 41
            variable: 247
            variableObject:
              class_name: TestVariable
              id: 247
              name: itemBankType
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankType
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 499
            value: '0'
            node: 41
            variable: 248
            variableObject:
              class_name: TestVariable
              id: 248
              name: testTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 500
            value: '0'
            node: 41
            variable: 249
            variableObject:
              class_name: TestVariable
              id: 249
              name: testTimeLimitOffset
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 501
            value: null
            node: 41
            variable: 250
            variableObject:
              class_name: TestVariable
              id: 250
              name: order
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: order
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 502
            value: null
            node: 41
            variable: 251
            variableObject:
              class_name: TestVariable
              id: 251
              name: nextItemSelectorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: nextItemSelectorModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 503
            value: '0'
            node: 41
            variable: 252
            variableObject:
              class_name: TestVariable
              id: 252
              name: itemTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 504
            value: null
            node: 41
            variable: 253
            variableObject:
              class_name: TestVariable
              id: 253
              name: itemTemplate
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTemplate
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 505
            value: null
            node: 41
            variable: 254
            variableObject:
              class_name: TestVariable
              id: 254
              name: scoringModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: scoringModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 506
            value: null
            node: 41
            variable: 255
            variableObject:
              class_name: TestVariable
              id: 255
              name: responseBank
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseBank
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 507
            value: null
            node: 41
            variable: 256
            variableObject:
              class_name: TestVariable
              id: 256
              name: session
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 508
            value: null
            node: 41
            variable: 257
            variableObject:
              class_name: TestVariable
              id: 257
              name: responseProcessorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseProcessorModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 509
            value: null
            node: 41
            variable: 258
            variableObject:
              class_name: TestVariable
              id: 258
              name: itemNumLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 510
            value: null
            node: 41
            variable: 259
            variableObject:
              class_name: TestVariable
              id: 259
              name: itemTimeFullRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 511
            value: null
            node: 41
            variable: 260
            variableObject:
              class_name: TestVariable
              id: 260
              name: statusCheckModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: statusCheckModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 512
            value: '0'
            node: 41
            variable: 261
            variableObject:
              class_name: TestVariable
              id: 261
              name: canGoBack
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: canGoBack
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 513
            value: null
            node: 41
            variable: 262
            variableObject:
              class_name: TestVariable
              id: 262
              name: responseRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 514
            value: null
            node: 41
            variable: 263
            variableObject:
              class_name: TestVariable
              id: 263
              name: responseRequiredAlert
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequiredAlert
            pointer: '0'
            pointerVariable: responseRequiredAlert
          -
            class_name: TestNodePort
            id: 846
            value: '1'
            node: 41
            variable: 483
            variableObject:
              class_name: TestVariable
              id: 483
              name: itemsPerPage
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '1'
              test: 30
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemsPerPage
            pointer: '0'
            pointerVariable: itemsPerPage
      -
        class_name: TestNode
        id: 42
        title: ''
        type: 2
        posX: 17000
        posY: 15568
        flowTest: 30
        sourceTest: 30
        sourceTestName: _linearTest
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 515
            value: ''
            node: 42
            variable: 264
            variableObject:
              class_name: TestVariable
              id: 264
              name: scores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 30
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: scores
            pointer: '1'
            pointerVariable: traitScores
      -
        class_name: TestNode
        id: 43
        title: ''
        type: 0
        posX: 15617
        posY: 15142
        flowTest: 30
        sourceTest: 28
        sourceTestName: _linearTestInitialization
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 516
            value: '0'
            node: 43
            variable: 224
            variableObject:
              class_name: TestVariable
              id: 224
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 28
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 517
            value: null
            node: 43
            variable: 225
            variableObject:
              class_name: TestVariable
              id: 225
              name: items
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 28
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 518
            value: null
            node: 43
            variable: 226
            variableObject:
              class_name: TestVariable
              id: 226
              name: testTimeStarted
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 28
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 519
            value: null
            node: 43
            variable: 227
            variableObject:
              class_name: TestVariable
              id: 227
              name: testTimeLeft
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 28
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 520
            value: 'NULL'
            node: 43
            variable: 228
            variableObject:
              class_name: TestVariable
              id: 228
              name: itemsAdministered
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 28
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 521
            value: 'NULL'
            node: 43
            variable: 229
            variableObject:
              class_name: TestVariable
              id: 229
              name: scores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 28
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 522
            value: null
            node: 43
            variable: 230
            variableObject:
              class_name: TestVariable
              id: 230
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 28
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 523
            value: null
            node: 43
            variable: 231
            variableObject:
              class_name: TestVariable
              id: 231
              name: traitScores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 28
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: traitScores
            pointer: '1'
            pointerVariable: traitScores
      -
        class_name: TestNode
        id: 44
        title: 'next item selector module'
        type: 0
        posX: 15976
        posY: 15132
        flowTest: 30
        sourceTest: 13
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 524
            value: _linearTestNextItemSelectorModule
            node: 44
            variable: 81
            variableObject:
              class_name: TestVariable
              id: 81
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 77
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 525
            value: null
            node: 44
            variable: 82
            variableObject:
              class_name: TestVariable
              id: 82
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 78
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 526
            value: null
            node: 44
            variable: 83
            variableObject:
              class_name: TestVariable
              id: 83
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 79
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 527
            value: '0'
            node: 44
            variable: 80
            variableObject:
              class_name: TestVariable
              id: 80
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 13
              parentVariable: 76
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 528
            value: ''
            node: 44
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 529
            value: ''
            node: 44
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItems
            pointer: '1'
            pointerVariable: currentItems
          -
            class_name: TestNodePort
            id: 530
            value: ''
            node: 44
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemsIndices
            pointer: '1'
            pointerVariable: currentItemsIndices
          -
            class_name: TestNodePort
            id: 531
            value: 'NULL'
            node: 44
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 532
            value: '1'
            node: 44
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 533
            value: ''
            node: 44
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemsSafe
            pointer: '0'
            pointerVariable: itemSafe
          -
            class_name: TestNodePort
            id: 534
            value: '0'
            node: 44
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: prevPage
            pointer: '1'
            pointerVariable: page
          -
            class_name: TestNodePort
            id: 535
            value: ''
            node: 44
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 536
            value: ''
            node: 44
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: pastResponsesSafe
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 537
            value: ''
            node: 44
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 848
            value: ''
            node: 44
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextPage
            pointer: '1'
            pointerVariable: page
      -
        class_name: TestNode
        id: 45
        title: ''
        type: 0
        posX: 16374
        posY: 15121
        flowTest: 30
        sourceTest: 29
        sourceTestName: _linearTestShowItem
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 538
            value: null
            node: 45
            variable: 233
            variableObject:
              class_name: TestVariable
              id: 233
              name: items
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 539
            value: c.getDynamicInputs()
            node: 45
            variable: 234
            variableObject:
              class_name: TestVariable
              id: 234
              name: templateParams
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: templateParams
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 540
            value: null
            node: 45
            variable: 235
            variableObject:
              class_name: TestVariable
              id: 235
              name: testTimeStarted
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 541
            value: null
            node: 45
            variable: 236
            variableObject:
              class_name: TestVariable
              id: 236
              name: testTimeLeft
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 542
            value: null
            node: 45
            variable: 237
            variableObject:
              class_name: TestVariable
              id: 237
              name: response
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 543
            value: null
            node: 45
            variable: 239
            variableObject:
              class_name: TestVariable
              id: 239
              name: .branch
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 544
            value: '0'
            node: 45
            variable: 232
            variableObject:
              class_name: TestVariable
              id: 232
              name: submitted
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: submitted
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 545
            value: null
            node: 45
            variable: 238
            variableObject:
              class_name: TestVariable
              id: 238
              name: outOfTime
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: outOfTime
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 546
            value: null
            node: 45
            variable: 240
            variableObject:
              class_name: TestVariable
              id: 240
              name: itemsSafe
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: itemsSafe
            pointer: '0'
            pointerVariable: itemSafe
          -
            class_name: TestNodePort
            id: 547
            value: null
            node: 45
            variable: 241
            variableObject:
              class_name: TestVariable
              id: 241
              name: currentItemsIndices
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: currentItemsIndices
            pointer: '1'
            pointerVariable: currentItemsIndices
          -
            class_name: TestNodePort
            id: 548
            value: null
            node: 45
            variable: 242
            variableObject:
              class_name: TestVariable
              id: 242
              name: responsesSafe
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: responsesSafe
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 549
            value: null
            node: 45
            variable: 243
            variableObject:
              class_name: TestVariable
              id: 243
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 849
            value: null
            node: 45
            variable: 486
            variableObject:
              class_name: TestVariable
              id: 486
              name: page
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 29
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: page
            pointer: '0'
            pointerVariable: page
      -
        class_name: TestNode
        id: 46
        title: 'scoring module'
        type: 0
        posX: 16770
        posY: 15116
        flowTest: 30
        sourceTest: 13
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 550
            value: _linearTestScoringModule
            node: 46
            variable: 81
            variableObject:
              class_name: TestVariable
              id: 81
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 77
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 551
            value: null
            node: 46
            variable: 82
            variableObject:
              class_name: TestVariable
              id: 82
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 78
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 552
            value: null
            node: 46
            variable: 83
            variableObject:
              class_name: TestVariable
              id: 83
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 79
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 553
            value: '0'
            node: 46
            variable: 80
            variableObject:
              class_name: TestVariable
              id: 80
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 13
              parentVariable: 76
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 554
            value: 'NULL'
            node: 46
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 555
            value: ''
            node: 46
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: currentItems
            pointer: '1'
            pointerVariable: currentItems
          -
            class_name: TestNodePort
            id: 556
            value: ''
            node: 46
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: currentItemsIndices
            pointer: '1'
            pointerVariable: currentItemsIndices
          -
            class_name: TestNodePort
            id: 557
            value: 'NULL'
            node: 46
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 558
            value: ''
            node: 46
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 560
            value: 'NULL'
            node: 46
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 561
            value: ''
            node: 46
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 562
            value: ''
            node: 46
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 563
            value: ''
            node: 46
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: traitScores
            pointer: '1'
            pointerVariable: traitScores
          -
            class_name: TestNodePort
            id: 850
            value: ''
            node: 46
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: traitScores
            pointer: '1'
            pointerVariable: traitScores
      -
        class_name: TestNode
        id: 47
        title: 'response processor module'
        type: 0
        posX: 17167
        posY: 15123
        flowTest: 30
        sourceTest: 13
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 564
            value: _linearTestResponseProcessorModule
            node: 47
            variable: 81
            variableObject:
              class_name: TestVariable
              id: 81
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 77
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 565
            value: null
            node: 47
            variable: 82
            variableObject:
              class_name: TestVariable
              id: 82
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 78
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 566
            value: null
            node: 47
            variable: 83
            variableObject:
              class_name: TestVariable
              id: 83
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 79
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 567
            value: '0'
            node: 47
            variable: 80
            variableObject:
              class_name: TestVariable
              id: 80
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 13
              parentVariable: 76
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 568
            value: ''
            node: 47
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: currentItems
            pointer: '1'
            pointerVariable: currentItems
          -
            class_name: TestNodePort
            id: 569
            value: ''
            node: 47
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 570
            value: ''
            node: 47
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 571
            value: ''
            node: 47
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 573
            value: ''
            node: 47
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 574
            value: ''
            node: 47
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: currentItemsIndices
            pointer: '1'
            pointerVariable: currentItemsIndices
          -
            class_name: TestNodePort
            id: 575
            value: 'NULL'
            node: 47
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 576
            value: 'NULL'
            node: 47
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 577
            value: ''
            node: 47
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 851
            value: ''
            node: 47
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: page
            pointer: '1'
            pointerVariable: page
      -
        class_name: TestNode
        id: 48
        title: 'status check module'
        type: 0
        posX: 16610
        posY: 15512
        flowTest: 30
        sourceTest: 13
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 578
            value: _linearTestStatusCheckModule
            node: 48
            variable: 81
            variableObject:
              class_name: TestVariable
              id: 81
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 77
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 579
            value: null
            node: 48
            variable: 82
            variableObject:
              class_name: TestVariable
              id: 82
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 78
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 580
            value: null
            node: 48
            variable: 83
            variableObject:
              class_name: TestVariable
              id: 83
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 13
              parentVariable: 79
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 581
            value: '0'
            node: 48
            variable: 80
            variableObject:
              class_name: TestVariable
              id: 80
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 13
              parentVariable: 76
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '0'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 582
            value: 'NULL'
            node: 48
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 583
            value: ''
            node: 48
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 584
            value: ''
            node: 48
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: continue
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 585
            value: ''
            node: 48
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: stop
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 586
            value: ''
            node: 48
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 587
            value: ''
            node: 48
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 589
            value: ''
            node: 48
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 590
            value: ''
            node: 48
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 591
            value: ''
            node: 48
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
      -
        class_name: TestNode
        id: 49
        title: 'create settings'
        type: 0
        posX: 15223
        posY: 14939
        flowTest: 30
        sourceTest: 19
        sourceTestName: createList
        sourceTestDescription: 'List creation. Dynamic inputs will be used as list elements (input name as list key, input value as list value).'
        ports:
          -
            class_name: TestNodePort
            id: 592
            value: null
            node: 49
            variable: 113
            variableObject:
              class_name: TestVariable
              id: 113
              name: sourceList
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 19
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: sourceList
            pointer: '0'
            pointerVariable: sourceList
          -
            class_name: TestNodePort
            id: 593
            value: null
            node: 49
            variable: 114
            variableObject:
              class_name: TestVariable
              id: 114
              name: result
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 19
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: result
            pointer: '0'
            pointerVariable: result
          -
            class_name: TestNodePort
            id: 594
            value: '0'
            node: 49
            variable: 112
            variableObject:
              class_name: TestVariable
              id: 112
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 19
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 595
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: canGoBack
            pointer: '0'
            pointerVariable: canGoBack
          -
            class_name: TestNodePort
            id: 596
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankItems
            pointer: '0'
            pointerVariable: itemBankItems
          -
            class_name: TestNodePort
            id: 597
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankTable
            pointer: '0'
            pointerVariable: itemBankTable
          -
            class_name: TestNodePort
            id: 598
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankType
            pointer: '0'
            pointerVariable: itemBankType
          -
            class_name: TestNodePort
            id: 599
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: itemNumLimit
          -
            class_name: TestNodePort
            id: 600
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTemplate
            pointer: '0'
            pointerVariable: itemTemplate
          -
            class_name: TestNodePort
            id: 601
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: itemTimeFullRequired
          -
            class_name: TestNodePort
            id: 602
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: itemTimeLimit
          -
            class_name: TestNodePort
            id: 603
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: order
            pointer: '0'
            pointerVariable: order
          -
            class_name: TestNodePort
            id: 604
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseBank
            pointer: '0'
            pointerVariable: responseBank
          -
            class_name: TestNodePort
            id: 605
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: testTimeLimit
          -
            class_name: TestNodePort
            id: 606
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: testTimeLimitOffset
          -
            class_name: TestNodePort
            id: 607
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 608
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequiedAlert
            pointer: '0'
            pointerVariable: responseRequiedAlert
          -
            class_name: TestNodePort
            id: 847
            value: ''
            node: 49
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsPerPage
            pointer: '0'
            pointerVariable: itemsPerPage
      -
        class_name: TestNode
        id: 50
        title: 'set settings'
        type: 0
        posX: 15570
        posY: 14971
        flowTest: 30
        sourceTest: 11
        sourceTestName: set
        sourceTestDescription: 'Promote variables. Use dynamic inputs to declare which variables you want to promote.'
        ports:
          -
            class_name: TestNodePort
            id: 609
            value: '0'
            node: 50
            variable: 75
            variableObject:
              class_name: TestVariable
              id: 75
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 11
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 610
            value: ''
            node: 50
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '0'
            pointerVariable: settings
    nodesConnections:
      -
        class_name: TestNodeConnection
        id: 166
        flowTest: 30
        sourceNode: 41
        sourcePort: null
        sourcePortObject: null
        destinationNode: 49
        destinationPort: null
        destinationPortObject: null
        returnFunction: ''
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 167
        flowTest: 30
        sourceNode: 43
        sourcePort: 516
        sourcePortObject:
          class_name: TestNodePort
          id: 516
          value: '0'
          node: 43
          variable: 224
          variableObject:
            class_name: TestVariable
            id: 224
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 28
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 44
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 168
        flowTest: 30
        sourceNode: 41
        sourcePort: 502
        sourcePortObject:
          class_name: TestNodePort
          id: 502
          value: null
          node: 41
          variable: 251
          variableObject:
            class_name: TestVariable
            id: 251
            name: nextItemSelectorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: nextItemSelectorModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 44
        destinationPort: 524
        destinationPortObject:
          class_name: TestNodePort
          id: 524
          value: _linearTestNextItemSelectorModule
          node: 44
          variable: 81
          variableObject:
            class_name: TestVariable
            id: 81
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 13
            parentVariable: 77
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: nextItemSelectorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 169
        flowTest: 30
        sourceNode: 44
        sourcePort: 527
        sourcePortObject:
          class_name: TestNodePort
          id: 527
          value: '0'
          node: 44
          variable: 80
          variableObject:
            class_name: TestVariable
            id: 80
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 13
            parentVariable: 76
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 45
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 170
        flowTest: 30
        sourceNode: 45
        sourcePort: 545
        sourcePortObject:
          class_name: TestNodePort
          id: 545
          value: null
          node: 45
          variable: 238
          variableObject:
            class_name: TestVariable
            id: 238
            name: outOfTime
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 29
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: outOfTime
          pointer: '0'
          pointerVariable: ''
        destinationNode: 46
        destinationPort: null
        destinationPortObject: null
        returnFunction: outOfTime
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 171
        flowTest: 30
        sourceNode: 45
        sourcePort: 544
        sourcePortObject:
          class_name: TestNodePort
          id: 544
          value: '0'
          node: 45
          variable: 232
          variableObject:
            class_name: TestVariable
            id: 232
            name: submitted
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 29
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: submitted
          pointer: '0'
          pointerVariable: ''
        destinationNode: 46
        destinationPort: null
        destinationPortObject: null
        returnFunction: submitted
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 172
        flowTest: 30
        sourceNode: 41
        sourcePort: 505
        sourcePortObject:
          class_name: TestNodePort
          id: 505
          value: null
          node: 41
          variable: 254
          variableObject:
            class_name: TestVariable
            id: 254
            name: scoringModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: scoringModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 46
        destinationPort: 550
        destinationPortObject:
          class_name: TestNodePort
          id: 550
          value: _linearTestScoringModule
          node: 46
          variable: 81
          variableObject:
            class_name: TestVariable
            id: 81
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 13
            parentVariable: 77
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: scoringModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 173
        flowTest: 30
        sourceNode: 46
        sourcePort: 553
        sourcePortObject:
          class_name: TestNodePort
          id: 553
          value: '0'
          node: 46
          variable: 80
          variableObject:
            class_name: TestVariable
            id: 80
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 13
            parentVariable: 76
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 47
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 174
        flowTest: 30
        sourceNode: 41
        sourcePort: 508
        sourcePortObject:
          class_name: TestNodePort
          id: 508
          value: null
          node: 41
          variable: 257
          variableObject:
            class_name: TestVariable
            id: 257
            name: responseProcessorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseProcessorModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 47
        destinationPort: 564
        destinationPortObject:
          class_name: TestNodePort
          id: 564
          value: _linearTestResponseProcessorModule
          node: 47
          variable: 81
          variableObject:
            class_name: TestVariable
            id: 81
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 13
            parentVariable: 77
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: responseProcessorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 175
        flowTest: 30
        sourceNode: 47
        sourcePort: 567
        sourcePortObject:
          class_name: TestNodePort
          id: 567
          value: '0'
          node: 47
          variable: 80
          variableObject:
            class_name: TestVariable
            id: 80
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 13
            parentVariable: 76
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 48
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 176
        flowTest: 30
        sourceNode: 48
        sourcePort: 585
        sourcePortObject:
          class_name: TestNodePort
          id: 585
          value: ''
          node: 48
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: stop
          pointer: '0'
          pointerVariable: ''
        destinationNode: 42
        destinationPort: null
        destinationPortObject: null
        returnFunction: stop
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 177
        flowTest: 30
        sourceNode: 48
        sourcePort: 584
        sourcePortObject:
          class_name: TestNodePort
          id: 584
          value: ''
          node: 48
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: continue
          pointer: '0'
          pointerVariable: ''
        destinationNode: 44
        destinationPort: null
        destinationPortObject: null
        returnFunction: continue
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 178
        flowTest: 30
        sourceNode: 41
        sourcePort: 511
        sourcePortObject:
          class_name: TestNodePort
          id: 511
          value: null
          node: 41
          variable: 260
          variableObject:
            class_name: TestVariable
            id: 260
            name: statusCheckModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: statusCheckModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 48
        destinationPort: 578
        destinationPortObject:
          class_name: TestNodePort
          id: 578
          value: _linearTestStatusCheckModule
          node: 48
          variable: 81
          variableObject:
            class_name: TestVariable
            id: 81
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 13
            parentVariable: 77
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: statusCheckModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 179
        flowTest: 30
        sourceNode: 44
        sourcePort: 536
        sourcePortObject:
          class_name: TestNodePort
          id: 536
          value: ''
          node: 44
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: pastResponsesSafe
          pointer: '0'
          pointerVariable: ''
        destinationNode: 45
        destinationPort: 548
        destinationPortObject:
          class_name: TestNodePort
          id: 548
          value: null
          node: 45
          variable: 242
          variableObject:
            class_name: TestVariable
            id: 242
            name: responsesSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 29
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: responsesSafe
          pointer: '0'
          pointerVariable: ''
        returnFunction: pastResponsesSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 180
        flowTest: 30
        sourceNode: 49
        sourcePort: 594
        sourcePortObject:
          class_name: TestNodePort
          id: 594
          value: '0'
          node: 49
          variable: 112
          variableObject:
            class_name: TestVariable
            id: 112
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 19
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 50
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 181
        flowTest: 30
        sourceNode: 50
        sourcePort: 609
        sourcePortObject:
          class_name: TestNodePort
          id: 609
          value: '0'
          node: 50
          variable: 75
          variableObject:
            class_name: TestVariable
            id: 75
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 11
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 43
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 182
        flowTest: 30
        sourceNode: 41
        sourcePort: 512
        sourcePortObject:
          class_name: TestNodePort
          id: 512
          value: '0'
          node: 41
          variable: 261
          variableObject:
            class_name: TestVariable
            id: 261
            name: canGoBack
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: canGoBack
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 595
        destinationPortObject:
          class_name: TestNodePort
          id: 595
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: canGoBack
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 183
        flowTest: 30
        sourceNode: 41
        sourcePort: 496
        sourcePortObject:
          class_name: TestNodePort
          id: 496
          value: null
          node: 41
          variable: 245
          variableObject:
            class_name: TestVariable
            id: 245
            name: itemBankItems
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankItems
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 596
        destinationPortObject:
          class_name: TestNodePort
          id: 596
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankItems
          pointer: '0'
          pointerVariable: itemBankItems
        returnFunction: itemBankItems
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 184
        flowTest: 30
        sourceNode: 41
        sourcePort: 497
        sourcePortObject:
          class_name: TestNodePort
          id: 497
          value: null
          node: 41
          variable: 246
          variableObject:
            class_name: TestVariable
            id: 246
            name: itemBankTable
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankTable
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 597
        destinationPortObject:
          class_name: TestNodePort
          id: 597
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankTable
          pointer: '0'
          pointerVariable: itemBankTable
        returnFunction: itemBankTable
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 185
        flowTest: 30
        sourceNode: 41
        sourcePort: 498
        sourcePortObject:
          class_name: TestNodePort
          id: 498
          value: null
          node: 41
          variable: 247
          variableObject:
            class_name: TestVariable
            id: 247
            name: itemBankType
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankType
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 598
        destinationPortObject:
          class_name: TestNodePort
          id: 598
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankType
          pointer: '0'
          pointerVariable: itemBankType
        returnFunction: itemBankType
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 186
        flowTest: 30
        sourceNode: 41
        sourcePort: 509
        sourcePortObject:
          class_name: TestNodePort
          id: 509
          value: null
          node: 41
          variable: 258
          variableObject:
            class_name: TestVariable
            id: 258
            name: itemNumLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 599
        destinationPortObject:
          class_name: TestNodePort
          id: 599
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: itemNumLimit
        returnFunction: itemNumLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 187
        flowTest: 30
        sourceNode: 41
        sourcePort: 504
        sourcePortObject:
          class_name: TestNodePort
          id: 504
          value: null
          node: 41
          variable: 253
          variableObject:
            class_name: TestVariable
            id: 253
            name: itemTemplate
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTemplate
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 600
        destinationPortObject:
          class_name: TestNodePort
          id: 600
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTemplate
          pointer: '0'
          pointerVariable: itemTemplate
        returnFunction: itemTemplate
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 188
        flowTest: 30
        sourceNode: 41
        sourcePort: 510
        sourcePortObject:
          class_name: TestNodePort
          id: 510
          value: null
          node: 41
          variable: 259
          variableObject:
            class_name: TestVariable
            id: 259
            name: itemTimeFullRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 601
        destinationPortObject:
          class_name: TestNodePort
          id: 601
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: itemTimeFullRequired
        returnFunction: itemTimeFullRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 189
        flowTest: 30
        sourceNode: 41
        sourcePort: 503
        sourcePortObject:
          class_name: TestNodePort
          id: 503
          value: '0'
          node: 41
          variable: 252
          variableObject:
            class_name: TestVariable
            id: 252
            name: itemTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 602
        destinationPortObject:
          class_name: TestNodePort
          id: 602
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: itemTimeLimit
        returnFunction: itemTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 190
        flowTest: 30
        sourceNode: 41
        sourcePort: 501
        sourcePortObject:
          class_name: TestNodePort
          id: 501
          value: null
          node: 41
          variable: 250
          variableObject:
            class_name: TestVariable
            id: 250
            name: order
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: order
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 603
        destinationPortObject:
          class_name: TestNodePort
          id: 603
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: order
          pointer: '0'
          pointerVariable: order
        returnFunction: order
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 191
        flowTest: 30
        sourceNode: 41
        sourcePort: 506
        sourcePortObject:
          class_name: TestNodePort
          id: 506
          value: null
          node: 41
          variable: 255
          variableObject:
            class_name: TestVariable
            id: 255
            name: responseBank
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseBank
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 604
        destinationPortObject:
          class_name: TestNodePort
          id: 604
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseBank
          pointer: '0'
          pointerVariable: responseBank
        returnFunction: responseBank
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 192
        flowTest: 30
        sourceNode: 41
        sourcePort: 499
        sourcePortObject:
          class_name: TestNodePort
          id: 499
          value: '0'
          node: 41
          variable: 248
          variableObject:
            class_name: TestVariable
            id: 248
            name: testTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 605
        destinationPortObject:
          class_name: TestNodePort
          id: 605
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: testTimeLimit
        returnFunction: testTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 193
        flowTest: 30
        sourceNode: 41
        sourcePort: 500
        sourcePortObject:
          class_name: TestNodePort
          id: 500
          value: '0'
          node: 41
          variable: 249
          variableObject:
            class_name: TestVariable
            id: 249
            name: testTimeLimitOffset
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: ''
        destinationNode: 49
        destinationPort: 606
        destinationPortObject:
          class_name: TestNodePort
          id: 606
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: testTimeLimitOffset
        returnFunction: testTimeLimitOffset
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 194
        flowTest: 30
        sourceNode: 44
        sourcePort: 533
        sourcePortObject:
          class_name: TestNodePort
          id: 533
          value: ''
          node: 44
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: nextItemsSafe
          pointer: '0'
          pointerVariable: itemSafe
        destinationNode: 45
        destinationPort: 546
        destinationPortObject:
          class_name: TestNodePort
          id: 546
          value: null
          node: 45
          variable: 240
          variableObject:
            class_name: TestVariable
            id: 240
            name: itemsSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 29
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: itemsSafe
          pointer: '0'
          pointerVariable: itemSafe
        returnFunction: nextItemsSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 195
        flowTest: 30
        sourceNode: 49
        sourcePort: 593
        sourcePortObject:
          class_name: TestNodePort
          id: 593
          value: null
          node: 49
          variable: 114
          variableObject:
            class_name: TestVariable
            id: 114
            name: result
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 19
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: result
          pointer: '0'
          pointerVariable: result
        destinationNode: 50
        destinationPort: 610
        destinationPortObject:
          class_name: TestNodePort
          id: 610
          value: ''
          node: 50
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: settings
          pointer: '0'
          pointerVariable: settings
        returnFunction: result
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 196
        flowTest: 30
        sourceNode: 41
        sourcePort: 513
        sourcePortObject:
          class_name: TestNodePort
          id: 513
          value: null
          node: 41
          variable: 262
          variableObject:
            class_name: TestVariable
            id: 262
            name: responseRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        destinationNode: 49
        destinationPort: 607
        destinationPortObject:
          class_name: TestNodePort
          id: 607
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        returnFunction: responseRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 197
        flowTest: 30
        sourceNode: 41
        sourcePort: 514
        sourcePortObject:
          class_name: TestNodePort
          id: 514
          value: null
          node: 41
          variable: 263
          variableObject:
            class_name: TestVariable
            id: 263
            name: responseRequiredAlert
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        destinationNode: 49
        destinationPort: 608
        destinationPortObject:
          class_name: TestNodePort
          id: 608
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequiedAlert
          pointer: '0'
          pointerVariable: responseRequiedAlert
        returnFunction: responseRequiredAlert
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 257
        flowTest: 30
        sourceNode: 41
        sourcePort: 846
        sourcePortObject:
          class_name: TestNodePort
          id: 846
          value: '1'
          node: 41
          variable: 483
          variableObject:
            class_name: TestVariable
            id: 483
            name: itemsPerPage
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '1'
            test: 30
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemsPerPage
          pointer: '0'
          pointerVariable: itemsPerPage
        destinationNode: 49
        destinationPort: 847
        destinationPortObject:
          class_name: TestNodePort
          id: 847
          value: ''
          node: 49
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemsPerPage
          pointer: '0'
          pointerVariable: itemsPerPage
        returnFunction: itemsPerPage
        automatic: '0'
        defaultReturnFunction: '1'
    tags: ''
    groups: ''
    starterContent: true
    hash: 77891bce1b380dafc1a74a44cba9f205cb53fc97
  -
    class_name: Test
    id: 31
    name: _linearTestNextItemSelectorModule
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getSessionId = function(session) {
        id = 0
        if(!is.null(session) && is.list(session)) {
          id = session$id
        } else {
          id = paste0("i",concerto$session$id)
        }
        return(id)
      }
      
      getSafeItems = function(nextItems) {
        itemsNum = dim(nextItems)[1]
        if(itemsNum > 0) {
          for(i in 1:itemsNum) {
            item = as.list(nextItems[i,])
      
            if(is.character(item$responseOptions)) { item$responseOptions = fromJSON(item$responseOptions) }
            responseOptionsRandomOrder = item$responseOptions$optionsRandomOrder == "1"
            orderedOptions = c()
      
            if(length(item$responseOptions$options) > 0) {
              if(responseOptionsRandomOrder) {
                orderedOptions = item$responseOptions$options[sample(1:length(item$responseOptions$options))]
              } else {
                orderedOptions = item$responseOptions$options
              }
            }
            orderedOptions = lapply(orderedOptions, function(elem) {
              elem$score = NULL
              return(elem)
            })
      
            item$responseOptions$options = orderedOptions
            item$responseOptions$openScore = NULL
            item$responseOptions$openCorrect = NULL
            item$responseOptions = toJSON(item$responseOptions)
            
            nextItems[i,] = item
          }
        }
        return(nextItems)
      }
      
      getSafePastResponses = function(nextItems, session, responseBank) {
        responseBank = fromJSON(responseBank)
        if(is.null(responseBank$table)) {
          concerto.log("no response bank defined")
          return(NULL)
        }
      
        sql = "
      SELECT * FROM {{table}}
      WHERE 
      {{sessionIdColumn}}='{{sessionId}}' AND
      {{itemIdColumn}} IN ({{itemIds}})
      "
        responses = concerto.table.query(sql, list(
          table=responseBank$table,
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=getSessionId(session),
          itemIdColumn=responseBank$columns$item_id,
          itemIds=paste(nextItems[,"id"], collapse=",")
        ))
        if(dim(responses)[1] > 0) {
          responses[,"score"] = NULL
          return(responses)
        }
        return(NULL)
      }
      
      concerto.log(prevPage, "previous page")
      concerto.log(direction, "direction")
      nextPage = as.numeric(prevPage) + as.numeric(direction)
      
      pageFirstItemIndex = (nextPage - 1) * as.numeric(settings$itemsPerPage) + 1
      pageLastItemIndex = min(nextPage * as.numeric(settings$itemsPerPage), dim(items)[1])
      
      nextItemsIndices = pageFirstItemIndex:pageLastItemIndex
      concerto.log(nextItemsIndices, "next item indices")
      nextItems = items[nextItemsIndices,]
      nextItemsSafe = getSafeItems(nextItems)
      pastResponsesSafe = getSafePastResponses(nextItems, session, settings$responseBank)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 265
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 266
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 267
        name: nextItemsIndices
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 268
        name: nextItems
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 269
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 270
        name: direction
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 271
        name: nextItemsSafe
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 272
        name: prevPage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 273
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 274
        name: pastResponsesSafe
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 275
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 276
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
      -
        class_name: TestVariable
        id: 485
        name: nextPage
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 31
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 5504428e85cd8bbcd07a281c499ffc2bac9c7185
  -
    class_name: Test
    id: 32
    name: _linearTestScoringModule
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      updateScores = function(templateResponse, currentItems, currentItemsIndices, scores) {
        for(i in 1:dim(currentItems)[1]) {
          score = 0
          item = currentItems[i,]
          index = currentItemsIndices[i]
          itemResponse = templateResponse[[paste0("r",item$id)]]
      
          if(!is.null(itemResponse)) {
            responseOptions = fromJSON(item$responseOptions)
            if(responseOptions$type == "open") {
              if(itemResponse == responseOptions$openCorrect) {
                score = responseOptions$openScore
              }
            } else {
              for(i in 1:length(responseOptions$options)) {
                option = responseOptions$options[[i]]
                if(itemResponse == option$value) {
                  score = option$score
                  break
                }
              }
            }
          }
      
          scores[index] = score
        }
        return(scores)
      }
      
      updateTraitScores = function(scores, items) {
        traitScores = list()
        for(i in 1:length(scores)) {
          score = as.numeric(scores[[i]])
          if(is.null(score)) { score = 0 }
          item = as.list(items[i,])
          if(is.null(traitScores[[item$trait]])) {
            traitScores[[item$trait]] = 0
          }
          traitScores[[item$trait]] = traitScores[[item$trait]] + score
        }
        return(traitScores)
      }
      
      scores = updateScores(response, currentItems, currentItemsIndices, scores)
      traitScores = updateTraitScores(scores, items)
      
      concerto.log(scores, "scores")
      concerto.log(traitScores, "traitScores")
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 278
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 279
        name: currentItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 280
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 281
        name: scores
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 282
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 284
        name: currentItemsIndices
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 285
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 287
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 288
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 289
        name: traitScores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 487
        name: traitScores
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 422abd271fdd476a1979b6d2883184195720a8ec
  -
    class_name: Test
    id: 33
    name: _linearTestResponseProcessorModule
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getSessionId = function(session) {
        id = 0
        if(!is.null(session) && is.list(session)) {
          id = session$id
        } else {
          id = paste0("i",concerto$session$id)
        }
        return(id)
      }
      
      saveResponses = function(responseBank, sessionId, templateResponse, currentItems, currentItemsIndices, scores) {
        responseBank = fromJSON(responseBank)
        if(is.null(responseBank$table)) {
          concerto.log("no response bank defined, skipping response saving")
          return(NULL)
        }
        
        sql = "SELECT * FROM {{table}} WHERE {{itemIdColumn}} IN ({{itemsIds}}) AND {{sessionIdColumn}}='{{sessionId}}'"
        responses = concerto.table.query(sql, params=list(
          table=responseBank$table,
          itemIdColumn=responseBank$columns$item_id,
          itemsIds=paste(currentItems[,"id"], collapse=","),
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=sessionId
        ))
      
        queries = NULL
        for(i in 1:dim(currentItems)[1]) {
          found = F
          item = as.list(currentItems[i,])
          sql = ""
          if(dim(responses)[1] > 0) {
            for(j in 1:dim(responses)[1]) {
              response = as.list(responses[j,])
              if(response$item_id == item$id) {
                found = T
                sql = "
        UPDATE {{table}} 
        SET 
        {{itemIdColumn}}={{itemId}}, 
        {{responseColumn}}='{{response}}', 
        {{timeTakenColumn}}={{timeTaken}}, 
        {{sessionIdColumn}}='{{sessionId}}', 
        {{scoreColumn}}={{score}}, 
        {{traitColumn}}='{{trait}}'
        WHERE {{itemIdColumn}}={{itemId}} AND {{sessionIdColumn}}='{{sessionId}}'
        "
                break
              }
            }
          }
          if(!found) {
            sql = "
      INSERT INTO {{table}} ({{itemIdColumn}}, {{responseColumn}}, {{timeTakenColumn}}, {{sessionIdColumn}}, {{scoreColumn}}, {{traitColumn}})
      VALUES ({{itemId}}, '{{response}}', {{timeTaken}}, '{{sessionId}}', {{score}}, '{{trait}}')
      "
          }
          sql = concerto.table.insertParams(sql, list(
            table=responseBank$table,
            sessionIdColumn=responseBank$columns$session_id,
            sessionId=sessionId,
            itemIdColumn=responseBank$columns$item_id,
            itemId=item$id,
            responseColumn=responseBank$columns$response,
            response=templateResponse[[paste0("r",item$id)]],
            timeTakenColumn=responseBank$columns$timeTaken,
            timeTaken=response$timeTaken, #could use time difference
            scoreColumn=responseBank$columns$score,
            score=scores[currentItemsIndices[i]],
            traitColumn=responseBank$columns$trait,
            trait=item$trait
          ))
          queries = c(queries, sql)
        }
        for(i in 1:length(queries)) {
        	concerto.table.query(queries[i])  
        }
      }
      
      sessionId = getSessionId(session)
      saveResponses(settings$responseBank, sessionId, response, currentItems, currentItemsIndices, scores)
      
      direction = 1
      itemsAdministered = unique(c(itemsAdministered, currentItemsIndices)) 
      if(settings$canGoBack == "1" && page > 1 && response$buttonPressed == "back") {
        direction = -1
      }
      concerto.log(itemsAdministered, "itemsAdministered")
      concerto.log(direction, "direction")
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 290
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 291
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 292
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 293
        name: currentItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 294
        name: scores
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 296
        name: direction
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 297
        name: currentItemsIndices
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 298
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 299
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 300
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
      -
        class_name: TestVariable
        id: 488
        name: page
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 33
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: b178aa11b7d160a585f413b57ed5879b6c63a7ac
  -
    class_name: Test
    id: 34
    name: _linearTestStatusCheckModule
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      isOutOfTime = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired) {
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = testTimeLimit - startedAgo
        if(testTimeLimit > 0) {
          if(testTimeLeft <= 0) { return(T) }
          if(testTimeLeft < itemTimeLimit && itemTimeFullRequired) { return(T) }
        }
        return(F)
      }
      
      getBranch = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired, itemNumLimit, itemsNum, direction, itemsAdministered) {
        if(isOutOfTime(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired)) {
          concerto.log("time out", "test status")
          return("stop")
        }
        
        if(itemNumLimit > 0 && length(itemsAdministered) >= itemNumLimit || length(itemsAdministered) >= itemsNum) {
          if(direction > 0) {
            concerto.log("maximum items reached", "test status")
            return("stop")
          }
        }
        
        concerto.log("continue", "test status")
        return("continue")
      }
      
      .branch = getBranch(
        as.numeric(settings$testTimeLimit), 
        testTimeStarted, 
        as.numeric(settings$itemTimeLimit), 
        settings$itemTimeFullRequired == "1", 
        as.numeric(settings$itemNumLimit), 
        dim(items)[1],
        direction,
        itemsAdministered
      )
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 301
        name: continue
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: null
      -
        class_name: TestVariable
        id: 302
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: null
      -
        class_name: TestVariable
        id: 303
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: null
      -
        class_name: TestVariable
        id: 304
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: null
      -
        class_name: TestVariable
        id: 305
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: null
      -
        class_name: TestVariable
        id: 306
        name: stop
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: null
      -
        class_name: TestVariable
        id: 307
        name: direction
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: null
      -
        class_name: TestVariable
        id: 309
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: null
      -
        class_name: TestVariable
        id: 310
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: e40f2cbd0d9468c3437a2918f8d7fa246b3d4cf0
  -
    class_name: TestWizard
    id: 9
    name: linearTest
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 13
        title: Items
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 34
            label: Type
            description: |
              <p>Select where to get items from:</p>
              
              <ul>
              	<li><strong>Direct&nbsp;</strong>- declare item bank at the node level</li>
              	<li><strong>Table&nbsp;</strong>- use a data table as the item bank</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: direct
            testVariable: 247
            name: itemBankType
            wizardStep: 13
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              options:
                -
                  value: direct
                  label: Direct
                -
                  value: table
                  label: Table
              defvalue: direct
          -
            class_name: TestWizardParam
            id: 35
            label: Items
            description: 'Directly input your item bank'
            hideCondition: 'values.itemBankType != "direct"'
            type: 10
            passableThroughUrl: '0'
            value: '[{"id":"1","question":"10 + 10","orderIndex":"1","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"1"},{"value":"200","label":"200","score":"0"},{"value":"2000","label":"2000","score":"0"}],"optionsRandomOrder":"1"}},{"id":"2","question":"100 + 100","orderIndex":"2","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"0"},{"value":"200","label":"200","score":"1"},{"value":"2000","label":"2000","score":"0"}],"optionsRandomOrder":"1"}},{"id":"3","question":"1000 + 1000","orderIndex":"3","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"0"},{"value":"200","label":"200","score":"0"},{"value":"2000","label":"2000","score":"1"}],"optionsRandomOrder":"1"}}]'
            testVariable: 245
            name: itemBankItems
            wizardStep: 13
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: id
                      label: Id
                      definition:
                        placeholder: 0
                    -
                      type: 2
                      name: question
                      label: Question
                      definition:
                        placeholder: 0
                    -
                      type: 9
                      name: responseOptions
                      label: 'Response Options'
                      definition:
                        placeholder: 0
                        fields:
                          -
                            type: 3
                            name: type
                            label: Type
                            definition:
                              placeholder: 0
                              options:
                                -
                                  value: options
                                  label: Options
                                  order: 1
                                -
                                  value: open
                                  label: Open
                                  order: 0
                              defvalue: options
                          -
                            type: 0
                            name: openCorrect
                            label: 'Correct (Open)'
                            definition:
                              placeholder: 0
                              defvalue: ''
                            hideCondition: 'parent.type != "open"'
                          -
                            type: 0
                            name: openScore
                            label: 'Score (Open)'
                            definition:
                              placeholder: 0
                              defvalue: '1'
                            hideCondition: 'parent.type != "open"'
                          -
                            type: 10
                            name: options
                            label: Options
                            definition:
                              placeholder: 0
                              element:
                                type: 9
                                definition:
                                  placeholder: 0
                                  fields:
                                    -
                                      type: 0
                                      name: value
                                      label: Value
                                      definition:
                                        placeholder: 0
                                    -
                                      type: 2
                                      name: label
                                      label: Label
                                      definition:
                                        placeholder: 0
                                    -
                                      type: 0
                                      name: score
                                      label: Score
                                      definition:
                                        placeholder: 0
                                        defvalue: '0'
                            hideCondition: 'parent.type != "options"'
                          -
                            type: 4
                            name: optionsRandomOrder
                            label: 'Random Order (Options)'
                            definition:
                              placeholder: 0
                              defvalue: '1'
                            hideCondition: 'parent.type != "options"'
                    -
                      type: 0
                      name: orderIndex
                      label: 'Order Index'
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: trait
                      label: Trait
                      definition:
                        placeholder: 0
          -
            class_name: TestWizardParam
            id: 36
            label: Table
            description: 'Map columns in data table to item bank'
            hideCondition: 'values.itemBankType != "table"'
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 246
            name: itemBankTable
            wizardStep: 13
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: question
                  label: Question
                  tooltip: ''
                -
                  name: responseOptions
                  label: 'Response Options'
                  tooltip: ''
                -
                  name: orderIndex
                  label: 'Order Index'
                  tooltip: ''
                -
                  name: trait
                  label: Trait
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 37
            label: 'Item Template'
            description: 'Select which template to use for linear test item page design'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: linearTest
            testVariable: 253
            name: itemTemplate
            wizardStep: 13
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: linearTest
          -
            class_name: TestWizardParam
            id: 38
            label: Order
            description: |
              <p>Select the order in which to show items:</p>
              
              <ul>
              	<li><strong>Manual</strong>&nbsp;- item order will be determined by sorted values in&nbsp;the&nbsp;<strong>orderIndex&nbsp;</strong>column</li>
              	<li><strong>Random&nbsp;</strong>- items will be shown in a random order</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: random
            testVariable: 250
            name: order
            wizardStep: 13
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              options:
                -
                  value: manual
                  label: Manual
                -
                  value: random
                  label: Random
              defvalue: random
          -
            class_name: TestWizardParam
            id: 39
            label: 'Can Go Back?'
            description: 'Check box to enable the user to go back to items that have already been answered and change their response(s)'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 261
            name: canGoBack
            wizardStep: 13
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 80
            label: 'Items Per Page'
            description: ''
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '1'
            testVariable: 483
            name: itemsPerPage
            wizardStep: 13
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '1'
      -
        class_name: TestWizardStep
        id: 14
        title: 'Stopping Rules'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 40
            label: 'Limit Total Test Time'
            description: 'Total test time limit in seconds. 0&nbsp;= no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 248
            name: testTimeLimit
            wizardStep: 14
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 41
            label: 'Limit Time Per Item'
            description: 'Time limit for each item, in seconds.&nbsp;0 = no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 252
            name: itemTimeLimit
            wizardStep: 14
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 42
            label: 'Require Sufficient Time Per Item'
            description: 'Check this box to prevent the test from showing more items when the total test time remaining is less than the time limit per item.'
            hideCondition: 'values.testTimeLimit == 0 || values.itemTimeLimit == 0'
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 259
            name: itemTimeFullRequired
            wizardStep: 14
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 43
            label: 'Limit Number of Items'
            description: 'Maximum number of items to show in the test.&nbsp;0 =&nbsp;no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 258
            name: itemNumLimit
            wizardStep: 14
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
      -
        class_name: TestWizardStep
        id: 15
        title: Responses
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 44
            label: 'Response Bank'
            description: |
              <p style="margin-bottom:10px"><span style="font-size:11pt"><span style="background:white"><span style="line-height:normal"><span style="font-family:Calibri,sans-serif"><span style="font-size:10.5pt"><span style="font-family:&quot;Helvetica&quot;,sans-serif"><span style="color:#333333">Specify where to save responses to items. Leave empty to not store responses.</span></span></span></span></span></span></span></p>
              
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 255
            name: responseBank
            wizardStep: 15
            stepTitle: Responses
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: item_id
                  label: 'Item Id'
                  tooltip: ''
                -
                  name: response
                  label: Response
                  tooltip: ''
                -
                  name: timeTaken
                  label: 'Time Taken'
                  tooltip: ''
                -
                  name: session_id
                  label: 'Session Id'
                  tooltip: ''
                -
                  name: score
                  label: Score
                  tooltip: ''
                -
                  name: trait
                  label: Trait
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 45
            label: 'Require Response'
            description: '<span style="font-size:10.5pt"><span style="line-height:107%"><span style="font-family:&quot;Helvetica&quot;,sans-serif"><span style="color:#333333">Check box to require user to answer all items before proceeding to next page.</span></span></span></span>'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 262
            name: responseRequired
            wizardStep: 15
            stepTitle: Responses
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 46
            label: 'Response required alert'
            description: 'Alert when no response is given.'
            hideCondition: 'values.responseRequired == 0'
            type: 0
            passableThroughUrl: '0'
            value: 'Response required!'
            testVariable: 263
            name: responseRequiredAlert
            wizardStep: 15
            stepTitle: Responses
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: 'Response required!'
      -
        class_name: TestWizardStep
        id: 16
        title: Modules
        description: 'Test modules. Each module is a separate test that can use specific input variables and must return specific return variables.'
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 47
            label: 'Next Item Selector Module'
            description: |
              <p>Next item selector module. Needs to return:</p>
              
              <ul>
              	<li><strong>nextItem</strong>&nbsp;- list - representing next item to&nbsp;show</li>
              	<li><strong>nextItemIndex</strong>&nbsp;- numerical -&nbsp;index of next item to show</li>
              	<li><strong>nextItemSafe</strong>&nbsp;- list - representing&nbsp;next item record that can be passed to client side (should not contain sensitive data!)</li>
              	<li><strong>pastResponseSafe&nbsp;</strong>- list - representing past response for next item that can be passed to client side (should not contain&nbsp;sensitive data!)</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _linearTestNextItemSelectorModule
            testVariable: 251
            name: nextItemSelectorModule
            wizardStep: 16
            stepTitle: Modules
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: _linearTestNextItemSelectorModule
          -
            class_name: TestWizardParam
            id: 48
            label: 'Scoring Module'
            description: |
              <p>Scoring module. Needs to return:</p>
              
              <ul>
              	<li><strong>score&nbsp;</strong>- numerical - score for last response given</li>
              	<li><strong>scores</strong>&nbsp;- vector -&nbsp;scores for all past responses</li>
              	<li><strong>traitScores</strong>&nbsp;- list -&nbsp;keys are trait names and values are total scores for each trait</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _linearTestScoringModule
            testVariable: 254
            name: scoringModule
            wizardStep: 16
            stepTitle: Modules
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: _linearTestScoringModule
          -
            class_name: TestWizardParam
            id: 49
            label: 'Response Processor Module'
            description: |
              <p>Response processor module. Needs to return:</p>
              
              <ul>
              	<li><strong>direction</strong>&nbsp;- numerical -&nbsp;positive for next item, negative for previous item</li>
              	<li><strong>itemsAdministered</strong>&nbsp;- vector - containing indices of the items administered</li>
              	<li><strong>responseId</strong>&nbsp;- numerical - containing id of the inserted response record</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _linearTestResponseProcessorModule
            testVariable: 257
            name: responseProcessorModule
            wizardStep: 16
            stepTitle: Modules
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: _linearTestResponseProcessorModule
          -
            class_name: TestWizardParam
            id: 50
            label: 'Status Check Module'
            description: |
              <p>Status check module. Checks if test should be continued or should be stopped. Needs to&nbsp;return:</p>
              
              <ul>
              	<li><strong>.branch&nbsp;</strong>- string - containing either&nbsp;<strong>continue </strong>or&nbsp;<strong>stop&nbsp;</strong>as a value</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _linearTestStatusCheckModule
            testVariable: 260
            name: statusCheckModule
            wizardStep: 16
            stepTitle: Modules
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: _linearTestStatusCheckModule
    test: 30
    groups: ''
    starterContent: true
    hash: d3a9ac92be3254dbd22c8e69e5a9229637db5004
  -
    class_name: Test
    id: 35
    name: linearTest
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Linear test.'
    variables:
      -
        class_name: TestVariable
        id: 311
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: 244
      -
        class_name: TestVariable
        id: 312
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[{"id":"1","question":"10 + 10","orderIndex":"1","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"1"},{"value":"200","label":"200","score":"0"},{"value":"2000","label":"2000","score":"0"}],"optionsRandomOrder":"1"}},{"id":"2","question":"100 + 100","orderIndex":"2","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"0"},{"value":"200","label":"200","score":"1"},{"value":"2000","label":"2000","score":"0"}],"optionsRandomOrder":"1"}},{"id":"3","question":"1000 + 1000","orderIndex":"3","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"0"},{"value":"200","label":"200","score":"0"},{"value":"2000","label":"2000","score":"1"}],"optionsRandomOrder":"1"}}]'
        test: 35
        parentVariable: 245
      -
        class_name: TestVariable
        id: 313
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 35
        parentVariable: 246
      -
        class_name: TestVariable
        id: 314
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 35
        parentVariable: 247
      -
        class_name: TestVariable
        id: 315
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: 248
      -
        class_name: TestVariable
        id: 316
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: 249
      -
        class_name: TestVariable
        id: 317
        name: order
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: random
        test: 35
        parentVariable: 250
      -
        class_name: TestVariable
        id: 318
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _linearTestNextItemSelectorModule
        test: 35
        parentVariable: 251
      -
        class_name: TestVariable
        id: 319
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: 252
      -
        class_name: TestVariable
        id: 320
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: linearTest
        test: 35
        parentVariable: 253
      -
        class_name: TestVariable
        id: 321
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _linearTestScoringModule
        test: 35
        parentVariable: 254
      -
        class_name: TestVariable
        id: 322
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 35
        parentVariable: 255
      -
        class_name: TestVariable
        id: 323
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 35
        parentVariable: 256
      -
        class_name: TestVariable
        id: 324
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _linearTestResponseProcessorModule
        test: 35
        parentVariable: 257
      -
        class_name: TestVariable
        id: 325
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: 258
      -
        class_name: TestVariable
        id: 326
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: 259
      -
        class_name: TestVariable
        id: 327
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _linearTestStatusCheckModule
        test: 35
        parentVariable: 260
      -
        class_name: TestVariable
        id: 328
        name: canGoBack
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: 261
      -
        class_name: TestVariable
        id: 329
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: 262
      -
        class_name: TestVariable
        id: 330
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: 'Response required!'
        test: 35
        parentVariable: 263
      -
        class_name: TestVariable
        id: 331
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 35
        parentVariable: 264
      -
        class_name: TestVariable
        id: 484
        name: itemsPerPage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 35
        parentVariable: 483
    sourceWizard: 9
    sourceWizardTest: 30
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 519845be9966eaae31536613422aa900a8c7f492
  -
    class_name: Test
    id: 36
    name: _form
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getTemplateParams = function(templateParams, fields, initialValues) {
        if(!is.list(templateParams)) {
          templateParams = list()
        }
        for(name in .dynamicInputs) {
          templateParams[[name]] = get(name)
        }
        templateParams$fields = fields
        templateParams$initialValues = initialValues
        return(templateParams)
      }
      
      response = concerto5:::concerto.template.show(
        template,
        params=getTemplateParams(templateParams, fields, initialValues)
      )
      
      for(.name in .dynamicReturns) {
        assign(.name, response[[.name]])
      }
      if(".branch" %in% .dynamicReturns) {
        .branch = response$buttonPressed
        if(!(.branch %in% .dynamicBranches)) { .branch = "out" }
      }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 332
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 36
        parentVariable: null
      -
        class_name: TestVariable
        id: 333
        name: fields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 36
        parentVariable: null
      -
        class_name: TestVariable
        id: 334
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 36
        parentVariable: null
      -
        class_name: TestVariable
        id: 335
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 36
        parentVariable: null
      -
        class_name: TestVariable
        id: 336
        name: template
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 36
        parentVariable: null
      -
        class_name: TestVariable
        id: 337
        name: initialValues
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{}'
        test: 36
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 8254738952e48f2d8a4975a5631db9594e643395
  -
    class_name: TestWizard
    id: 10
    name: form
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 17
        title: Form
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 10
        params:
          -
            class_name: TestWizardParam
            id: 51
            label: Template
            description: 'Select which template to use for form design'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: form
            testVariable: 336
            name: template
            wizardStep: 17
            stepTitle: Form
            order: 0
            wizard: 10
            definition:
              placeholder: 0
              defvalue: form
          -
            class_name: TestWizardParam
            id: 52
            label: Fields
            description: 'List of fields to be used by the form'
            hideCondition: ''
            type: 10
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 333
            name: fields
            wizardStep: 17
            stepTitle: Form
            order: 0
            wizard: 10
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: name
                      label: Name
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: label
                      label: Label
                      definition:
                        placeholder: 0
                    -
                      type: 3
                      name: type
                      label: Type
                      definition:
                        placeholder: 0
                        options:
                          -
                            value: singleLine
                            label: 'Single line text'
                            order: 0
                          -
                            value: multiLine
                            label: 'Multi line text'
                            order: 2
                          -
                            value: checkbox
                            label: Checkbox
                            order: 3
                          -
                            value: password
                            label: Password
                            order: 1
                        defvalue: singleLine
                    -
                      type: 10
                      name: validation
                      label: Validation
                      definition:
                        placeholder: 0
                        element:
                          type: 9
                          definition:
                            placeholder: 0
                            fields:
                              -
                                type: 3
                                name: type
                                label: Type
                                definition:
                                  placeholder: 0
                                  options:
                                    -
                                      value: required
                                      label: Required
                                    -
                                      value: minlength
                                      label: 'Min length'
                                    -
                                      value: maxlength
                                      label: 'Max length'
                                    -
                                      value: min
                                      label: Min
                                    -
                                      value: max
                                      label: Max
                                    -
                                      value: pattern
                                      label: Pattern
                                  defvalue: required
                                hideCondition: ''
                              -
                                type: 0
                                name: value
                                label: Value
                                definition:
                                  placeholder: 0
                                hideCondition: 'parent.type != "minlength" && parent.type != "maxlength" && parent.type != "min" && parent.type != "max" && parent.type != "pattern"'
                              -
                                type: 0
                                name: alert
                                label: Alert
                                definition:
                                  placeholder: 0
                                  defvalue: 'Invalid value!'
    test: 36
    groups: ''
    starterContent: true
    hash: 2f71cc5ff46106e3ddf1f5f50e5f7b7af99e4224
  -
    class_name: Test
    id: 37
    name: form
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Form page.'
    variables:
      -
        class_name: TestVariable
        id: 338
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 37
        parentVariable: 332
      -
        class_name: TestVariable
        id: 339
        name: fields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 37
        parentVariable: 333
      -
        class_name: TestVariable
        id: 340
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 37
        parentVariable: 334
      -
        class_name: TestVariable
        id: 341
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 37
        parentVariable: 335
      -
        class_name: TestVariable
        id: 342
        name: template
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: form
        test: 37
        parentVariable: 336
      -
        class_name: TestVariable
        id: 343
        name: initialValues
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 37
        parentVariable: 337
    sourceWizard: 10
    sourceWizardTest: 36
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 2a678dbc6493bd8c474c7dd0f2e3ef239a09e0a9
  -
    class_name: Test
    id: 46
    name: _dataManipulation
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getWhereClause = function(where, type) {
        if((is.na(where) || where == "") && type != "update") {
          elems = NULL
          for(name in .dynamicInputs) {
            elem = concerto.table.insertParams("{{name}}='{{value}}'", list(
              name=name,
              value=get(name)
            ))
            elems = c(elems, elem)
          }
          if(length(elems) > 0) {
            elemsJoined = paste(elems, collapse=" AND ")
            return(paste0("WHERE ", elemsJoined))
          }
        } else if(length(where) == 1) {
          id = suppressWarnings(as.numeric(where))
          if(is.character(where) && is.na(id)) {
            params = list()
            for(name in .dynamicInputs) {
              params[[name]] = get(name)
            }
            elemsJoined = concerto.table.insertParams(where, params)
            return(paste0("WHERE ", elemsJoined))
          } else if(is.numeric(id)) {
            return(paste0("WHERE id=",where))
          }
        }
        return(NULL)
      }
          
      getSetClause = function(set, type) {
        if(is.na(set) || set == "") {
          if(type == "insert") {
            cols = NULL
            vals = NULL
            for(name in .dynamicInputs) {
              cols = c(cols, name)
              val = concerto.table.insertParams("'{{value}}'", list(
                value=get(name)
              ))
              vals = c(vals, val)
            }
            if(length(cols) > 0) {
              colsJoined = paste(cols, collapse=", ")
              valsJoined = paste(vals, collapse=", ")
              return(paste0("(",colsJoined,") VALUES (",valsJoined,")"))
            }
          } else {
            elems = NULL
            for(name in .dynamicInputs) {
              elem = concerto.table.insertParams("{{name}}='{{value}}'", list(
                name=name,
                value=get(name)
              ))
              elems = c(elems, elem)
            }
            if(length(elems) > 0) {
              elemsJoined = paste(elems, collapse=", ")
              return(paste0("SET ", elemsJoined))
            }
          }
        } else if(length(set) == 1 && is.character(set)) {
          params = list()
          for(name in .dynamicInputs) {
            params[[name]] = get(name)
          }
          elemsJoined = concerto.table.insertParams(set, params)
          return(paste0("SET ", elemsJoined))
        }
        return(NULL)
      }
        
      getCustomQuery = function(queryString) {
        params = list()
        for(name in .dynamicInputs) {
          params[[name]] = get(name)
        }
        queryString = concerto.table.insertParams(queryString, params)
        return(queryString)
      }
      
      result = NULL
      if(queryType == "select") {
        queryString = "SELECT * FROM {{table}}"
        whereString = getWhereClause(whereClause, queryType)
        if(!is.null(whereString)) {
          queryString = paste0(queryString, " ", whereString)
        }
        result = concerto.table.query(queryString, params=list(
          table=table
        ))
      } else if(queryType == "insert") {
        queryString = "INSERT INTO {{table}}"
        setString = getSetClause(setClause, queryType)
        if(!is.null(setString)) {
          queryString = paste0(queryString, " ", setString)
        }
        result = concerto.table.query(queryString, params=list(
          table=table
        ))
      } else if(queryType == "update") {
        queryString = "UPDATE {{table}}"
        setString = getSetClause(setClause, queryType)
        if(!is.null(setString)) {
          queryString = paste0(queryString, " ", setString)
        } else {
          stop("No 'set' clause for UPDATE query")
        }
        whereString = getWhereClause(whereClause, queryType)
        if(!is.null(whereString)) {
          queryString = paste0(queryString, " ", whereString)
        }
        result = concerto.table.query(queryString, params=list(
          table=table
        ))
      } else if(queryType == "delete") {
        queryString = "DELETE FROM {{table}}"
        whereString = getWhereClause(whereClause, queryType)
        if(!is.null(whereString)) {
          queryString = paste0(queryString, " ", whereString)
        }
        result = concerto.table.query(queryString, params=list(
          table=table
        ))
      } else {
        queryString = getCustomQuery(queryString)
        result = concerto.table.query(queryString)
      }
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 454
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 46
        parentVariable: null
      -
        class_name: TestVariable
        id: 455
        name: queryType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 46
        parentVariable: null
      -
        class_name: TestVariable
        id: 456
        name: queryString
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 46
        parentVariable: null
      -
        class_name: TestVariable
        id: 457
        name: result
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 46
        parentVariable: null
      -
        class_name: TestVariable
        id: 458
        name: table
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 46
        parentVariable: null
      -
        class_name: TestVariable
        id: 459
        name: whereClause
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 46
        parentVariable: null
      -
        class_name: TestVariable
        id: 460
        name: setClause
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 46
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 91d92eb7440b32185ff1c03d4f4717b8b6a100f4
  -
    class_name: TestWizard
    id: 12
    name: dataManipulation
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 22
        title: Data
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 12
        params:
          -
            class_name: TestWizardParam
            id: 72
            label: 'Query type'
            description: |
              <p>Select which type of query this&nbsp;node should perform:</p>
              
              <ul>
              	<li><strong>Select&nbsp;</strong>- reads data from table</li>
              	<li><strong>Update&nbsp;</strong>- updates existing data in table</li>
              	<li><strong>Insert&nbsp;</strong>- inserts new data into table</li>
              	<li><strong>Delete&nbsp;</strong>- deletes existing data from table</li>
              	<li><strong>Custom&nbsp;</strong>- custom query</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: select
            testVariable: 455
            name: queryType
            wizardStep: 22
            stepTitle: Data
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              options:
                -
                  value: select
                  label: Select
                  order: 0
                -
                  value: update
                  label: Update
                  order: 1
                -
                  value: delete
                  label: Delete
                  order: 3
                -
                  value: custom
                  label: Custom
                  order: 4
                -
                  value: insert
                  label: Insert
                  order: 2
              defvalue: select
          -
            class_name: TestWizardParam
            id: 73
            label: Table
            description: 'Select which table to perform the query on'
            hideCondition: 'values.queryType == "custom"'
            type: 6
            passableThroughUrl: '0'
            value: ''
            testVariable: 458
            name: table
            wizardStep: 22
            stepTitle: Data
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 74
            label: Query
            description: 'Custom query. Can use insert directives that will be replaced with dynamic input values.'
            hideCondition: 'values.queryType != "custom"'
            type: 1
            passableThroughUrl: '0'
            value: ''
            testVariable: 456
            name: queryString
            wizardStep: 22
            stepTitle: Data
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 75
            label: 'Set clause'
            description: |
              <p>Here you can configure the operation of the Set clause:</p>
              
              <ul>
              	<li>If the cell contains a&nbsp;string (<strong>Insert</strong>,&nbsp;<strong>Update</strong> only), it will be used literally and replace any insert directives with dynamic inputs from the node, e.g.:<br />
              	<strong>column1={{column1Value}} AND column2={{column2Value}}</strong></li>
              	<li>If the cell is empty, it will build a clause from dynamic inputs, using &#39;<b>=</b>&#39;<b>&nbsp;</b>and &#39;<b>AND</b>&#39;<b>&nbsp;</b>operators, e.g.:</li>
              </ul>
              
              <ol>
              	<li><strong>(Insert</strong>&nbsp;only) for dynamic inputs:&nbsp;<strong>col1=2</strong>,&nbsp;<strong>col2=3:</strong><strong>(col1,col2) VALUES (2,3)</strong></li>
              	<li>(<strong>Update</strong>&nbsp;only) for dynamic inputs:&nbsp;<strong>col1=2</strong>,&nbsp;<strong>col2=3:</strong><strong>col1=2, col2=3</strong></li>
              </ol>
              
            hideCondition: 'values.queryType == "select"'
            type: 1
            passableThroughUrl: '0'
            value: ''
            testVariable: 460
            name: setClause
            wizardStep: 22
            stepTitle: Data
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 76
            label: 'Where clause'
            description: |
              <p>Here you can configure the operation of the where clause.</p>
              
              <ul>
              	<li>If the cell contains a string (<strong>Select</strong>,&nbsp;<strong>Delete</strong> only), it will be used literally and will therefore replace any insert directives with dynamic inputs from the node, e.g.:<br />
              	<strong>column1={{column1Value}} AND column2={{column2Value}}</strong></li>
              	<li>If the cell contains a&nbsp;numeric value, it will be converted to an id e.g.:<br />
              	<strong>23&nbsp;</strong>will be converted to&nbsp;<strong>id=23</strong></li>
              	<li>If the cell is empty, this node&nbsp;will build a where clause from dynamic inputs, using &#39;<b>=</b>&#39;<b>&nbsp;</b>and &#39;<b>AND</b>&#39;<b>&nbsp;</b>operators, e.g.: for dynamic inputs:&nbsp;<strong>col1=2</strong>,&nbsp;<strong>col2=3:</strong>&nbsp;<strong>col1=2 AND col2=3</strong></li>
              </ul>
              
            hideCondition: 'values.queryType == "insert"'
            type: 1
            passableThroughUrl: '0'
            value: ''
            testVariable: 459
            name: whereClause
            wizardStep: 22
            stepTitle: Data
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: ''
    test: 46
    groups: ''
    starterContent: true
    hash: 1901e55e02642456e281968900e5bcd1e748bca1
  -
    class_name: Test
    id: 47
    name: dataManipulation
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Data tables manipulation.'
    variables:
      -
        class_name: TestVariable
        id: 461
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 47
        parentVariable: 454
      -
        class_name: TestVariable
        id: 462
        name: queryType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: select
        test: 47
        parentVariable: 455
      -
        class_name: TestVariable
        id: 463
        name: queryString
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 47
        parentVariable: 456
      -
        class_name: TestVariable
        id: 464
        name: result
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 47
        parentVariable: 457
      -
        class_name: TestVariable
        id: 465
        name: table
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 47
        parentVariable: 458
      -
        class_name: TestVariable
        id: 466
        name: whereClause
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 47
        parentVariable: 459
      -
        class_name: TestVariable
        id: 467
        name: setClause
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 47
        parentVariable: 460
    sourceWizard: 12
    sourceWizardTest: 46
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 12524d30dc658db6432c291f17e454cd06095629
  -
    class_name: Test
    id: 48
    name: _translationDictionary
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 0
    code: |
      selectedLanguage = language
      if(is.na(language)) { selectedLanguage = defaultLanguage }
      
      concerto.log(selectedLanguage, "selected language")
      
      dictionaryTable = fromJSON(dictionaryTable)
      if(type == "multiTable") {
        suffixStartIndex = regexpr("_[^_]*$", dictionaryTable$table)
        if(suffixStartIndex==-1) {
          stop(paste0("dictionary mapping table ", dictionaryTable$table, " doesn't contain proper language suffix"))
        }
        
        dictionaryTable$table = paste0(substr(dictionaryTable$table, 1, suffixStartIndex), selectedLanguage)
      }
      
      entries = concerto.table.query("SELECT {{keyColumn}} AS entryKey, {{langColumn}} AS trans FROM {{table}}", params=list(
        keyColumn = dictionaryTable$columns$entryKey,
        langColumn = selectedLanguage,
        table = dictionaryTable$table
      ))
      
      c.set("dictionary", entries, global=T)
      
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 468
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 48
        parentVariable: null
      -
        class_name: TestVariable
        id: 469
        name: language
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 48
        parentVariable: null
      -
        class_name: TestVariable
        id: 470
        name: defaultLanguage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 48
        parentVariable: null
      -
        class_name: TestVariable
        id: 471
        name: dictionaryTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 48
        parentVariable: null
      -
        class_name: TestVariable
        id: 472
        name: type
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 48
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 8b0a7f5cb059aa35afbdc0fcd15cfdab78c3bacc
  -
    class_name: TestWizard
    id: 13
    name: translationDictionary
    description: ''
    accessibility: 2
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 23
        title: Dictionary
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 13
        params:
          -
            class_name: TestWizardParam
            id: 77
            label: 'Dictionary table'
            description: 'Select which table to use as the dictionary table. If you are using the&nbsp;<strong>Language per table</strong>&nbsp;type, it does not matter which language version table you select here.'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '{"table":"translationDictionary","columns":{"id":"id","entryKey":"entryKey"}}'
            testVariable: 471
            name: dictionaryTable
            wizardStep: 23
            stepTitle: Dictionary
            order: 1
            wizard: 13
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: entryKey
                  label: 'Entry key'
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 78
            label: 'Default language'
            description: 'Select which language should be used as a default when no language is specified'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: en
            testVariable: 470
            name: defaultLanguage
            wizardStep: 23
            stepTitle: Dictionary
            order: 2
            wizard: 13
            definition:
              placeholder: 0
              defvalue: en
          -
            class_name: TestWizardParam
            id: 79
            label: Type
            description: |
              <p>Select which type of dictionary table you would like&nbsp;to use:</p>
              
              <ul>
              	<li><strong>Language per table&nbsp;</strong>- each language will have its own table. Tables names must end with an underscore, followed by the language code, e.g.&nbsp;table&nbsp;<strong>dictionary_en</strong>&nbsp;for English). The name of the column containing the translated data must also&nbsp;be the same as the language code (e.g. column&nbsp;<strong>en</strong>&nbsp;for English)</li>
              	<li><strong>Language per column</strong>&nbsp;-&nbsp; all languages are in a single table, but each language has its own column. The names of columns containing the translated data must be the same as the language code (e.g. column&nbsp;<strong>en&nbsp;</strong>for English, column <strong>fr&nbsp;</strong>for French, etc.)</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: multiColumn
            testVariable: 472
            name: type
            wizardStep: 23
            stepTitle: Dictionary
            order: 0
            wizard: 13
            definition:
              placeholder: 0
              options:
                -
                  value: multiTable
                  label: 'Language per table'
                  order: 1
                -
                  value: multiColumn
                  label: 'Language per column'
                  order: 0
              defvalue: multiColumn
    test: 48
    groups: ''
    starterContent: true
    hash: 259633d50b0ec5f1d83fedf1d5b7c4d39370ee0a
  -
    class_name: Test
    id: 49
    name: translationDictionary
    accessibility: 2
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Sets translation dictionary rules.'
    variables:
      -
        class_name: TestVariable
        id: 473
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 49
        parentVariable: 468
      -
        class_name: TestVariable
        id: 474
        name: language
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 49
        parentVariable: 469
      -
        class_name: TestVariable
        id: 475
        name: defaultLanguage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: en
        test: 49
        parentVariable: 470
      -
        class_name: TestVariable
        id: 476
        name: dictionaryTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"translationDictionary","columns":{"id":"id","entryKey":"entryKey"}}'
        test: 49
        parentVariable: 471
      -
        class_name: TestVariable
        id: 477
        name: type
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: multiColumn
        test: 49
        parentVariable: 472
    sourceWizard: 13
    sourceWizardTest: 48
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 93351a71fb2cfe6d0f9cef5d75572604fc229131
