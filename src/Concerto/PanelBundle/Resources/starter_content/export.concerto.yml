version: 5.0.beta.9.1
collection:
  -
    class_name: DataTable
    id: 1
    name: users
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: login
        type: string
        nullable: false
      -
        name: password
        type: string
        nullable: false
      -
        name: enabled
        type: boolean
        nullable: false
    groups: ''
    starterContent: true
    hash: e2ba936fe247f4aed6496c984f4479b276c0936c
  -
    class_name: DataTable
    id: 2
    name: sessions
    description: ''
    accessibility: 0
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: internal_id
        type: bigint
        nullable: false
      -
        name: test_id
        type: bigint
        nullable: false
      -
        name: user_id
        type: bigint
        nullable: false
      -
        name: startedTime
        type: datetime
        nullable: false
      -
        name: updateTime
        type: datetime
        nullable: false
      -
        name: finished
        type: boolean
        nullable: false
    groups: ''
    starterContent: true
    hash: aacff426b7217ab867ec99eb633711619d5b935f
  -
    class_name: DataTable
    id: 4
    name: CATResponses
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: item_id
        type: bigint
        nullable: false
      -
        name: response
        type: string
        nullable: false
      -
        name: timeTaken
        type: float
        nullable: false
      -
        name: session_id
        type: string
        nullable: false
      -
        name: correct
        type: boolean
        nullable: false
      -
        name: theta
        type: float
        nullable: false
      -
        name: sem
        type: float
        nullable: false
    groups: ''
    starterContent: true
    hash: 19091d0035ceb9d977976912c93e30382952936b
  -
    class_name: DataTable
    id: 5
    name: CATItems
    description: ''
    accessibility: 0
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: question
        type: text
        nullable: false
      -
        name: responseOptions
        type: text
        nullable: false
      -
        name: a
        type: float
        nullable: false
      -
        name: b
        type: float
        nullable: false
      -
        name: c
        type: float
        nullable: false
      -
        name: d
        type: float
        nullable: false
      -
        name: correct
        type: string
        nullable: false
      -
        name: cbGroup
        type: text
        nullable: false
      -
        name: fixedIndex
        type: integer
        nullable: false
    groups: ''
    starterContent: true
    hash: e69c6126edfcd762345ac2304d19d6b3e4b7241c
  -
    class_name: DataTable
    id: 9
    name: linearTestItems
    description: ''
    accessibility: 0
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: question
        type: text
        nullable: false
      -
        name: responseOptions
        type: text
        nullable: false
      -
        name: orderIndex
        type: integer
        nullable: false
      -
        name: trait
        type: string
        nullable: false
    groups: ''
    starterContent: true
    hash: c7a0430965944cc149b18229407c1606461b7877
  -
    class_name: DataTable
    id: 11
    name: linearTestResponses
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: item_id
        type: bigint
        nullable: false
      -
        name: response
        type: string
        nullable: false
      -
        name: timeTaken
        type: float
        nullable: false
      -
        name: session_id
        type: string
        nullable: false
      -
        name: score
        type: float
        nullable: false
      -
        name: trait
        type: string
        nullable: false
    groups: ''
    starterContent: true
    hash: 6a88eea42660caedf519c69a254dac3be29df919
  -
    class_name: DataTable
    id: 12
    name: questionnaireItems
    description: ''
    accessibility: 0
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: question
        type: text
        nullable: false
      -
        name: orderIndex
        type: integer
        nullable: false
      -
        name: trait
        type: string
        nullable: false
      -
        name: reversedScore
        type: boolean
        nullable: false
    groups: ''
    starterContent: true
    hash: 9b0f51a732e979905e7250bf573ffeeb9351b541
  -
    class_name: DataTable
    id: 13
    name: questionnaireResponses
    description: ''
    accessibility: 2
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: item_id
        type: bigint
        nullable: false
      -
        name: response
        type: string
        nullable: false
      -
        name: timeTaken
        type: float
        nullable: false
      -
        name: session_id
        type: string
        nullable: false
      -
        name: score
        type: float
        nullable: false
      -
        name: trait
        type: string
        nullable: false
    groups: ''
    starterContent: true
    hash: e7f2e55b0a0102ab25c3002c97643cf6d668a379
  -
    class_name: DataTable
    id: 14
    name: translationDictionary
    description: ''
    accessibility: 0
    archived: '0'
    columns:
      -
        name: id
        type: bigint
        nullable: false
      -
        name: entryKey
        type: string
        nullable: false
      -
        name: en
        type: text
        nullable: false
      -
        name: de
        type: text
        nullable: false
      -
        name: es
        type: text
        nullable: false
      -
        name: fr
        type: text
        nullable: false
      -
        name: zh
        type: text
        nullable: false
    groups: ''
    starterContent: true
    hash: d39f707938a292225bc07af776c9bbee2b4bb5d7
  -
    class_name: Test
    id: 1
    name: _showPage
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getTemplateParams = function(templateParams) {
        if(!is.list(templateParams)) {
          templateParams = list()
        }
        for(.name in .dynamicInputs) {
          templateParams[[.name]] = get(.name)
        }
        return(templateParams)
      }
      
      response = concerto5:::concerto.template.show(
        template=template, 
        html=if(!is.null(html) && !is.na(html) && html != "") {html} else {""},
        params=getTemplateParams(templateParams), 
        timeLimit=if(!is.na(timeLimit)) { as.numeric(timeLimit) } else { 0 }
      )
      
      for(.name in .dynamicReturns) {
        assign(.name, response[[.name]])
      }
      if(".branch" %in% .dynamicReturns) {
        .branch = response$buttonPressed
        if(!(.branch %in% .dynamicBranches)) { .branch = "out" }
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 1
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 2
        name: template
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 3
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 4
        name: timeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 74
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 1
        parentVariable: null
      -
        class_name: TestVariable
        id: 344
        name: html
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 1
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 37436b9d72c69d58e5b5489bafdcfea1fe1e599f
  -
    class_name: TestWizard
    id: 1
    name: showPage
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 1
        title: Template
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 1
        params:
          -
            class_name: TestWizardParam
            id: 1
            label: 'View Template'
            description: 'View template to show'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: ''
            testVariable: 2
            name: template
            wizardStep: 1
            stepTitle: Template
            order: 0
            wizard: 1
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 2
            label: 'Time limit'
            description: 'Time limit in seconds. <strong>0</strong> for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 4
            name: timeLimit
            wizardStep: 1
            stepTitle: Template
            order: 2
            wizard: 1
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 51
            label: HTML
            description: 'HTML template to show. Will be ignored when view template is selected.'
            hideCondition: ''
            type: 2
            passableThroughUrl: '0'
            value: ''
            testVariable: 344
            name: html
            wizardStep: 1
            stepTitle: Template
            order: 1
            wizard: 1
            definition:
              placeholder: 0
              defvalue: ''
    test: 1
    groups: ''
    starterContent: true
    hash: bb72121d1cc3412f10f18479a6561804dbe918bc
  -
    class_name: Test
    id: 2
    name: showPage
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Shows page to user.'
    variables:
      -
        class_name: TestVariable
        id: 5
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 2
        parentVariable: 1
      -
        class_name: TestVariable
        id: 6
        name: template
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 2
        parentVariable: 2
      -
        class_name: TestVariable
        id: 7
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 2
        parentVariable: 3
      -
        class_name: TestVariable
        id: 8
        name: timeLimit
        type: 0
        description: 'Time limit in seconds.'
        passableThroughUrl: '0'
        value: '0'
        test: 2
        parentVariable: 4
      -
        class_name: TestVariable
        id: 75
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 2
        parentVariable: 74
      -
        class_name: TestVariable
        id: 345
        name: html
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 2
        parentVariable: 344
    sourceWizard: 1
    sourceWizardTest: 1
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: b41e718afdd291e244cfb146626c7141a504e826
  -
    class_name: Test
    id: 3
    name: _setInternalTemplates
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      if(!is.list(params)) {
        params = list()
      }
      for(.name in .dynamicInputs) {
        params[[.name]] = get(.name)
      }
      
      if(!is.na(loaderTemplate)) {
        concerto.template.loader(loaderTemplate, params=params)
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 9
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 3
        parentVariable: null
      -
        class_name: TestVariable
        id: 10
        name: loaderTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 3
        parentVariable: null
      -
        class_name: TestVariable
        id: 76
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 3
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 861430bb4c4e1961fcb43a3e105e221917bd58ff
  -
    class_name: TestWizard
    id: 2
    name: setInternalTemplates
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 2
        title: 'Internal Templates'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 2
        params:
          -
            class_name: TestWizardParam
            id: 3
            label: 'Loader template'
            description: 'Loading page. It is shown on page submit, until new page is ready to be shown.'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: ''
            testVariable: 10
            name: loaderTemplate
            wizardStep: 2
            stepTitle: 'Internal Templates'
            order: 0
            wizard: 2
            definition:
              placeholder: 0
              defvalue: ''
    test: 3
    groups: ''
    starterContent: true
    hash: e4ae0189fa6b48fcc95e5c8aa7da79a622cb4457
  -
    class_name: Test
    id: 4
    name: setInternalTemplates
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Sets templates to use for internal Concerto Platform pages. E.g. loading template.'
    variables:
      -
        class_name: TestVariable
        id: 11
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 4
        parentVariable: 9
      -
        class_name: TestVariable
        id: 12
        name: loaderTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 4
        parentVariable: 10
      -
        class_name: TestVariable
        id: 77
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 4
        parentVariable: 76
    sourceWizard: 2
    sourceWizardTest: 3
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 8f8bff222ba88af5c3a2dab8749d18d6cfc748e1
  -
    class_name: Test
    id: 5
    name: _authorizeUser
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      library(digest)
      
      resultCode = 0
      getUserByLogin = function(login) {
        if(userBankType == "direct") {
          userList = fromJSON(userBankList)
          if(length(userList) == 0) {
            resultCode <<- 1
            return(NULL)
          }
      
          for(i in 1:length(userList)) {
            user = userList[[i]]
            if(user$login == login && user$enabled == 1) {
              return(user)
            }
          }
          resultCode <<- 1
          return(NULL)
        } else {
          tableMap = fromJSON(userBankTable)
          sql = "
      SELECT * 
      FROM {{table}} 
      WHERE 
      {{loginColumn}}='{{login}}'
      AND {{enabledColumn}}=1
      "
          user = concerto.table.query(sql, params=list(
            table=tableMap$table,
            loginColumn=tableMap$columns$login,
            enabledColumn=tableMap$columns$enabled,
            login=login
          ))
          if(dim(user)[1] == 0) {
            resultCode <<- 1
            return(NULL)
          }
          return(user[1,])
        }
      }
      
      checkPassword = function(rawPassword, encryptedPassword, encryption) {
        if(is.na(encryptedPassword) || encryptedPassword == "") { return(T) }
        if(is.na(rawPassword)) { return(F) }
        if(encryption=="plain") {
          return(rawPassword == encryptedPassword)
        }
        return(digest(rawPassword, encryption, serialize=F) == encryptedPassword)
      }
      
      authorizeUser = function(login, password) {
        user = getUserByLogin(login)
        concerto.log(login, "login checked")
        concerto.log(password, "password checked")
        concerto.log(user, "user checked for password")
        
        if(!is.null(user) && checkPassword(password, user$password, userBankEncryption)) {
          return(user)
        }
        resultCode <<- 1
        return(NULL)
      }
      
      user = authorizeUser(login, password)
      if(is.null(user)) {
        concerto.log(paste0("user ",login," unauthorized"), title="authorization result")
        .branch = "unauthorized"
      } else {
        concerto.log(paste0("user ",login," authorized"), title="authorization result")
        .branch = "authorized"
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 13
        name: authorized
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 14
        name: login
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 15
        name: password
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 16
        name: unauthorized
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 17
        name: user
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 18
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 19
        name: userBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 20
        name: userBankList
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 21
        name: userBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 22
        name: userBankEncryption
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
      -
        class_name: TestVariable
        id: 403
        name: resultCode
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 5
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 6e3c00afb5f0279a286f9c43b3ad927aa7e697ff
  -
    class_name: TestWizard
    id: 3
    name: authorizeUser
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 3
        title: 'User Bank'
        description: 'User bank settings'
        orderNum: 0
        colsNum: 0
        wizard: 3
        params:
          -
            class_name: TestWizardParam
            id: 4
            label: Type
            description: |
              Type of user bank. Possible options:
              <ul>
              	<li><b>Direct</b>&nbsp;- user bank is declared at node level</li>
              	<li><strong>Table</strong> - user bank is taken from data table</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: direct
            testVariable: 19
            name: userBankType
            wizardStep: 3
            stepTitle: 'User Bank'
            order: 0
            wizard: 3
            definition:
              placeholder: 0
              options:
                -
                  value: direct
                  label: Direct
                -
                  value: table
                  label: Table
              defvalue: direct
          -
            class_name: TestWizardParam
            id: 5
            label: 'User list'
            description: 'Direct user list to use for authorization'
            hideCondition: 'values.userBankType != "direct"'
            type: 10
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 20
            name: userBankList
            wizardStep: 3
            stepTitle: 'User Bank'
            order: 1
            wizard: 3
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: id
                      label: Id
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: login
                      label: Login
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: password
                      label: Password
                      definition:
                        placeholder: 0
                    -
                      type: 4
                      name: enabled
                      label: Enabled
                      definition:
                        placeholder: 0
                        defvalue: '1'
          -
            class_name: TestWizardParam
            id: 6
            label: 'Password encryption'
            description: |
              <p>Hashing used for user&#39;s passwords. One of the following:</p>
              
              <ul>
              	<li><strong>md5</strong></li>
              	<li><strong>sha1</strong></li>
              	<li><strong>crc32</strong></li>
              	<li><strong>sha256</strong></li>
              	<li><strong>sha512</strong></li>
              	<li><strong>xxhash32</strong></li>
              	<li><strong>xxhash64</strong></li>
              	<li><strong>murmur32</strong></li>
              	<li><strong>plain</strong></li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: plain
            testVariable: 22
            name: userBankEncryption
            wizardStep: 3
            stepTitle: 'User Bank'
            order: 0
            wizard: 3
            definition:
              placeholder: 0
              options:
                -
                  value: md5
                  label: md5
                  order: 1
                -
                  value: sha1
                  label: sha1
                  order: 2
                -
                  value: crc32
                  label: crc32
                  order: 3
                -
                  value: sha256
                  label: sha256
                  order: 4
                -
                  value: sha512
                  label: sha512
                  order: 5
                -
                  value: xxhash32
                  label: xxhash32
                  order: 6
                -
                  value: xxhash64
                  label: xxhash64
                  order: 7
                -
                  value: murmur32
                  label: murmur32
                  order: 8
                -
                  value: plain
                  label: plain
                  order: 0
              defvalue: plain
          -
            class_name: TestWizardParam
            id: 7
            label: 'User table'
            description: 'Column mapping for data table used as a user bank'
            hideCondition: 'values.userBankType != "table"'
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 21
            name: userBankTable
            wizardStep: 3
            stepTitle: 'User Bank'
            order: 1
            wizard: 3
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: login
                  label: Login
                  tooltip: ''
                -
                  name: password
                  label: Password
                  tooltip: ''
                -
                  name: enabled
                  label: Enabled
                  tooltip: ''
    test: 5
    groups: ''
    starterContent: true
    hash: a29b275087ce300fa5959af413b8a2b5bb059da6
  -
    class_name: Test
    id: 6
    name: authorizeUser
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'User authorization.'
    variables:
      -
        class_name: TestVariable
        id: 23
        name: authorized
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 6
        parentVariable: 13
      -
        class_name: TestVariable
        id: 24
        name: login
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 14
      -
        class_name: TestVariable
        id: 25
        name: password
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 15
      -
        class_name: TestVariable
        id: 26
        name: unauthorized
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 16
      -
        class_name: TestVariable
        id: 27
        name: user
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 17
      -
        class_name: TestVariable
        id: 28
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 18
      -
        class_name: TestVariable
        id: 29
        name: userBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 6
        parentVariable: 19
      -
        class_name: TestVariable
        id: 30
        name: userBankList
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 6
        parentVariable: 20
      -
        class_name: TestVariable
        id: 31
        name: userBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"users","columns":{"id":"id","login":"login","password":"password","enabled":"enabled"}}'
        test: 6
        parentVariable: 21
      -
        class_name: TestVariable
        id: 32
        name: userBankEncryption
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: plain
        test: 6
        parentVariable: 22
      -
        class_name: TestVariable
        id: 404
        name: resultCode
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 6
        parentVariable: 403
    sourceWizard: 3
    sourceWizardTest: 5
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: d78101625d98b43269e265a4a3eff7e8456bf509
  -
    class_name: Test
    id: 7
    name: _createUser
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      library(digest)
      
      formatFields = function(login, password, userBankEncryption, enabled, extraFields) {
        fields = list(
          login=login,
          password=password,
          enabled=enabled
        )
        if(userBankEncryption != "plain") {
          fields$password = digest(password, userBankEncryption, serialize=F)
        }
        if(is.list(extraFields)) {
          for(name in ls(extraFields)) {
            fields[[name]] = extraFields[[name]]
          }
        }
        return(fields)
      }
      
      checkLoginExist = function(login, tableMap) {
        sql = "
      SELECT * FROM {{table}} 
      WHERE {{loginColumn}}='{{login}}'
      "
        user = concerto.table.query(sql, params=list(
          table=tableMap$table,
          loginColumn=tableMap$columns$login,
          login=login
        ))
      
        return(dim(user)[1]>0)
      }
      
      getMappedColumns = function(fieldNames, tableMap) {
        cols = c()
        for(i in 1:length(fieldNames)) {
          col = tableMap$columns[[fieldNames[i]]]
          if(!is.null(col)) {
            cols=c(cols,col)
            next
          }
          cols=c(cols,fieldNames[i])
        }
        return(cols)
      }
      
      insertUser = function(fields, tableMap) {
        sql = paste0(
          "INSERT INTO {{table}} (",
          paste(getMappedColumns(ls(fields), tableMap), collapse=","),
          ") VALUES (",
          paste0("'{{",ls(fields),"}}'", collapse=","),
          ")"
        )
        concerto.table.query(sql, params=append(fields, list(
          table=tableMap$table
        )))
        userId = concerto.table.lastInsertId()
        concerto.log(userId, title="new user id")
      
        sql="SELECT * FROM {{table}} WHERE {{idColumn}}={{id}}"
        user=concerto.table.query(sql,params=list(
          table=tableMap$table,
          idColumn=tableMap$columns$id,
          id=userId
        ))
        concerto.log(user, title="inserted user")
        return(user)
      }
      
      user=NULL
      if(is.na(password)) { password = "" }
      tableMap = fromJSON(userBankTable)
      fields = formatFields(login, password, userBankEncryption, enabled, extraFields)
      if(checkLoginExist(login, tableMap)) {
        concerto.log(login, title="login already exist")
        .branch = "loginAlreadyExist"
      } else {
        concerto.log(login, title="login doesn't exist and can be created")
        user=insertUser(fields, tableMap)
        .branch = "created"
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 33
        name: created
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 34
        name: userBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 35
        name: login
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 36
        name: password
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 37
        name: enabled
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 38
        name: loginAlreadyExist
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 39
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 40
        name: user
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 41
        name: userBankEncryption
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
      -
        class_name: TestVariable
        id: 42
        name: extraFields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 7
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 6b66bd3c0c3e114322cf07f17c6b4ee0511c6fb0
  -
    class_name: TestWizard
    id: 4
    name: createUser
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 4
        title: 'User Bank'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 4
        params:
          -
            class_name: TestWizardParam
            id: 8
            label: 'User table'
            description: 'User bank column mapping'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 34
            name: userBankTable
            wizardStep: 4
            stepTitle: 'User Bank'
            order: 1
            wizard: 4
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: login
                  label: Login
                  tooltip: ''
                -
                  name: password
                  label: Password
                  tooltip: ''
                -
                  name: enabled
                  label: Enabled
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 9
            label: 'Password encryption'
            description: |
              <p>Hashing used for user&#39;s passwords. One of the following:</p>
              
              <ul>
              	<li><strong>md5</strong></li>
              	<li><strong>sha1</strong></li>
              	<li><strong>crc32</strong></li>
              	<li><strong>sha256</strong></li>
              	<li><strong>sha512</strong></li>
              	<li><strong>xxhash32</strong></li>
              	<li><strong>xxhash64</strong></li>
              	<li><strong>murmur32</strong></li>
              	<li><strong>plain</strong></li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: plain
            testVariable: 41
            name: userBankEncryption
            wizardStep: 4
            stepTitle: 'User Bank'
            order: 0
            wizard: 4
            definition:
              placeholder: 0
              options:
                -
                  value: md5
                  label: md5
                  order: 1
                -
                  value: sha1
                  label: sha1
                  order: 2
                -
                  value: crc32
                  label: crc32
                  order: 3
                -
                  value: sha256
                  label: sha256
                  order: 4
                -
                  value: sha512
                  label: sha512
                  order: 5
                -
                  value: xxhash32
                  label: xxhash32
                  order: 6
                -
                  value: xxhash64
                  label: xxhash64
                  order: 7
                -
                  value: murmur32
                  label: murmur32
                  order: 8
                -
                  value: plain
                  label: plain
                  order: 0
              defvalue: plain
    test: 7
    groups: ''
    starterContent: true
    hash: 1b71cb713730a03c085fe9a135019861680d1ea2
  -
    class_name: Test
    id: 8
    name: createUser
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'User creation.'
    variables:
      -
        class_name: TestVariable
        id: 43
        name: created
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 8
        parentVariable: 33
      -
        class_name: TestVariable
        id: 44
        name: userBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"users","columns":{"id":"id","login":"login","password":"password","enabled":"enabled"}}'
        test: 8
        parentVariable: 34
      -
        class_name: TestVariable
        id: 45
        name: login
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 35
      -
        class_name: TestVariable
        id: 46
        name: password
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 36
      -
        class_name: TestVariable
        id: 47
        name: enabled
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 8
        parentVariable: 37
      -
        class_name: TestVariable
        id: 48
        name: loginAlreadyExist
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 38
      -
        class_name: TestVariable
        id: 49
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 39
      -
        class_name: TestVariable
        id: 50
        name: user
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 40
      -
        class_name: TestVariable
        id: 51
        name: userBankEncryption
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: plain
        test: 8
        parentVariable: 41
      -
        class_name: TestVariable
        id: 52
        name: extraFields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 8
        parentVariable: 42
    sourceWizard: 4
    sourceWizardTest: 7
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 4e0160c1bc6feb3dfd8195f91df1961af1db2bf9
  -
    class_name: Test
    id: 9
    name: _startSession
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      concerto.log(user, "user")
      
      formatFields = function(user, extraFields) {
        userId = 0
        if(!is.null(user) && !is.na(user)) { userId=user$id }
        fields = list(
          user_id=userId,
          internal_id=concerto$session$id, 
          test_id=concerto$mainTest$id,
          startedTime=Sys.time(),
          updateTime=Sys.time(),
          finished=0
        )
        if(is.list(extraFields)) {
          for(name in ls(extraFields)) {
            fields[[name]] = extraFields[[name]]
          }
        }
        return(fields)
      }
      
      getMappedColumns = function(fieldNames, tableMap) {
        cols = c()
        for(i in 1:length(fieldNames)) {
          col = tableMap$columns[[fieldNames[i]]]
          if(!is.null(col)) {
            cols=c(cols,col)
            next
          }
          cols=c(cols,fieldNames[i])
        }
        return(cols)
      }
      
      insertSession = function(fields, tableMap) {
        sqlColumns = paste(getMappedColumns(ls(fields), tableMap), collapse=",")
        sqlValues = paste0("'{{",ls(fields),"}}'", collapse=",")
        sql = paste0("INSERT INTO {{table}} (",sqlColumns,") VALUES (",sqlValues,")")
        concerto.table.query(sql, params=append(fields, list(
          table=tableMap$table
        )))
        id = concerto.table.lastInsertId()
      
        sql = "SELECT * FROM {{table}} WHERE {{idColumn}}={{id}}"
        session = concerto.table.query(sql, params=list(
          table=tableMap$table,
          idColumn=tableMap$columns$id,
          id=id
        ))
        if(dim(session)[1] > 0) {
          return(session[1,])
        }
        return(NULL)
      }
      
      resumeSession = function(user, tableMap) {
        if(is.null(user)) { return(NULL) }
      
        session = concerto.table.query("
      SELECT * FROM {{table}} 
      WHERE 
      {{testIdColumn}} = {{testId}} AND 
      {{userIdColumn}} = '{{userId}}' AND 
      {{finishedColumn}} = 0 
      ORDER BY id DESC", params=list(
          table=tableMap$table, 
          testIdColumn=tableMap$columns$test_id, 
          testId=concerto$mainTest$id, 
          userIdColumn=tableMap$columns$user_id, 
          userId=user$id,
          finishedColumn=tableMap$columns$finished
        ), n=1)
        if(dim(session)[1] == 0) {
          return(NULL)
        }
        
        session = as.list(session)
        session$previousInternal_id = session$internal_id
        session$internal_id = concerto$session$id
      
        timeLimit = as.numeric(resumableExpiration)
        if(timeLimit > 0) {
          timeDiff = as.numeric(Sys.time()) - as.numeric(strptime(session$updateTime, "%Y-%m-%d %H:%M:%S"))
          if(timeDiff > timeLimit) {
            concerto.log("session resume time limit exceeded")
            return(NULL)
          }
        }
      
        concerto.table.query("
      UPDATE {{table}} 
      SET 
      {{internalIdColumn}}='{{internal_id}}', 
      {{updateTimeColumn}}=CURRENT_TIMESTAMP 
      WHERE id={{id}}", params=list(
          table=tableMap$table,
          internalIdColumn=tableMap$columns$internal_id,
          internal_id=concerto$session$id,
          id=session$id,
          updateTimeColumn=tableMap$columns$updateTime
        ))
      
        return(session)
      }
      
      fields = formatFields(user, extraFields)
      concerto.log(fields, "fields")
      tableMap = fromJSON(sessionBankTable)
      
      session = NULL
      if(resumable == 1) {
        session = resumeSession(user, tableMap)
        if(!is.null(session)) {
          hash = concerto.table.query("SELECT hash FROM TestSession WHERE id={{id}}", list(id=session$previousInternal_id))
          concerto.log(hash, "resuming session...")
          if(!concerto.session.unserialize(hash=hash)) {
            	session = NULL
          }
        }
      }
      if(is.null(session)) {
      	session = insertSession(fields, tableMap)
      }
      concerto.log(session, "session")
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 53
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 54
        name: extraFields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 55
        name: user
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 56
        name: sessionBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 57
        name: session
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 933
        name: resumable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
      -
        class_name: TestVariable
        id: 935
        name: resumableExpiration
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 9
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 1d34072a74dfb70800bff880588bc9dea0473746
  -
    class_name: TestWizard
    id: 5
    name: startSession
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 5
        title: Session
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 5
        params:
          -
            class_name: TestWizardParam
            id: 10
            label: Table
            description: 'Session table column mapping.'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 56
            name: sessionBankTable
            wizardStep: 5
            stepTitle: Session
            order: 0
            wizard: 5
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: internal_id
                  label: 'Internal id'
                  tooltip: ''
                -
                  name: user_id
                  label: 'User id'
                  tooltip: ''
                -
                  name: test_id
                  label: 'Test id'
                  tooltip: ''
                -
                  name: startedTime
                  label: 'Started time'
                  tooltip: ''
                -
                  name: updateTime
                  label: 'Update time'
                  tooltip: ''
                -
                  name: finished
                  label: Finished
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 131
            label: 'Resumable expiration'
            description: 'How long should session be resumable (in seconds). <strong>0</strong> for no expiration.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 935
            name: resumableExpiration
            wizardStep: 5
            stepTitle: Session
            order: 2
            wizard: 5
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 132
            label: 'Resumable?'
            description: 'Is session resumable?'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 933
            name: resumable
            wizardStep: 5
            stepTitle: Session
            order: 1
            wizard: 5
            definition:
              placeholder: 0
    test: 9
    groups: ''
    starterContent: true
    hash: e9522d92b867309b98f67539fc9a09180c519b16
  -
    class_name: Test
    id: 10
    name: startSession
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Start session.'
    variables:
      -
        class_name: TestVariable
        id: 58
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 10
        parentVariable: 53
      -
        class_name: TestVariable
        id: 59
        name: extraFields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 10
        parentVariable: 54
      -
        class_name: TestVariable
        id: 60
        name: user
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 10
        parentVariable: 55
      -
        class_name: TestVariable
        id: 61
        name: sessionBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"sessions","columns":{"id":"id","internal_id":"internal_id","user_id":"user_id","test_id":"test_id","updateTime":"updateTime","finished":"finished","startedTime":"startedTime"}}'
        test: 10
        parentVariable: 56
      -
        class_name: TestVariable
        id: 62
        name: session
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 10
        parentVariable: 57
      -
        class_name: TestVariable
        id: 934
        name: resumable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 10
        parentVariable: 933
      -
        class_name: TestVariable
        id: 936
        name: resumableExpiration
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 10
        parentVariable: 935
    sourceWizard: 5
    sourceWizardTest: 9
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 384579a9e9be97416921456e2c108c566e362d1a
  -
    class_name: Test
    id: 11
    name: set
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      for(.name in .dynamicInputs) {
        c.set(.name, get(.name), posOffset = -1)
      }
    description: 'Promote variables. Use dynamic inputs to declare which variables you want to promote.'
    variables:
      -
        class_name: TestVariable
        id: 63
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 11
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 77de5238a8fc42411b7bc95db2746e6002524876
  -
    class_name: Test
    id: 14
    name: _runTest
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      if(!is.list(params)) {
        params = list()
      }
      for(name in .dynamicInputs) {
        value = get(name)
        if(is.null(value)) {
          params[name] = list(NULL)
        } else {
          params[[name]] = value
        }
      }
      
      results = concerto5:::concerto.test.run(test, params=params)
      for(name in .dynamicReturns) {
        assign(name, results[[name]])
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 66
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 14
        parentVariable: null
      -
        class_name: TestVariable
        id: 67
        name: test
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 14
        parentVariable: null
      -
        class_name: TestVariable
        id: 68
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 14
        parentVariable: null
      -
        class_name: TestVariable
        id: 69
        name: results
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 14
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 3721ba3c280b366eb182f330ccc15968d6bdd165
  -
    class_name: TestWizard
    id: 6
    name: runTest
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 6
        title: Test
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 6
        params:
          -
            class_name: TestWizardParam
            id: 11
            label: Test
            description: 'Test that should be run.'
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: ''
            testVariable: 67
            name: test
            wizardStep: 6
            stepTitle: Test
            order: 0
            wizard: 6
            definition:
              placeholder: 0
              defvalue: ''
    test: 14
    groups: ''
    starterContent: true
    hash: 3f2902814d716ef4a692a2fcf8f893b277250756
  -
    class_name: Test
    id: 15
    name: runTest
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Run other test.'
    variables:
      -
        class_name: TestVariable
        id: 70
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 15
        parentVariable: 66
      -
        class_name: TestVariable
        id: 71
        name: test
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 15
        parentVariable: 67
      -
        class_name: TestVariable
        id: 72
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 15
        parentVariable: 68
      -
        class_name: TestVariable
        id: 73
        name: results
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 15
        parentVariable: 69
    sourceWizard: 6
    sourceWizardTest: 14
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 2a12072638d0a7f4a3031ad7c34caa3a735c37df
  -
    class_name: Test
    id: 17
    name: if
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      .branch = "false"
      if(expression) { .branch = "true" }
    description: '<strong>If</strong>&nbsp;expression.'
    variables:
      -
        class_name: TestVariable
        id: 80
        name: 'true'
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 81
        name: expression
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 82
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
      -
        class_name: TestVariable
        id: 83
        name: 'false'
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 17
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 55d7ecac60a1d7d3303a402f0e4b313d38400b31
  -
    class_name: Test
    id: 18
    name: eval
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: 'result = eval(parse(text=code))'
    description: 'Evaluate R code.'
    variables:
      -
        class_name: TestVariable
        id: 84
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 85
        name: code
        type: 0
        description: 'Code value is expected to be text.'
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
      -
        class_name: TestVariable
        id: 102
        name: result
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 18
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 1266085682e797e33d130cd9966d38e369437848
  -
    class_name: Test
    id: 21
    name: get
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      for(.name in .dynamicReturns) {
        assign(.name, c.get(.name, posOffset = -1))
      }
    description: 'Gets promoted variables values. Use dynamic returns to declare which variables you want to get.'
    variables: {  }
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 780630182ad89910eea3297c0f71829b38b6b713
  -
    class_name: Test
    id: 25
    name: _CATInitialization
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getItems = function(itemBankType, itemBankItems, itemBankTable){
        items = NULL
        if(itemBankType == "table") {
          tableMap = fromJSON(itemBankTable)
          table = tableMap$table
          questionColumn = tableMap$columns$question
          responseOptionsColumn = tableMap$columns$responseOptions
          aColumn = tableMap$columns$a
          bColumn = tableMap$columns$b
          cColumn = tableMap$columns$c
          dColumn = tableMap$columns$d
          correctColumn = tableMap$columns$correct
          cbGroupColumn = tableMap$columns$cbGroup
          fixedIndexColumn = tableMap$columns$fixedIndex
          items = concerto.table.query(
            "
      SELECT 
      id, 
      {{questionColumn}} AS question, 
      {{responseOptionsColumn}} AS responseOptions,
      {{aColumn}} AS a,
      {{bColumn}} AS b,
      {{cColumn}} AS c,
      {{dColumn}} AS d,
      {{correctColumn}} AS correct,
      {{cbGroupColumn}} AS cbGroup,
      {{fixedIndexColumn}} AS fixedIndex
      FROM {{table}}
      ", 
            list(
              questionColumn=questionColumn,
              responseOptionsColumn=responseOptionsColumn,
              aColumn=aColumn,
              bColumn=bColumn,
              cColumn=cColumn,
              dColumn=dColumn,
              correctColumn=correctColumn,
              cbGroupColumn=cbGroupColumn,
              fixedIndexColumn=fixedIndexColumn,
              table=table
            ))
        }
        if(itemBankType == "direct") {
          itemBankItems = fromJSON(itemBankItems)
          if(length(itemBankItems) > 0) {
            for(i in 1:length(itemBankItems)) {
              itemBankItems[[i]]$responseOptions = as.character(toJSON(itemBankItems[[i]]$responseOptions)) #response options don't fit into flat table, so turn them back to JSON.
              items = rbind(items, data.frame(itemBankItems[[i]], stringsAsFactors=F))
            }
          }
        } 
        
        if(dim(items)[1] == 0) { stop("Item bank must not be empty!") }
        return(items)
      }
      
      items = getItems(settings$itemBankType, settings$itemBankItems, settings$itemBankTable)
      itemsNum = dim(items)[1]
      
      cbGroup = NULL
      cbControl = NULL
      cbProps = fromJSON(settings$contentBalancing)
      if(length(cbProps) > 0) {
        cbGroup = as.character(items[,"cbGroup"])
        cbControl = list(
          names=as.character(cbProps[,"name"]),
          props=as.numeric(cbProps[,"proportion"])
        )
      }
      
      paramBank = items[,c("a","b","c","d"),drop=F]
      paramBank = apply(paramBank, 2, as.numeric)
      
      theta = as.numeric(settings$startingTheta)
      itemsAdministered = NULL
      correctness = NULL
      testTimeStarted = as.numeric(Sys.time())
      testTimeLeft = as.numeric(settings$testTimeLimit) + as.numeric(settings$testTimeLimitOffset)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 173
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 176
        name: items
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 192
        name: cbGroup
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 193
        name: cbControl
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 194
        name: paramBank
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 195
        name: theta
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 197
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 198
        name: correctness
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 200
        name: testTimeStarted
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 296
        name: testTimeLeft
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
      -
        class_name: TestVariable
        id: 607
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 25
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 38441cb99048dd67e88ec91ac03c4f42a08c724a
  -
    class_name: Test
    id: 27
    name: _CATShowItem
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getTemplateParams = function(itemSafe, templateParams, responseRequired, responseRequiredAlert) {
        templateParams$item = itemSafe
        templateParams$responseRequired = responseRequired
        templateParams$responseRequiredAlert = responseRequiredAlert
        
        return(templateParams)
      }
      
      getTimeLimit = function(testTimeStarted, testTimeLimit, itemTimeLimit) {
        limit = 0
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = 0
        if(testTimeLimit > 0) {
          testTimeLeft = max(testTimeLimit - startedAgo, 1)
          limit = testTimeLeft
        }
        if(itemTimeLimit > 0) {
          if(limit > 0) {
            limit = min(limit, itemTimeLimit)
          } else {
            limit = itemTimeLimit
          }
        }
        return(limit)
      }
      
      response = concerto.template.show(
        settings$itemTemplate, 
        params=getTemplateParams(itemSafe, templateParams, settings$responseRequired, settings$responseRequiredAlert), 
        timeLimit=getTimeLimit(
          testTimeStarted, 
          as.numeric(settings$testTimeLimit), 
          as.numeric(settings$itemTimeLimit)
        )
      )
      
      .branch = "submitted"
      if(response$isTimeout == 1) { .branch = "outOfTime" }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 218
        name: submitted
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 222
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 223
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 262
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 263
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 266
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 267
        name: outOfTime
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 311
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 523
        name: itemSafe
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
      -
        class_name: TestVariable
        id: 609
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 27
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 2c992c1bbaa875e4ee9586ddc19608ad37cfd1d4
  -
    class_name: Test
    id: 62
    name: createList
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      result = list()
      if(is.list(sourceList)) {
        result = sourceList
      }
      for(.name in .dynamicInputs) {
          result[.name] = list(get(.name))
      }
    description: 'List creation. Dynamic inputs will be used as list elements (input name as list key, input value as list value).'
    variables:
      -
        class_name: TestVariable
        id: 595
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 62
        parentVariable: null
      -
        class_name: TestVariable
        id: 596
        name: sourceList
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 62
        parentVariable: null
      -
        class_name: TestVariable
        id: 597
        name: result
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 62
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 0286c1b93778ee16835bc44a9dee34023c817424
  -
    class_name: Test
    id: 22
    name: _CAT
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 2
    code: null
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 104
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 180
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 181
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 182
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 183
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 184
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 185
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 189
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 190
        name: contentBalancing
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 202
        name: startingTheta
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 204
        name: nextItemCriterion
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: MFI
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 205
        name: nextItemRandomesque
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 206
        name: scoringMethod
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: BM
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 259
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 268
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 292
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 300
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 301
        name: minAccuracy
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 417
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 419
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 421
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 423
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 630
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 632
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 778
        name: sem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
      -
        class_name: TestVariable
        id: 780
        name: theta
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 22
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes:
      -
        class_name: TestNode
        id: 9
        title: ''
        type: 1
        posX: 14369
        posY: 14742
        flowTest: 22
        sourceTest: 22
        sourceTestName: _CAT
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 27
            value: direct
            node: 9
            variable: 180
            variableObject:
              class_name: TestVariable
              id: 180
              name: itemBankType
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: direct
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemBankType
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 28
            value: '[]'
            node: 9
            variable: 181
            variableObject:
              class_name: TestVariable
              id: 181
              name: itemBankItems
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '[]'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemBankItems
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 29
            value: null
            node: 9
            variable: 182
            variableObject:
              class_name: TestVariable
              id: 182
              name: itemBankTable
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemBankTable
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 30
            value: '0'
            node: 9
            variable: 183
            variableObject:
              class_name: TestVariable
              id: 183
              name: testTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 31
            value: '0'
            node: 9
            variable: 184
            variableObject:
              class_name: TestVariable
              id: 184
              name: itemTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 32
            value: '0'
            node: 9
            variable: 185
            variableObject:
              class_name: TestVariable
              id: 185
              name: itemTimeFullRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 36
            value: '0'
            node: 9
            variable: 189
            variableObject:
              class_name: TestVariable
              id: 189
              name: testTimeLimitOffset
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 37
            value: '[]'
            node: 9
            variable: 190
            variableObject:
              class_name: TestVariable
              id: 190
              name: contentBalancing
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '[]'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: contentBalancing
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 49
            value: '0'
            node: 9
            variable: 202
            variableObject:
              class_name: TestVariable
              id: 202
              name: startingTheta
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: startingTheta
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 50
            value: MFI
            node: 9
            variable: 204
            variableObject:
              class_name: TestVariable
              id: 204
              name: nextItemCriterion
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: MFI
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: nextItemCriterion
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 51
            value: '1'
            node: 9
            variable: 205
            variableObject:
              class_name: TestVariable
              id: 205
              name: nextItemRandomesque
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '1'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: nextItemRandomesque
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 52
            value: BM
            node: 9
            variable: 206
            variableObject:
              class_name: TestVariable
              id: 206
              name: scoringMethod
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: BM
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: scoringMethod
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 81
            value: null
            node: 9
            variable: 259
            variableObject:
              class_name: TestVariable
              id: 259
              name: responseBank
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: responseBank
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 90
            value: null
            node: 9
            variable: 268
            variableObject:
              class_name: TestVariable
              id: 268
              name: itemTemplate
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemTemplate
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 130
            value: null
            node: 9
            variable: 292
            variableObject:
              class_name: TestVariable
              id: 292
              name: session
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 139
            value: '0'
            node: 9
            variable: 300
            variableObject:
              class_name: TestVariable
              id: 300
              name: itemNumLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 140
            value: '1'
            node: 9
            variable: 301
            variableObject:
              class_name: TestVariable
              id: 301
              name: minAccuracy
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '1'
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: minAccuracy
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 451
            value: null
            node: 9
            variable: 417
            variableObject:
              class_name: TestVariable
              id: 417
              name: nextItemSelectorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: nextItemSelectorModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 455
            value: null
            node: 9
            variable: 419
            variableObject:
              class_name: TestVariable
              id: 419
              name: scoringModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: scoringModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 459
            value: null
            node: 9
            variable: 421
            variableObject:
              class_name: TestVariable
              id: 421
              name: responseProcessorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseProcessorModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 463
            value: null
            node: 9
            variable: 423
            variableObject:
              class_name: TestVariable
              id: 423
              name: statusCheckModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: statusCheckModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 841
            value: null
            node: 9
            variable: 630
            variableObject:
              class_name: TestVariable
              id: 630
              name: responseRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 842
            value: null
            node: 9
            variable: 632
            variableObject:
              class_name: TestVariable
              id: 632
              name: responseRequiredAlert
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequiredAlert
            pointer: '0'
            pointerVariable: responseRequiredAlert
      -
        class_name: TestNode
        id: 10
        title: ''
        type: 2
        posX: 16736
        posY: 15739
        flowTest: 22
        sourceTest: 22
        sourceTestName: _CAT
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 1202
            value: null
            node: 10
            variable: 778
            variableObject:
              class_name: TestVariable
              id: 778
              name: sem
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: sem
            pointer: '1'
            pointerVariable: sem
          -
            class_name: TestNodePort
            id: 1204
            value: null
            node: 10
            variable: 780
            variableObject:
              class_name: TestVariable
              id: 780
              name: theta
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 22
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: theta
            pointer: '1'
            pointerVariable: theta
      -
        class_name: TestNode
        id: 11
        title: ''
        type: 0
        posX: 15254
        posY: 15084
        flowTest: 22
        sourceTest: 25
        sourceTestName: _CATInitialization
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 22
            value: '0'
            node: 11
            variable: 173
            variableObject:
              class_name: TestVariable
              id: 173
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 23
            value: null
            node: 11
            variable: 176
            variableObject:
              class_name: TestVariable
              id: 176
              name: items
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 39
            value: null
            node: 11
            variable: 192
            variableObject:
              class_name: TestVariable
              id: 192
              name: cbGroup
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: cbGroup
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 40
            value: null
            node: 11
            variable: 193
            variableObject:
              class_name: TestVariable
              id: 193
              name: cbControl
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: cbControl
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 41
            value: null
            node: 11
            variable: 194
            variableObject:
              class_name: TestVariable
              id: 194
              name: paramBank
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: paramBank
            pointer: '1'
            pointerVariable: paramBank
          -
            class_name: TestNodePort
            id: 42
            value: null
            node: 11
            variable: 195
            variableObject:
              class_name: TestVariable
              id: 195
              name: theta
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: theta
            pointer: '1'
            pointerVariable: theta
          -
            class_name: TestNodePort
            id: 44
            value: null
            node: 11
            variable: 197
            variableObject:
              class_name: TestVariable
              id: 197
              name: itemsAdministered
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 45
            value: null
            node: 11
            variable: 198
            variableObject:
              class_name: TestVariable
              id: 198
              name: correctness
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: correctness
            pointer: '1'
            pointerVariable: correctness
          -
            class_name: TestNodePort
            id: 47
            value: null
            node: 11
            variable: 200
            variableObject:
              class_name: TestVariable
              id: 200
              name: testTimeStarted
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 135
            value: null
            node: 11
            variable: 296
            variableObject:
              class_name: TestVariable
              id: 296
              name: testTimeLeft
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 802
            value: null
            node: 11
            variable: 607
            variableObject:
              class_name: TestVariable
              id: 607
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 25
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 18
        title: ''
        type: 0
        posX: 16073
        posY: 15132
        flowTest: 22
        sourceTest: 27
        sourceTestName: _CATShowItem
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 77
            value: '0'
            node: 18
            variable: 218
            variableObject:
              class_name: TestVariable
              id: 218
              name: submitted
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: submitted
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 78
            value: null
            node: 18
            variable: 222
            variableObject:
              class_name: TestVariable
              id: 222
              name: item
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 79
            value: c.getDynamicInputs()
            node: 18
            variable: 223
            variableObject:
              class_name: TestVariable
              id: 223
              name: templateParams
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: templateParams
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 84
            value: null
            node: 18
            variable: 262
            variableObject:
              class_name: TestVariable
              id: 262
              name: testTimeStarted
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 85
            value: null
            node: 18
            variable: 263
            variableObject:
              class_name: TestVariable
              id: 263
              name: testTimeLeft
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 88
            value: null
            node: 18
            variable: 266
            variableObject:
              class_name: TestVariable
              id: 266
              name: response
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 89
            value: null
            node: 18
            variable: 267
            variableObject:
              class_name: TestVariable
              id: 267
              name: outOfTime
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: outOfTime
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 150
            value: null
            node: 18
            variable: 311
            variableObject:
              class_name: TestVariable
              id: 311
              name: .branch
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 612
            value: null
            node: 18
            variable: 523
            variableObject:
              class_name: TestVariable
              id: 523
              name: itemSafe
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: itemSafe
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 804
            value: null
            node: 18
            variable: 609
            variableObject:
              class_name: TestVariable
              id: 609
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 27
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 61
        title: 'next item selector module'
        type: 0
        posX: 15673
        posY: 15113
        flowTest: 22
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 382
            value: ''
            node: 61
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 383
            value: null
            node: 61
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 384
            value: null
            node: 61
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 385
            value: '0'
            node: 61
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 386
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: cbControl
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 387
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: cbGroup
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 388
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 392
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: paramBank
            pointer: '1'
            pointerVariable: paramBank
          -
            class_name: TestNodePort
            id: 394
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: theta
            pointer: '1'
            pointerVariable: theta
          -
            class_name: TestNodePort
            id: 395
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItem
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 396
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 496
            value: 'NULL'
            node: 61
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 617
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemSafe
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 803
            value: ''
            node: 61
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 62
        title: 'scoring module'
        type: 0
        posX: 16490
        posY: 15129
        flowTest: 22
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 397
            value: ''
            node: 62
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 398
            value: null
            node: 62
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 399
            value: null
            node: 62
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 400
            value: '0'
            node: 62
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '0'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 401
            value: 'NULL'
            node: 62
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: correctness
            pointer: '1'
            pointerVariable: correctness
          -
            class_name: TestNodePort
            id: 402
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 403
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 406
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: paramBank
            pointer: '1'
            pointerVariable: paramBank
          -
            class_name: TestNodePort
            id: 407
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 411
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: correct
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 412
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: incorrect
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 413
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 414
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: correct
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 415
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: correctness
            pointer: '1'
            pointerVariable: correctness
          -
            class_name: TestNodePort
            id: 417
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: sem
            pointer: '1'
            pointerVariable: sem
          -
            class_name: TestNodePort
            id: 418
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: theta
            pointer: '1'
            pointerVariable: theta
          -
            class_name: TestNodePort
            id: 497
            value: 'NULL'
            node: 62
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 805
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 806
            value: ''
            node: 62
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
      -
        class_name: TestNode
        id: 63
        title: 'response processor module'
        type: 0
        posX: 16910
        posY: 15135
        flowTest: 22
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 419
            value: ''
            node: 63
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 420
            value: null
            node: 63
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 421
            value: null
            node: 63
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 422
            value: '0'
            node: 63
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 423
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: correct
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 424
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 425
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 427
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: sem
            pointer: '1'
            pointerVariable: sem
          -
            class_name: TestNodePort
            id: 428
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 429
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: theta
            pointer: '1'
            pointerVariable: theta
          -
            class_name: TestNodePort
            id: 430
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: responseId
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 725
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 726
            value: 'NULL'
            node: 63
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 807
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 833
            value: ''
            node: 63
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemIndex
            pointer: '1'
            pointerVariable: itemIndex
      -
        class_name: TestNode
        id: 64
        title: 'status check module'
        type: 0
        posX: 16251
        posY: 15699
        flowTest: 22
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 432
            value: ''
            node: 64
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 433
            value: null
            node: 64
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 434
            value: null
            node: 64
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 435
            value: '0'
            node: 64
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '0'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 442
            value: ''
            node: 64
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: sem
            pointer: '1'
            pointerVariable: sem
          -
            class_name: TestNodePort
            id: 444
            value: ''
            node: 64
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 445
            value: ''
            node: 64
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: continue
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 446
            value: ''
            node: 64
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: stop
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 447
            value: ''
            node: 64
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 499
            value: 'NULL'
            node: 64
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 808
            value: ''
            node: 64
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 809
            value: ''
            node: 64
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 810
            value: ''
            node: 64
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
      -
        class_name: TestNode
        id: 88
        title: 'create settings'
        type: 0
        posX: 14816
        posY: 14740
        flowTest: 22
        sourceTest: 62
        sourceTestName: createList
        sourceTestDescription: 'List creation. Dynamic inputs will be used as list elements (input name as list key, input value as list value).'
        ports:
          -
            class_name: TestNodePort
            id: 781
            value: null
            node: 88
            variable: 596
            variableObject:
              class_name: TestVariable
              id: 596
              name: sourceList
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: sourceList
            pointer: '0'
            pointerVariable: sourceList
          -
            class_name: TestNodePort
            id: 782
            value: null
            node: 88
            variable: 597
            variableObject:
              class_name: TestVariable
              id: 597
              name: result
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: result
            pointer: '0'
            pointerVariable: result
          -
            class_name: TestNodePort
            id: 783
            value: '0'
            node: 88
            variable: 595
            variableObject:
              class_name: TestVariable
              id: 595
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 784
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: contentBalancing
            pointer: '0'
            pointerVariable: contentBalancing
          -
            class_name: TestNodePort
            id: 785
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankItems
            pointer: '0'
            pointerVariable: itemBankItems
          -
            class_name: TestNodePort
            id: 786
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankTable
            pointer: '0'
            pointerVariable: itemBankTable
          -
            class_name: TestNodePort
            id: 787
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankType
            pointer: '0'
            pointerVariable: itemBankType
          -
            class_name: TestNodePort
            id: 788
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: itemNumLimit
          -
            class_name: TestNodePort
            id: 789
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTemplate
            pointer: '0'
            pointerVariable: itemTemplate
          -
            class_name: TestNodePort
            id: 790
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: itemTimeFullRequired
          -
            class_name: TestNodePort
            id: 791
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: itemTimeLimit
          -
            class_name: TestNodePort
            id: 792
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: minAccuracy
            pointer: '0'
            pointerVariable: minAccuracy
          -
            class_name: TestNodePort
            id: 793
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: nextItemCriterion
            pointer: '0'
            pointerVariable: nextItemCriterion
          -
            class_name: TestNodePort
            id: 794
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: nextItemRandomesque
            pointer: '0'
            pointerVariable: nextItemRandomesque
          -
            class_name: TestNodePort
            id: 795
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseBank
            pointer: '0'
            pointerVariable: responseBank
          -
            class_name: TestNodePort
            id: 796
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: scoringMethod
            pointer: '0'
            pointerVariable: scoringMethod
          -
            class_name: TestNodePort
            id: 797
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: startingTheta
            pointer: '0'
            pointerVariable: startingTheta
          -
            class_name: TestNodePort
            id: 798
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: testTimeLimit
          -
            class_name: TestNodePort
            id: 799
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: testTimeLimitOffset
          -
            class_name: TestNodePort
            id: 843
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 844
            value: ''
            node: 88
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequiredAlert
            pointer: '0'
            pointerVariable: responseRequiredAlert
      -
        class_name: TestNode
        id: 89
        title: 'set settings'
        type: 0
        posX: 15155
        posY: 14762
        flowTest: 22
        sourceTest: 11
        sourceTestName: set
        sourceTestDescription: 'Promote variables. Use dynamic inputs to declare which variables you want to promote.'
        ports:
          -
            class_name: TestNodePort
            id: 800
            value: '0'
            node: 89
            variable: 63
            variableObject:
              class_name: TestVariable
              id: 63
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 11
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 801
            value: ''
            node: 89
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '0'
            pointerVariable: settings
    nodesConnections:
      -
        class_name: TestNodeConnection
        id: 5
        flowTest: 22
        sourceNode: 9
        sourcePort: null
        sourcePortObject: null
        destinationNode: 88
        destinationPort: null
        destinationPortObject: null
        returnFunction: ''
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 7
        flowTest: 22
        sourceNode: 9
        sourcePort: 28
        sourcePortObject:
          class_name: TestNodePort
          id: 28
          value: '[]'
          node: 9
          variable: 181
          variableObject:
            class_name: TestVariable
            id: 181
            name: itemBankItems
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '[]'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemBankItems
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 785
        destinationPortObject:
          class_name: TestNodePort
          id: 785
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankItems
          pointer: '0'
          pointerVariable: itemBankItems
        returnFunction: itemBankItems
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 8
        flowTest: 22
        sourceNode: 9
        sourcePort: 29
        sourcePortObject:
          class_name: TestNodePort
          id: 29
          value: null
          node: 9
          variable: 182
          variableObject:
            class_name: TestVariable
            id: 182
            name: itemBankTable
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemBankTable
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 786
        destinationPortObject:
          class_name: TestNodePort
          id: 786
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankTable
          pointer: '0'
          pointerVariable: itemBankTable
        returnFunction: itemBankTable
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 9
        flowTest: 22
        sourceNode: 9
        sourcePort: 27
        sourcePortObject:
          class_name: TestNodePort
          id: 27
          value: direct
          node: 9
          variable: 180
          variableObject:
            class_name: TestVariable
            id: 180
            name: itemBankType
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: direct
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemBankType
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 787
        destinationPortObject:
          class_name: TestNodePort
          id: 787
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankType
          pointer: '0'
          pointerVariable: itemBankType
        returnFunction: itemBankType
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 10
        flowTest: 22
        sourceNode: 9
        sourcePort: 37
        sourcePortObject:
          class_name: TestNodePort
          id: 37
          value: '[]'
          node: 9
          variable: 190
          variableObject:
            class_name: TestVariable
            id: 190
            name: contentBalancing
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '[]'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: contentBalancing
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 784
        destinationPortObject:
          class_name: TestNodePort
          id: 784
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: contentBalancing
          pointer: '0'
          pointerVariable: contentBalancing
        returnFunction: contentBalancing
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 11
        flowTest: 22
        sourceNode: 9
        sourcePort: 49
        sourcePortObject:
          class_name: TestNodePort
          id: 49
          value: '0'
          node: 9
          variable: 202
          variableObject:
            class_name: TestVariable
            id: 202
            name: startingTheta
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: startingTheta
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 797
        destinationPortObject:
          class_name: TestNodePort
          id: 797
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: startingTheta
          pointer: '0'
          pointerVariable: startingTheta
        returnFunction: startingTheta
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 36
        flowTest: 22
        sourceNode: 18
        sourcePort: 89
        sourcePortObject:
          class_name: TestNodePort
          id: 89
          value: null
          node: 18
          variable: 267
          variableObject:
            class_name: TestVariable
            id: 267
            name: outOfTime
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 27
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: outOfTime
          pointer: '0'
          pointerVariable: ''
        destinationNode: 62
        destinationPort: null
        destinationPortObject: null
        returnFunction: outOfTime
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 37
        flowTest: 22
        sourceNode: 18
        sourcePort: 77
        sourcePortObject:
          class_name: TestNodePort
          id: 77
          value: '0'
          node: 18
          variable: 218
          variableObject:
            class_name: TestVariable
            id: 218
            name: submitted
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 27
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: submitted
          pointer: '0'
          pointerVariable: ''
        destinationNode: 62
        destinationPort: null
        destinationPortObject: null
        returnFunction: submitted
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 58
        flowTest: 22
        sourceNode: 9
        sourcePort: 30
        sourcePortObject:
          class_name: TestNodePort
          id: 30
          value: '0'
          node: 9
          variable: 183
          variableObject:
            class_name: TestVariable
            id: 183
            name: testTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 798
        destinationPortObject:
          class_name: TestNodePort
          id: 798
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: testTimeLimit
        returnFunction: testTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 59
        flowTest: 22
        sourceNode: 9
        sourcePort: 36
        sourcePortObject:
          class_name: TestNodePort
          id: 36
          value: '0'
          node: 9
          variable: 189
          variableObject:
            class_name: TestVariable
            id: 189
            name: testTimeLimitOffset
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 799
        destinationPortObject:
          class_name: TestNodePort
          id: 799
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: testTimeLimitOffset
        returnFunction: testTimeLimitOffset
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 113
        flowTest: 22
        sourceNode: 11
        sourcePort: 22
        sourcePortObject:
          class_name: TestNodePort
          id: 22
          value: '0'
          node: 11
          variable: 173
          variableObject:
            class_name: TestVariable
            id: 173
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 25
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 61
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 114
        flowTest: 22
        sourceNode: 11
        sourcePort: 40
        sourcePortObject:
          class_name: TestNodePort
          id: 40
          value: null
          node: 11
          variable: 193
          variableObject:
            class_name: TestVariable
            id: 193
            name: cbControl
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 25
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: cbControl
          pointer: '0'
          pointerVariable: ''
        destinationNode: 61
        destinationPort: 386
        destinationPortObject:
          class_name: TestNodePort
          id: 386
          value: ''
          node: 61
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: cbControl
          pointer: '0'
          pointerVariable: ''
        returnFunction: cbControl
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 115
        flowTest: 22
        sourceNode: 11
        sourcePort: 39
        sourcePortObject:
          class_name: TestNodePort
          id: 39
          value: null
          node: 11
          variable: 192
          variableObject:
            class_name: TestVariable
            id: 192
            name: cbGroup
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 25
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: cbGroup
          pointer: '0'
          pointerVariable: ''
        destinationNode: 61
        destinationPort: 387
        destinationPortObject:
          class_name: TestNodePort
          id: 387
          value: ''
          node: 61
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: cbGroup
          pointer: '0'
          pointerVariable: ''
        returnFunction: cbGroup
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 125
        flowTest: 22
        sourceNode: 61
        sourcePort: 385
        sourcePortObject:
          class_name: TestNodePort
          id: 385
          value: '0'
          node: 61
          variable: 70
          variableObject:
            class_name: TestVariable
            id: 70
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 15
            parentVariable: 66
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 18
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 141
        flowTest: 22
        sourceNode: 62
        sourcePort: 411
        sourcePortObject:
          class_name: TestNodePort
          id: 411
          value: ''
          node: 62
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: correct
          pointer: '0'
          pointerVariable: ''
        destinationNode: 63
        destinationPort: null
        destinationPortObject: null
        returnFunction: correct
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 145
        flowTest: 22
        sourceNode: 62
        sourcePort: 412
        sourcePortObject:
          class_name: TestNodePort
          id: 412
          value: ''
          node: 62
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: incorrect
          pointer: '0'
          pointerVariable: ''
        destinationNode: 63
        destinationPort: null
        destinationPortObject: null
        returnFunction: incorrect
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 153
        flowTest: 22
        sourceNode: 62
        sourcePort: 414
        sourcePortObject:
          class_name: TestNodePort
          id: 414
          value: ''
          node: 62
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: correct
          pointer: '0'
          pointerVariable: ''
        destinationNode: 63
        destinationPort: 423
        destinationPortObject:
          class_name: TestNodePort
          id: 423
          value: ''
          node: 63
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: correct
          pointer: '0'
          pointerVariable: ''
        returnFunction: correct
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 162
        flowTest: 22
        sourceNode: 63
        sourcePort: 422
        sourcePortObject:
          class_name: TestNodePort
          id: 422
          value: '0'
          node: 63
          variable: 70
          variableObject:
            class_name: TestVariable
            id: 70
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 15
            parentVariable: 66
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 64
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 163
        flowTest: 22
        sourceNode: 64
        sourcePort: 445
        sourcePortObject:
          class_name: TestNodePort
          id: 445
          value: ''
          node: 64
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: continue
          pointer: '0'
          pointerVariable: ''
        destinationNode: 61
        destinationPort: null
        destinationPortObject: null
        returnFunction: continue
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 164
        flowTest: 22
        sourceNode: 64
        sourcePort: 446
        sourcePortObject:
          class_name: TestNodePort
          id: 446
          value: ''
          node: 64
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: stop
          pointer: '0'
          pointerVariable: ''
        destinationNode: 10
        destinationPort: null
        destinationPortObject: null
        returnFunction: stop
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 174
        flowTest: 22
        sourceNode: 9
        sourcePort: 451
        sourcePortObject:
          class_name: TestNodePort
          id: 451
          value: null
          node: 9
          variable: 417
          variableObject:
            class_name: TestVariable
            id: 417
            name: nextItemSelectorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: nextItemSelectorModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 61
        destinationPort: 382
        destinationPortObject:
          class_name: TestNodePort
          id: 382
          value: ''
          node: 61
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: nextItemSelectorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 175
        flowTest: 22
        sourceNode: 9
        sourcePort: 455
        sourcePortObject:
          class_name: TestNodePort
          id: 455
          value: null
          node: 9
          variable: 419
          variableObject:
            class_name: TestVariable
            id: 419
            name: scoringModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: scoringModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 62
        destinationPort: 397
        destinationPortObject:
          class_name: TestNodePort
          id: 397
          value: ''
          node: 62
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: scoringModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 176
        flowTest: 22
        sourceNode: 9
        sourcePort: 459
        sourcePortObject:
          class_name: TestNodePort
          id: 459
          value: null
          node: 9
          variable: 421
          variableObject:
            class_name: TestVariable
            id: 421
            name: responseProcessorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseProcessorModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 63
        destinationPort: 419
        destinationPortObject:
          class_name: TestNodePort
          id: 419
          value: ''
          node: 63
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: responseProcessorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 177
        flowTest: 22
        sourceNode: 9
        sourcePort: 463
        sourcePortObject:
          class_name: TestNodePort
          id: 463
          value: null
          node: 9
          variable: 423
          variableObject:
            class_name: TestVariable
            id: 423
            name: statusCheckModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: statusCheckModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 64
        destinationPort: 432
        destinationPortObject:
          class_name: TestNodePort
          id: 432
          value: ''
          node: 64
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: statusCheckModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 238
        flowTest: 22
        sourceNode: 61
        sourcePort: 617
        sourcePortObject:
          class_name: TestNodePort
          id: 617
          value: ''
          node: 61
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: nextItemSafe
          pointer: '0'
          pointerVariable: ''
        destinationNode: 18
        destinationPort: 612
        destinationPortObject:
          class_name: TestNodePort
          id: 612
          value: null
          node: 18
          variable: 523
          variableObject:
            class_name: TestVariable
            id: 523
            name: itemSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 27
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: itemSafe
          pointer: '0'
          pointerVariable: ''
        returnFunction: nextItemSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 325
        flowTest: 22
        sourceNode: 9
        sourcePort: 139
        sourcePortObject:
          class_name: TestNodePort
          id: 139
          value: '0'
          node: 9
          variable: 300
          variableObject:
            class_name: TestVariable
            id: 300
            name: itemNumLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 788
        destinationPortObject:
          class_name: TestNodePort
          id: 788
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: itemNumLimit
        returnFunction: itemNumLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 326
        flowTest: 22
        sourceNode: 9
        sourcePort: 90
        sourcePortObject:
          class_name: TestNodePort
          id: 90
          value: null
          node: 9
          variable: 268
          variableObject:
            class_name: TestVariable
            id: 268
            name: itemTemplate
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemTemplate
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 789
        destinationPortObject:
          class_name: TestNodePort
          id: 789
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTemplate
          pointer: '0'
          pointerVariable: itemTemplate
        returnFunction: itemTemplate
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 327
        flowTest: 22
        sourceNode: 9
        sourcePort: 32
        sourcePortObject:
          class_name: TestNodePort
          id: 32
          value: '0'
          node: 9
          variable: 185
          variableObject:
            class_name: TestVariable
            id: 185
            name: itemTimeFullRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 790
        destinationPortObject:
          class_name: TestNodePort
          id: 790
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: itemTimeFullRequired
        returnFunction: itemTimeFullRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 328
        flowTest: 22
        sourceNode: 9
        sourcePort: 31
        sourcePortObject:
          class_name: TestNodePort
          id: 31
          value: '0'
          node: 9
          variable: 184
          variableObject:
            class_name: TestVariable
            id: 184
            name: itemTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 791
        destinationPortObject:
          class_name: TestNodePort
          id: 791
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: itemTimeLimit
        returnFunction: itemTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 329
        flowTest: 22
        sourceNode: 9
        sourcePort: 140
        sourcePortObject:
          class_name: TestNodePort
          id: 140
          value: '1'
          node: 9
          variable: 301
          variableObject:
            class_name: TestVariable
            id: 301
            name: minAccuracy
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '1'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: minAccuracy
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 792
        destinationPortObject:
          class_name: TestNodePort
          id: 792
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: minAccuracy
          pointer: '0'
          pointerVariable: minAccuracy
        returnFunction: minAccuracy
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 330
        flowTest: 22
        sourceNode: 9
        sourcePort: 50
        sourcePortObject:
          class_name: TestNodePort
          id: 50
          value: MFI
          node: 9
          variable: 204
          variableObject:
            class_name: TestVariable
            id: 204
            name: nextItemCriterion
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: MFI
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: nextItemCriterion
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 793
        destinationPortObject:
          class_name: TestNodePort
          id: 793
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: nextItemCriterion
          pointer: '0'
          pointerVariable: nextItemCriterion
        returnFunction: nextItemCriterion
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 331
        flowTest: 22
        sourceNode: 9
        sourcePort: 51
        sourcePortObject:
          class_name: TestNodePort
          id: 51
          value: '1'
          node: 9
          variable: 205
          variableObject:
            class_name: TestVariable
            id: 205
            name: nextItemRandomesque
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '1'
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: nextItemRandomesque
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 794
        destinationPortObject:
          class_name: TestNodePort
          id: 794
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: nextItemRandomesque
          pointer: '0'
          pointerVariable: nextItemRandomesque
        returnFunction: nextItemRandomesque
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 332
        flowTest: 22
        sourceNode: 9
        sourcePort: 81
        sourcePortObject:
          class_name: TestNodePort
          id: 81
          value: null
          node: 9
          variable: 259
          variableObject:
            class_name: TestVariable
            id: 259
            name: responseBank
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: responseBank
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 795
        destinationPortObject:
          class_name: TestNodePort
          id: 795
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseBank
          pointer: '0'
          pointerVariable: responseBank
        returnFunction: responseBank
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 333
        flowTest: 22
        sourceNode: 9
        sourcePort: 52
        sourcePortObject:
          class_name: TestNodePort
          id: 52
          value: BM
          node: 9
          variable: 206
          variableObject:
            class_name: TestVariable
            id: 206
            name: scoringMethod
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: BM
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: scoringMethod
          pointer: '0'
          pointerVariable: ''
        destinationNode: 88
        destinationPort: 796
        destinationPortObject:
          class_name: TestNodePort
          id: 796
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: scoringMethod
          pointer: '0'
          pointerVariable: scoringMethod
        returnFunction: scoringMethod
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 334
        flowTest: 22
        sourceNode: 88
        sourcePort: 783
        sourcePortObject:
          class_name: TestNodePort
          id: 783
          value: '0'
          node: 88
          variable: 595
          variableObject:
            class_name: TestVariable
            id: 595
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 62
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 89
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 335
        flowTest: 22
        sourceNode: 88
        sourcePort: 782
        sourcePortObject:
          class_name: TestNodePort
          id: 782
          value: null
          node: 88
          variable: 597
          variableObject:
            class_name: TestVariable
            id: 597
            name: result
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 62
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: result
          pointer: '0'
          pointerVariable: result
        destinationNode: 89
        destinationPort: 801
        destinationPortObject:
          class_name: TestNodePort
          id: 801
          value: ''
          node: 89
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: settings
          pointer: '0'
          pointerVariable: settings
        returnFunction: result
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 336
        flowTest: 22
        sourceNode: 89
        sourcePort: 800
        sourcePortObject:
          class_name: TestNodePort
          id: 800
          value: '0'
          node: 89
          variable: 63
          variableObject:
            class_name: TestVariable
            id: 63
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 11
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 11
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 341
        flowTest: 22
        sourceNode: 9
        sourcePort: 841
        sourcePortObject:
          class_name: TestNodePort
          id: 841
          value: null
          node: 9
          variable: 630
          variableObject:
            class_name: TestVariable
            id: 630
            name: responseRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        destinationNode: 88
        destinationPort: 843
        destinationPortObject:
          class_name: TestNodePort
          id: 843
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        returnFunction: responseRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 342
        flowTest: 22
        sourceNode: 9
        sourcePort: 842
        sourcePortObject:
          class_name: TestNodePort
          id: 842
          value: null
          node: 9
          variable: 632
          variableObject:
            class_name: TestVariable
            id: 632
            name: responseRequiredAlert
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 22
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        destinationNode: 88
        destinationPort: 844
        destinationPortObject:
          class_name: TestNodePort
          id: 844
          value: ''
          node: 88
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        returnFunction: responseRequiredAlert
        automatic: '0'
        defaultReturnFunction: '1'
    tags: ''
    groups: ''
    starterContent: true
    hash: 488f9de26852572d39dfc12eb77900306957e929
  -
    class_name: Test
    id: 26
    name: _CATNextItemSelectorModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      library(catR)
      
      getSafeItem = function(item) {
        item = as.list(item)
        item$correct = NULL
        
        if(is.character(item$responseOptions)) { item$responseOptions = fromJSON(item$responseOptions) }
        responseOptionsRandomOrder = item$responseOptions$optionsRandomOrder == "1"
        orderedOptions = c()
      
        if(length(item$responseOptions$options) > 0) {
          if(responseOptionsRandomOrder) {
            orderedOptions = item$responseOptions$options[sample(1:length(item$responseOptions$options))]
          } else {
            orderedOptions = item$responseOptions$options
          }
        }
        item$responseOptions$options = orderedOptions
        return(item)
      }
      
      currentIndex = length(itemsAdministered) + 1
      itemsNum = dim(items)[1]
      nextItemIndex = 0
      if(itemsNum > 0) {
        for(i in 1:itemsNum) {
          fixedIndex = items[i,"fixedIndex"]
          if(!is.na(fixedIndex) && !is.null(fixedIndex) && fixedIndex != "" && fixedIndex != 0){
            concerto.log(fixedIndex, "fixedIndex")
            if(fixedIndex == currentIndex) {
              nextItemIndex = i
            } else {
              itemsAdministered = unique(c(itemsAdministered, i))
            }
          }
        }
      }
      
      if(nextItemIndex == 0) {
        concerto.log(itemsAdministered, "out")
        result = nextItem(paramBank, theta=theta, out=itemsAdministered, criterion=settings$nextItemCriterion, method=settings$scoringMethod, randomesque=settings$nextItemRandomesque, cbGroup=cbGroup, cbControl=cbControl)
        nextItemIndex = result$item
      }
      concerto.log(nextItemIndex, "next item index")
      nextItem = items[nextItemIndex,]
      nextItemSafe = getSafeItem(nextItem)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 203
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 207
        name: paramBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 208
        name: theta
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 209
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 213
        name: cbGroup
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 214
        name: cbControl
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 215
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 216
        name: nextItemIndex
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 217
        name: nextItem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 521
        name: nextItemSafe
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
      -
        class_name: TestVariable
        id: 608
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 26
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: b09027e292eedbe2abbc72a89023868732e8de80
  -
    class_name: Test
    id: 28
    name: _CATResponseProcessorModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getSessionId = function(session) {
        id = 0
        if(!is.null(session) && is.list(session)) {
          id = session$id
        } else {
          id = paste0("i",concerto$session$id)
        }
        return(id)
      }
      
      saveResponse = function(responseBank, session, response, item, correct, theta, sem) {
        responseBank = fromJSON(responseBank)
        if(is.null(responseBank$table)) {
          concerto.log("no response bank defined, skipping response saving")
          return(NULL)
        }
      
        sql = "
      INSERT INTO {{table}} 
      ({{itemIdColumn}}, {{responseColumn}}, {{timeTakenColumn}}, {{sessionIdColumn}}, {{correctColumn}}, {{thetaColumn}}, {{semColumn}}) 
      VALUES ({{itemId}}, '{{response}}', {{timeTaken}}, '{{sessionId}}', {{correct}}, {{theta}}, {{sem}})
      "
        concerto.table.query(sql, list(
          table=responseBank$table,
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=getSessionId(session),
          itemIdColumn=responseBank$columns$item_id,
          itemId=item$id,
          responseColumn=responseBank$columns$response,
          response=response$response,
          timeTakenColumn=responseBank$columns$timeTaken,
          timeTaken=response$timeTaken, #could use time difference
          correctColumn=responseBank$columns$correct,
          correct=correct,
          thetaColumn=responseBank$columns$theta,
          theta=theta,
          semColumn=responseBank$columns$sem,
          sem=sem
        ))
        return(concerto.table.lastInsertId())
      }
      
      itemsAdministered = unique(c(itemsAdministered, itemIndex))
      responseId = saveResponse(settings$responseBank, session, response, item, correct, theta, sem)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 219
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 285
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 286
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 287
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 288
        name: correct
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 289
        name: theta
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 290
        name: responseId
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 291
        name: sem
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 589
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 590
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 612
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
      -
        class_name: TestVariable
        id: 615
        name: itemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 28
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 404f2e35a814018b7c1e8c8592b98f452478fd8a
  -
    class_name: Test
    id: 29
    name: _CATStatusCheckModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      isOutOfTime = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired) {
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = testTimeLimit - startedAgo
        if(testTimeLimit > 0) {
          if(testTimeLeft <= 0) { return(T) }
          if(testTimeLeft < itemTimeLimit && itemTimeFullRequired) { return(T) }
        }
        return(F)
      }
      
      getBranch = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired, itemNumLimit, minAccuracy, itemsAdministered, itemsNum, sem) {
        if(isOutOfTime(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired)) {
          concerto.log("time out", "test status")
          return("stop")
        }
      
        if(itemNumLimit > 0 && length(itemsAdministered) >= itemNumLimit || length(itemsAdministered) >= itemsNum) {
          concerto.log("maximum items reached", "test status")
          return("stop")
        }
      
        if(minAccuracy != 0 && minAccuracy >= sem) {
          concerto.log("minimum accuracy", "test status")
          return("stop")
        }
        concerto.log("continue", "test status")
        return("continue")
      }
      
      .branch = getBranch(
        as.numeric(settings$testTimeLimit), 
        testTimeStarted, 
        as.numeric(settings$itemTimeLimit), 
        settings$itemTimeFullRequired == "1", 
        as.numeric(settings$itemNumLimit), 
        as.numeric(settings$minAccuracy), 
        itemsAdministered, 
        dim(items)[1], 
        sem
      )
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 220
        name: continue
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 293
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 297
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 304
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 306
        name: sem
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 307
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 416
        name: stop
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 613
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
      -
        class_name: TestVariable
        id: 614
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 29
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: b889110421783e1c96d6647226556348f692b30d
  -
    class_name: Test
    id: 32
    name: _CATScoringModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      library(catR)
      
      correct = 0
      if(!is.null(response$response) && response$response == item$correct) { correct = 1 }
      correctness = c(correctness, correct)
      itemsAdministered = unique(c(itemsAdministered, itemIndex))
      paramBankAdministered = paramBank
      if(dim(items)[1] > 1) {
        paramBankAdministered = paramBank[itemsAdministered,]
      }
      concerto.log(itemsAdministered, "itemsAdministered")
      concerto.log(correctness, "correctness")
      theta <- thetaEst(matrix(paramBankAdministered, ncol=4, byrow=F), correctness, method=settings$scoringMethod)
      concerto.log(theta, "theta")
      sem <- semTheta(theta, matrix(paramBankAdministered, ncol=4, byrow=F), correctness)
      concerto.log(sem, "SEM")
      if(correct == 1) {
        .branch = "correct"
      } else {
        .branch = "incorrect"
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 269
        name: correct
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 271
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 272
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 273
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 274
        name: correctness
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 275
        name: paramBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 276
        name: theta
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 277
        name: sem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 279
        name: correctness
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 280
        name: correct
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 281
        name: itemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 283
        name: incorrect
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 312
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 610
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
      -
        class_name: TestVariable
        id: 611
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 32
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 8825931a44cb8c8d9a6827db7cf9a42b443c85b1
  -
    class_name: TestWizard
    id: 9
    name: CAT
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 14
        title: Items
        description: 'Test items collection'
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 37
            label: Type
            description: |
              <p>Item bank type. One of the following:</p>
              
              <ul>
              	<li><strong>Direct&nbsp;</strong>- item bank will be declared at the node level</li>
              	<li><strong>Table&nbsp;</strong>- item bank will be stored in data table</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: direct
            testVariable: 180
            name: itemBankType
            wizardStep: 14
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: direct
              options:
                -
                  value: direct
                  label: Direct
                  order: ''
                -
                  value: table
                  label: Table
                  order: ''
          -
            class_name: TestWizardParam
            id: 38
            label: Items
            description: 'Direct item bank'
            hideCondition: 'values.itemBankType != "direct"'
            type: 10
            passableThroughUrl: '0'
            value: '[{"id":1,"question":"10 + 10","responseOptions":[{"value":"20","label":"20"},{"value":"40","label":"40"}],"a":1.7,"b":"-2","c":0,"d":1,"correct":20,"cbGroup":"mathematics","fixedIndex":""},{"id":2,"question":"100 + 100","responseOptions":[{"value":"200","label":"200"},{"value":"400","label":"400"}],"a":1.7,"b":0,"c":0,"d":1,"correct":200,"cbGroup":"mathematics","fixedIndex":""},{"id":3,"question":"1000 + 1000","responseOptions":[{"value":"2000","label":"2000"},{"value":"4000","label":"4000"}],"a":1.7,"b":2,"c":0,"d":1,"correct":2000,"cbGroup":"mathematics","fixedIndex":""}]'
            testVariable: 181
            name: itemBankItems
            wizardStep: 14
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: id
                      label: Id
                      definition:
                        placeholder: 0
                    -
                      type: 2
                      name: question
                      label: Question
                      definition:
                        placeholder: 0
                    -
                      type: 9
                      name: responseOptions
                      label: 'Response Options'
                      definition:
                        placeholder: 0
                        fields:
                          -
                            type: 3
                            name: type
                            label: Type
                            definition:
                              placeholder: 0
                              options:
                                -
                                  value: open
                                  label: Open
                                -
                                  value: options
                                  label: Options
                              defvalue: options
                          -
                            type: 4
                            name: optionsRandomOrder
                            label: 'Options Random Order'
                            definition:
                              placeholder: 0
                              defvalue: '1'
                            hideCondition: 'parent.type != "options"'
                          -
                            type: 10
                            name: options
                            label: Options
                            definition:
                              placeholder: 0
                              element:
                                type: 9
                                definition:
                                  placeholder: 0
                                  fields:
                                    -
                                      type: 0
                                      name: value
                                      label: Value
                                      definition:
                                        placeholder: 0
                                    -
                                      type: 2
                                      name: label
                                      label: Label
                                      definition:
                                        placeholder: 0
                            hideCondition: 'parent.type != "options"'
                        element:
                          type: 9
                          definition:
                            placeholder: 0
                            fields:
                              -
                                type: 0
                                name: value
                                label: Value
                                definition:
                                  placeholder: 0
                              -
                                type: 2
                                name: label
                                label: Label
                                definition:
                                  placeholder: 0
                    -
                      type: 0
                      name: a
                      label: A
                      definition:
                        placeholder: 0
                        defvalue: '0'
                    -
                      type: 0
                      name: b
                      label: B
                      definition:
                        placeholder: 0
                        defvalue: '0'
                    -
                      type: 0
                      name: c
                      label: C
                      definition:
                        placeholder: 0
                        defvalue: '0'
                    -
                      type: 0
                      name: d
                      label: D
                      definition:
                        placeholder: 0
                        defvalue: '0'
                    -
                      type: 0
                      name: correct
                      label: Correct
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: cbGroup
                      label: 'Content Balancing Group'
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: fixedIndex
                      label: 'Fixed Index'
                      definition:
                        placeholder: 0
                        defvalue: ''
          -
            class_name: TestWizardParam
            id: 39
            label: Table
            description: 'Column mapping for item bank data table'
            hideCondition: 'values.itemBankType != "table"'
            type: 12
            passableThroughUrl: '0'
            value: '{"table":"catItems","columns":{"id":"id","question":"question","responseOptions":"responseOptions","a":"a","b":"b","c":"c","d":"d","correct":"correct","cbGroup":"cbGroup","fixedIndex":"fixedIndex"}}'
            testVariable: 182
            name: itemBankTable
            wizardStep: 14
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: question
                  label: Question
                  tooltip: ''
                -
                  name: responseOptions
                  label: 'Response Options'
                  tooltip: ''
                -
                  name: a
                  label: A
                  tooltip: ''
                -
                  name: b
                  label: B
                  tooltip: ''
                -
                  name: c
                  label: C
                  tooltip: ''
                -
                  name: d
                  label: D
                  tooltip: ''
                -
                  name: correct
                  label: Correct
                  tooltip: ''
                -
                  name: cbGroup
                  label: 'Content Balancing Group'
                  tooltip: ''
                -
                  name: fixedIndex
                  label: 'Fixed Index'
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 46
            label: 'Item Template'
            description: 'View template to use for CAT item page'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: CAT
            testVariable: 268
            name: itemTemplate
            wizardStep: 14
            stepTitle: Items
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: CAT
      -
        class_name: TestWizardStep
        id: 15
        title: 'Stopping Rules'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 40
            label: 'Test Time Limit'
            description: 'Total test time limit in seconds. 0 for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 183
            name: testTimeLimit
            wizardStep: 15
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 41
            label: 'Item Time Limit'
            description: 'Time limit for each item, in seconds. 0 for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 184
            name: itemTimeLimit
            wizardStep: 15
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 42
            label: 'Sufficient Item Time Required'
            description: 'Check if you want test to not show more items if total test time left is less than item time limit.'
            hideCondition: 'values.testTimeLimit == 0 || values.itemTimeLimit == 0'
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 185
            name: itemTimeFullRequired
            wizardStep: 15
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 47
            label: 'Item Number Limit'
            description: 'Maximum number of items to show. 0 for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 300
            name: itemNumLimit
            wizardStep: 15
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 48
            label: 'Minimum Accuracy'
            description: 'Minimum accuracy value required to finish the test. 0 for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 301
            name: minAccuracy
            wizardStep: 15
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
      -
        class_name: TestWizardStep
        id: 16
        title: 'CAT Options'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 43
            label: 'Content Balancing'
            description: |
              <p>Content balancing settings.<br />
              Set of weights for any number of item&#39;s content balancing groups. Each entry consist of two fields:</p>
              
              <ul>
              	<li><strong>Name</strong> - corresponds to content balancing group column in item bank</li>
              	<li><strong>Weight</strong>&nbsp;- numerical value</li>
              </ul>
              
              <p><strong>There must be required number of items based on relative weights present in item bank. Error will be generated otherwise.</strong></p>
              
            hideCondition: ''
            type: 10
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 190
            name: contentBalancing
            wizardStep: 16
            stepTitle: 'CAT Options'
            order: 0
            wizard: 9
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: name
                      label: 'Group Name'
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: proportion
                      label: 'Group Proportion'
                      definition:
                        placeholder: 0
                        defvalue: '0'
      -
        class_name: TestWizardStep
        id: 17
        title: Responses
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 44
            label: 'Response Bank'
            description: 'Response bank table mapping. Can be left empty for no response storing.'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '{"table":"CATResponses","columns":{"id":"id","item_id":"item_id","response":"response","timeTaken":"timeTaken","session_id":"session_id","correct":"correct","theta":"theta","sem":"sem"}}'
            testVariable: 259
            name: responseBank
            wizardStep: 17
            stepTitle: Responses
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: item_id
                  label: 'Item Id'
                  tooltip: ''
                -
                  name: response
                  label: Response
                  tooltip: ''
                -
                  name: timeTaken
                  label: 'Time Taken'
                  tooltip: ''
                -
                  name: session_id
                  label: 'Session Id'
                  tooltip: ''
                -
                  name: correct
                  label: Correct
                  tooltip: ''
                -
                  name: theta
                  label: Theta
                  tooltip: ''
                -
                  name: sem
                  label: SEM
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 75
            label: 'Response required'
            description: 'Check if user is required to give answer to item before proceeding.'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 630
            name: responseRequired
            wizardStep: 17
            stepTitle: Responses
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 76
            label: 'Response required alert'
            description: 'Alert message to show to users when no answer is given.'
            hideCondition: 'values.responseRequired == 0'
            type: 0
            passableThroughUrl: '0'
            value: 'Response required!'
            testVariable: 632
            name: responseRequiredAlert
            wizardStep: 17
            stepTitle: Responses
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: 'Response required!'
      -
        class_name: TestWizardStep
        id: 20
        title: Modules
        description: 'Test modules. Each module is a separate test that can use specific input variables and must return specific return variables.'
        orderNum: 0
        colsNum: 0
        wizard: 9
        params:
          -
            class_name: TestWizardParam
            id: 53
            label: 'Next Item Selector Module'
            description: |
              Next item selection module. Needs to return:
              <ul>
              	<li><strong>nextItem&nbsp;</strong>- list representing next item record</li>
              	<li><strong>nextItemIndex&nbsp;</strong>- index of next item in&nbsp;<strong>items</strong>&nbsp;collection</li>
              	<li><strong>nextItemSafe</strong>&nbsp;- list representing next item record that can be passed to client side (should be stripped of any sensitive data as it can be visible by user)</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _CATNextItemSelectorModule
            testVariable: 417
            name: nextItemSelectorModule
            wizardStep: 20
            stepTitle: Modules
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: _CATNextItemSelectorModule
          -
            class_name: TestWizardParam
            id: 54
            label: 'Scoring Module'
            description: |
              <p>Scoring module. Needs to return:</p>
              
              <ul>
              	<li><strong>.branch</strong>&nbsp;- should be string with either&nbsp;<strong>correct&nbsp;</strong>or&nbsp;<strong>incorrect</strong> value</li>
              	<li><strong>correct</strong>&nbsp;- numerical, should be <strong>1</strong> if correct answer was given,&nbsp;<strong>0&nbsp;</strong>otherwise</li>
              	<li><strong>correctness</strong>&nbsp;- vector containing values of&nbsp;<strong>correct&nbsp;</strong>values above for all responses</li>
              	<li><strong>sem</strong>&nbsp;- standard error of the mean</li>
              	<li><strong>theta</strong></li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _CATScoringModule
            testVariable: 419
            name: scoringModule
            wizardStep: 20
            stepTitle: Modules
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: _CATScoringModule
          -
            class_name: TestWizardParam
            id: 55
            label: 'Response Processor Module'
            description: |
              <p>Response processing module. Usually used for saving responses. Needs to return:</p>
              
              <ul>
              	<li><strong>itemsAdministered</strong>&nbsp;- vector of administered item&#39;s indices</li>
              	<li><strong>responseId</strong>&nbsp;- numerical, id of inserted response record</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _CATResponseProcessorModule
            testVariable: 421
            name: responseProcessorModule
            wizardStep: 20
            stepTitle: Modules
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: _CATResponseProcessorModule
          -
            class_name: TestWizardParam
            id: 56
            label: 'Status Check Module'
            description: |
              <p>Status check module. Checks if test should be continued or should be stopped. Needs to return:</p>
              
              <ul>
              	<li><strong>.branch</strong>&nbsp;- should be string with either&nbsp;<strong>continue</strong>&nbsp;or <b>stop</b>&nbsp;as a value</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _CATStatusCheckModule
            testVariable: 423
            name: statusCheckModule
            wizardStep: 20
            stepTitle: Modules
            order: 0
            wizard: 9
            definition:
              placeholder: 0
              defvalue: _CATStatusCheckModule
    test: 22
    groups: ''
    starterContent: true
    hash: 959bcbd16160aff18f2fd1c0ce433b327b8b84ad
  -
    class_name: Test
    id: 34
    name: CAT
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Computer Adaptive Test'
    variables:
      -
        class_name: TestVariable
        id: 315
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 104
      -
        class_name: TestVariable
        id: 316
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 34
        parentVariable: 180
      -
        class_name: TestVariable
        id: 317
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[{"id":1,"question":"10 + 10","responseOptions":{"type":"options","optionsRandomOrder":"1","options":[{"value":"20","label":"20"},{"value":"200","label":"200"},{"value":"2000","label":"2000"}]},"a":1.7,"b":"-2","c":0,"d":1,"correct":20,"cbGroup":"mathematics","fixedIndex":""},{"id":2,"question":"100 + 100","responseOptions":{"type":"options","optionsRandomOrder":"1","options":[{"value":"20","label":"20"},{"value":"200","label":"200"},{"value":"2000","label":"2000"}]},"a":1.7,"b":0,"c":0,"d":1,"correct":200,"cbGroup":"mathematics","fixedIndex":""},{"id":3,"question":"1000 + 1000","responseOptions":{"type":"options","optionsRandomOrder":"1","options":[{"value":"20","label":"20"},{"value":"200","label":"200"},{"value":"2000","label":"2000"}]},"a":1.7,"b":2,"c":0,"d":1,"correct":2000,"cbGroup":"mathematics","fixedIndex":""}]'
        test: 34
        parentVariable: 181
      -
        class_name: TestVariable
        id: 318
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"catItems","columns":{"id":"id","question":"question","responseOptions":"responseOptions","a":"a","b":"b","c":"c","d":"d","correct":"correct","cbGroup":"cbGroup","fixedIndex":"fixedIndex"}}'
        test: 34
        parentVariable: 182
      -
        class_name: TestVariable
        id: 319
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 183
      -
        class_name: TestVariable
        id: 320
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 184
      -
        class_name: TestVariable
        id: 321
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 185
      -
        class_name: TestVariable
        id: 322
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 189
      -
        class_name: TestVariable
        id: 323
        name: contentBalancing
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 34
        parentVariable: 190
      -
        class_name: TestVariable
        id: 324
        name: startingTheta
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 202
      -
        class_name: TestVariable
        id: 325
        name: nextItemCriterion
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: MFI
        test: 34
        parentVariable: 204
      -
        class_name: TestVariable
        id: 326
        name: nextItemRandomesque
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 34
        parentVariable: 205
      -
        class_name: TestVariable
        id: 327
        name: scoringMethod
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: BM
        test: 34
        parentVariable: 206
      -
        class_name: TestVariable
        id: 329
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"CATResponses","columns":{"id":"id","item_id":"item_id","response":"response","timeTaken":"timeTaken","session_id":"session_id","correct":"correct","theta":"theta","sem":"sem"}}'
        test: 34
        parentVariable: 259
      -
        class_name: TestVariable
        id: 330
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: CAT
        test: 34
        parentVariable: 268
      -
        class_name: TestVariable
        id: 331
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: 292
      -
        class_name: TestVariable
        id: 332
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 300
      -
        class_name: TestVariable
        id: 333
        name: minAccuracy
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 301
      -
        class_name: TestVariable
        id: 418
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _CATNextItemSelectorModule
        test: 34
        parentVariable: 417
      -
        class_name: TestVariable
        id: 420
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _CATScoringModule
        test: 34
        parentVariable: 419
      -
        class_name: TestVariable
        id: 422
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _CATResponseProcessorModule
        test: 34
        parentVariable: 421
      -
        class_name: TestVariable
        id: 424
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _CATStatusCheckModule
        test: 34
        parentVariable: 423
      -
        class_name: TestVariable
        id: 631
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 34
        parentVariable: 630
      -
        class_name: TestVariable
        id: 633
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: 'Response required!'
        test: 34
        parentVariable: 632
      -
        class_name: TestVariable
        id: 779
        name: sem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: 778
      -
        class_name: TestVariable
        id: 781
        name: theta
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 34
        parentVariable: 780
    sourceWizard: 9
    sourceWizardTest: 22
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: fc500ebc0b86728a787c7de85820eaf263af71e2
  -
    class_name: ViewTemplate
    id: 5
    name: CAT
    description: ''
    accessibility: 0
    archived: '0'
    head: ''
    css: |
      .CAT-response {
        display: table;
      }
      
      .CAT-response-radio-cell {
        display: table-cell;
      }
      
      .CAT-response-label-cell {
        display: table-cell;
      }
      
      .CAT-timer:empty {
        display: none;
      }
    js: |
      testRunner.controllerProvider.register("CAT", function($scope) {
        $scope.item = testRunner.R.item;
        $scope.responseRequired = testRunner.R.responseRequired == 1;
        $scope.responseRequiredAlert = testRunner.R.responseRequiredAlert;
        
        $scope.response = {
          value: null
        };
      });
    html: |
      <form name="form" ng-controller="CAT">
        <div class="CAT-timer">[[timeLeft]]</div>
        <div class="CAT-question" ng-bind-html="item.question"></div>
      
        <div class="CAT-response-group" ng-if="item.responseOptions.type == 'options'">
          <div class="CAT-response" ng-repeat="option in item.responseOptions.options track by $index">
            <div class="CAT-response-radio-cell"><input id="input_response_[[$index+1]]" name="response" ng-model="response.value" ng-required="responseRequired" type="radio" value="[[option.value]]" /></div>
      
            <div class="CAT-response-label-cell"><label for="input_response_[[$index+1]]" ng-bind-html="option.label">&nbsp;</label></div>
          </div>
      
          <div ng-if="item.responseOptions.type == 'open'"><input name="response" ng-model="response" ng-required="responseRequired" type="text" /></div>
      
          <div class="CAT-error" ng-show="form.response.$error.required &amp;&amp; form.response.$dirty">[[responseRequiredAlert]]</div>
        </div>
        <button name="submit" ng-disabled="!form.$valid">submit</button></form>
      
    groups: ''
    starterContent: true
    hash: 36fa928937625934e0b2bf92160d89bbfad32882
  -
    class_name: Test
    id: 35
    name: _nestedPageHtml
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      if(!is.list(params)) {
        params = list()
      }
      for(.name in .dynamicInputs) {
        params[[.name]] = get(.name)
      }
      
      html = concerto.template.join(templateId=layout)
      content = fromJSON(content)
      if(length(content) > 0) {
        for(i in 1:length(content)) {
          pageParam = list()
          pageParam[[content[[i]]$name]] = concerto.template.join(templateId=content[[i]]$template)
          html = concerto.template.insertParams(html, pageParam, removeMissing=F)
        }
      }
      
      html = concerto.template.insertParams(html, params, removeMissing=F)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 334
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 35
        parentVariable: null
      -
        class_name: TestVariable
        id: 335
        name: layout
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 35
        parentVariable: null
      -
        class_name: TestVariable
        id: 336
        name: content
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 35
        parentVariable: null
      -
        class_name: TestVariable
        id: 337
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 35
        parentVariable: null
      -
        class_name: TestVariable
        id: 338
        name: html
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 35
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 515bfa2338bb50397f7f5dd55b44d7df7d91d497
  -
    class_name: TestWizard
    id: 10
    name: nestedPageHtml
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 18
        title: Templates
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 10
        params:
          -
            class_name: TestWizardParam
            id: 49
            label: 'Layout Template'
            description: 'Main layout template'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: ''
            testVariable: 335
            name: layout
            wizardStep: 18
            stepTitle: Templates
            order: 0
            wizard: 10
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 50
            label: 'Content Templates'
            description: 'Templates that should be included in main layout template. Where&nbsp;<strong>Name</strong>&nbsp;is name of inserted variable on layout template and&nbsp;<strong>Template&nbsp;</strong>is template content that should be inserted in place of this variable.'
            hideCondition: ''
            type: 10
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 336
            name: content
            wizardStep: 18
            stepTitle: Templates
            order: 0
            wizard: 10
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: name
                      label: Name
                      definition:
                        placeholder: 0
                    -
                      type: 5
                      name: template
                      label: Template
                      definition:
                        placeholder: 0
    test: 35
    groups: ''
    starterContent: true
    hash: 3989538a2265fa71a44af95629be220678aa94cb
  -
    class_name: Test
    id: 36
    name: nestedPageHtml
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Nested page. Creates HTML that is constructed from one main layout template that can contain multiple nested templates inside.'
    variables:
      -
        class_name: TestVariable
        id: 339
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 36
        parentVariable: 334
      -
        class_name: TestVariable
        id: 340
        name: layout
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 36
        parentVariable: 335
      -
        class_name: TestVariable
        id: 341
        name: content
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 36
        parentVariable: 336
      -
        class_name: TestVariable
        id: 342
        name: params
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 36
        parentVariable: 337
      -
        class_name: TestVariable
        id: 343
        name: html
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 36
        parentVariable: 338
    sourceWizard: 10
    sourceWizardTest: 35
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 3fbec6708e4731680d5d942f26aa9ca7f32a79a4
  -
    class_name: Test
    id: 53
    name: _linearTestInitialization
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getItems = function(itemBankType, itemBankItems, itemBankTable, order){
        items = NULL
        if(itemBankType == "table") {
          tableMap = fromJSON(itemBankTable)
          table = tableMap$table
          questionColumn = tableMap$columns$question
          responseOptionsColumn = tableMap$columns$responseOptions
          orderIndexColumn = tableMap$columns$orderIndex
          traitColumn = tableMap$columns$trait
          correctColumn = tableMap$columns$correct
          items = concerto.table.query(
            "
      SELECT 
      id, 
      {{questionColumn}} AS question, 
      {{responseOptionsColumn}} AS responseOptions,
      {{orderIndexColumn}} AS orderIndex,
      {{traitColumn}} AS trait,
      {{correctColumn}} AS correct
      FROM {{table}} 
      ORDER BY {{orderIndexColumn}}
      ", 
            list(
              questionColumn=questionColumn,
              responseOptionsColumn=responseOptionsColumn,
              orderIndexColumn=orderIndexColumn,
              traitColumn=traitColumn,
              correctColumn=correctColumn,
              table=table
            ))
        }
        if(itemBankType == "direct") {
          itemBankItems = fromJSON(itemBankItems)
          if(length(itemBankItems) > 0) {
            for(i in 1:length(itemBankItems)) {
              itemBankItems[[i]]$responseOptions = as.character(toJSON(itemBankItems[[i]]$responseOptions)) #response options don't fit into flat table, so turn them back to JSON.
              items = rbind(items, data.frame(itemBankItems[[i]], stringsAsFactors=F))
            }
          }
        } 
        
        if(dim(items)[1] == 0) { stop("Item bank must not be empty!") }
        if(order == "random") {
          items = items[sample(1:dim(items)[1]),]
        }
        return(items)
      }
      
      items = getItems(settings$itemBankType, settings$itemBankItems, settings$itemBankTable, settings$order)
      
      itemsAdministered = NULL
      scores = NULL
      traitScores = list()
      
      testTimeStarted = as.numeric(Sys.time())
      testTimeLeft = as.numeric(settings$testTimeLimit) + as.numeric(settings$testTimeLimitOffset)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 426
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 53
        parentVariable: null
      -
        class_name: TestVariable
        id: 437
        name: items
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 53
        parentVariable: null
      -
        class_name: TestVariable
        id: 438
        name: testTimeStarted
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 53
        parentVariable: null
      -
        class_name: TestVariable
        id: 439
        name: testTimeLeft
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 53
        parentVariable: null
      -
        class_name: TestVariable
        id: 458
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 53
        parentVariable: null
      -
        class_name: TestVariable
        id: 492
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 53
        parentVariable: null
      -
        class_name: TestVariable
        id: 598
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 53
        parentVariable: null
      -
        class_name: TestVariable
        id: 816
        name: traitScores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 53
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 22769172b0ef93939496f766da701665efd1fe80
  -
    class_name: Test
    id: 55
    name: _linearTestShowItem
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getData = function(itemSafe, responseSafe, canGoBack, templateParams, responseRequired, responseRequiredAlert) {
        templateParams$item = itemSafe
        templateParams$canGoBack = canGoBack
        templateParams$response = responseSafe
        templateParams$responseRequired = responseRequired
        templateParams$responseRequiredAlert = responseRequiredAlert
      
        return(templateParams)
      }
      
      getTimeLimit = function(testTimeStarted, testTimeLimit, itemTimeLimit) {
        limit = 0
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = 0
        if(testTimeLimit > 0) {
          testTimeLeft = max(testTimeLimit - startedAgo, 1)
          limit = testTimeLeft
        }
        if(itemTimeLimit > 0) {
          if(limit > 0) {
            limit = min(limit, itemTimeLimit)
          } else {
            limit = itemTimeLimit
          }
        }
        return(limit)
      }
      
      canGoBack = if(settings$canGoBack == "1" && itemIndex > 1) { 1 } else { 0 }
      response = concerto.template.show(
        settings$itemTemplate, 
        params=getData(itemSafe, responseSafe, canGoBack, templateParams, settings$responseRequired, settings$responseRequiredAlert), 
        timeLimit=getTimeLimit(
          testTimeStarted, 
          as.numeric(settings$testTimeLimit), 
          as.numeric(settings$itemTimeLimit)
        )
      )
      
      .branch = "submitted"
      if(response$isTimeout == 1) { .branch = "outOfTime" }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 461
        name: submitted
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 462
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 463
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 465
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 466
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 469
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 470
        name: outOfTime
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 471
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 524
        name: itemSafe
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 582
        name: itemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 594
        name: responseSafe
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
      -
        class_name: TestVariable
        id: 600
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 55
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 2e0c06a7e5a6af4563eaadff2e60889ea9a8feae
  -
    class_name: Test
    id: 52
    name: _linearTest
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 2
    code: null
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 425
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 432
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 433
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 434
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 435
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 436
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 453
        name: order
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 454
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 472
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 474
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 491
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 502
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 503
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 516
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 517
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 518
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 519
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 578
        name: canGoBack
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 634
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 636
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
      -
        class_name: TestVariable
        id: 782
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 52
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes:
      -
        class_name: TestNode
        id: 65
        title: ''
        type: 1
        posX: 14782
        posY: 14945
        flowTest: 52
        sourceTest: 52
        sourceTestName: _linearTest
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 470
            value: null
            node: 65
            variable: 432
            variableObject:
              class_name: TestVariable
              id: 432
              name: itemBankItems
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankItems
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 471
            value: null
            node: 65
            variable: 433
            variableObject:
              class_name: TestVariable
              id: 433
              name: itemBankTable
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankTable
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 472
            value: null
            node: 65
            variable: 434
            variableObject:
              class_name: TestVariable
              id: 434
              name: itemBankType
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankType
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 473
            value: '0'
            node: 65
            variable: 435
            variableObject:
              class_name: TestVariable
              id: 435
              name: testTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 474
            value: '0'
            node: 65
            variable: 436
            variableObject:
              class_name: TestVariable
              id: 436
              name: testTimeLimitOffset
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 479
            value: null
            node: 65
            variable: 453
            variableObject:
              class_name: TestVariable
              id: 453
              name: order
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: order
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 491
            value: null
            node: 65
            variable: 454
            variableObject:
              class_name: TestVariable
              id: 454
              name: nextItemSelectorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: nextItemSelectorModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 511
            value: '0'
            node: 65
            variable: 472
            variableObject:
              class_name: TestVariable
              id: 472
              name: itemTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 513
            value: null
            node: 65
            variable: 474
            variableObject:
              class_name: TestVariable
              id: 474
              name: itemTemplate
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTemplate
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 518
            value: null
            node: 65
            variable: 491
            variableObject:
              class_name: TestVariable
              id: 491
              name: scoringModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: scoringModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 580
            value: null
            node: 65
            variable: 502
            variableObject:
              class_name: TestVariable
              id: 502
              name: responseBank
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseBank
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 581
            value: null
            node: 65
            variable: 503
            variableObject:
              class_name: TestVariable
              id: 503
              name: session
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 582
            value: null
            node: 65
            variable: 516
            variableObject:
              class_name: TestVariable
              id: 516
              name: responseProcessorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseProcessorModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 608
            value: null
            node: 65
            variable: 517
            variableObject:
              class_name: TestVariable
              id: 517
              name: itemNumLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 609
            value: null
            node: 65
            variable: 518
            variableObject:
              class_name: TestVariable
              id: 518
              name: itemTimeFullRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 610
            value: null
            node: 65
            variable: 519
            variableObject:
              class_name: TestVariable
              id: 519
              name: statusCheckModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: statusCheckModule
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 714
            value: '0'
            node: 65
            variable: 578
            variableObject:
              class_name: TestVariable
              id: 578
              name: canGoBack
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: canGoBack
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 893
            value: null
            node: 65
            variable: 634
            variableObject:
              class_name: TestVariable
              id: 634
              name: responseRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 894
            value: null
            node: 65
            variable: 636
            variableObject:
              class_name: TestVariable
              id: 636
              name: responseRequiredAlert
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequiredAlert
            pointer: '0'
            pointerVariable: responseRequiredAlert
      -
        class_name: TestNode
        id: 66
        title: ''
        type: 2
        posX: 17000
        posY: 15568
        flowTest: 52
        sourceTest: 52
        sourceTestName: _linearTest
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 1205
            value: ''
            node: 66
            variable: 782
            variableObject:
              class_name: TestVariable
              id: 782
              name: scores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 52
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: scores
            pointer: '1'
            pointerVariable: traitScores
      -
        class_name: TestNode
        id: 67
        title: ''
        type: 0
        posX: 15617
        posY: 15142
        flowTest: 52
        sourceTest: 53
        sourceTestName: _linearTestInitialization
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 469
            value: '0'
            node: 67
            variable: 426
            variableObject:
              class_name: TestVariable
              id: 426
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 53
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 475
            value: null
            node: 67
            variable: 437
            variableObject:
              class_name: TestVariable
              id: 437
              name: items
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 53
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 476
            value: null
            node: 67
            variable: 438
            variableObject:
              class_name: TestVariable
              id: 438
              name: testTimeStarted
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 53
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 477
            value: null
            node: 67
            variable: 439
            variableObject:
              class_name: TestVariable
              id: 439
              name: testTimeLeft
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 53
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 495
            value: 'NULL'
            node: 67
            variable: 458
            variableObject:
              class_name: TestVariable
              id: 458
              name: itemsAdministered
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 53
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 562
            value: 'NULL'
            node: 67
            variable: 492
            variableObject:
              class_name: TestVariable
              id: 492
              name: scores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 53
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 769
            value: null
            node: 67
            variable: 598
            variableObject:
              class_name: TestVariable
              id: 598
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 53
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 1631
            value: null
            node: 67
            variable: 816
            variableObject:
              class_name: TestVariable
              id: 816
              name: traitScores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 53
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: traitScores
            pointer: '1'
            pointerVariable: traitScores
      -
        class_name: TestNode
        id: 68
        title: 'next item selector module'
        type: 0
        posX: 15977
        posY: 15132
        flowTest: 52
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 480
            value: _linearTestNextItemSelectorModule
            node: 68
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 481
            value: null
            node: 68
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 482
            value: null
            node: 68
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 483
            value: '0'
            node: 68
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 488
            value: ''
            node: 68
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 489
            value: ''
            node: 68
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItem
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 490
            value: ''
            node: 68
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 560
            value: 'NULL'
            node: 68
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 561
            value: '1'
            node: 68
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 614
            value: ''
            node: 68
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemSafe
            pointer: '0'
            pointerVariable: itemSafe
          -
            class_name: TestNodePort
            id: 722
            value: '0'
            node: 68
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: prevItemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 727
            value: ''
            node: 68
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 729
            value: ''
            node: 68
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: pastResponseSafe
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 771
            value: ''
            node: 68
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 70
        title: ''
        type: 0
        posX: 16374
        posY: 15122
        flowTest: 52
        sourceTest: 55
        sourceTestName: _linearTestShowItem
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 500
            value: null
            node: 70
            variable: 462
            variableObject:
              class_name: TestVariable
              id: 462
              name: item
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 501
            value: c.getDynamicInputs()
            node: 70
            variable: 463
            variableObject:
              class_name: TestVariable
              id: 463
              name: templateParams
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: templateParams
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 503
            value: null
            node: 70
            variable: 465
            variableObject:
              class_name: TestVariable
              id: 465
              name: testTimeStarted
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 504
            value: null
            node: 70
            variable: 466
            variableObject:
              class_name: TestVariable
              id: 466
              name: testTimeLeft
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 507
            value: null
            node: 70
            variable: 469
            variableObject:
              class_name: TestVariable
              id: 469
              name: response
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 508
            value: null
            node: 70
            variable: 471
            variableObject:
              class_name: TestVariable
              id: 471
              name: .branch
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 509
            value: '0'
            node: 70
            variable: 461
            variableObject:
              class_name: TestVariable
              id: 461
              name: submitted
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: submitted
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 510
            value: null
            node: 70
            variable: 470
            variableObject:
              class_name: TestVariable
              id: 470
              name: outOfTime
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: outOfTime
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 615
            value: null
            node: 70
            variable: 524
            variableObject:
              class_name: TestVariable
              id: 524
              name: itemSafe
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: itemSafe
            pointer: '0'
            pointerVariable: itemSafe
          -
            class_name: TestNodePort
            id: 717
            value: null
            node: 70
            variable: 582
            variableObject:
              class_name: TestVariable
              id: 582
              name: itemIndex
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: itemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 731
            value: null
            node: 70
            variable: 594
            variableObject:
              class_name: TestVariable
              id: 594
              name: responseSafe
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: responseSafe
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 772
            value: null
            node: 70
            variable: 600
            variableObject:
              class_name: TestVariable
              id: 600
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 55
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 71
        title: 'scoring module'
        type: 0
        posX: 16782
        posY: 15127
        flowTest: 52
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 514
            value: _linearTestScoringModule
            node: 71
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 515
            value: null
            node: 71
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 516
            value: null
            node: 71
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 517
            value: '0'
            node: 71
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 535
            value: 'NULL'
            node: 71
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 536
            value: ''
            node: 71
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 537
            value: ''
            node: 71
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 538
            value: 'NULL'
            node: 71
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 540
            value: ''
            node: 71
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 557
            value: ''
            node: 71
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: score
            pointer: '1'
            pointerVariable: score
          -
            class_name: TestNodePort
            id: 558
            value: 'NULL'
            node: 71
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 773
            value: ''
            node: 71
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 774
            value: ''
            node: 71
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 1632
            value: ''
            node: 71
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: traitScores
            pointer: '1'
            pointerVariable: traitScores
      -
        class_name: TestNode
        id: 74
        title: 'response processor module'
        type: 0
        posX: 17167
        posY: 15123
        flowTest: 52
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 563
            value: _linearTestResponseProcessorModule
            node: 74
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 564
            value: null
            node: 74
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 565
            value: null
            node: 74
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 566
            value: '0'
            node: 74
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 574
            value: ''
            node: 74
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: item
            pointer: '1'
            pointerVariable: item
          -
            class_name: TestNodePort
            id: 575
            value: ''
            node: 74
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 577
            value: ''
            node: 74
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: score
            pointer: '1'
            pointerVariable: score
          -
            class_name: TestNodePort
            id: 578
            value: ''
            node: 74
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 579
            value: ''
            node: 74
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: responseId
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 611
            value: ''
            node: 74
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 718
            value: ''
            node: 74
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 719
            value: 'NULL'
            node: 74
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 720
            value: 'NULL'
            node: 74
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 775
            value: ''
            node: 74
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 76
        title: 'status check module'
        type: 0
        posX: 16610
        posY: 15513
        flowTest: 52
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 583
            value: _linearTestStatusCheckModule
            node: 76
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 584
            value: null
            node: 76
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 585
            value: null
            node: 76
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 586
            value: '0'
            node: 76
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '0'
            name: out
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 598
            value: 'NULL'
            node: 76
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 603
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 604
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: continue
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 606
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: stop
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 607
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: ''
          -
            class_name: TestNodePort
            id: 721
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 723
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemIndex
            pointer: '1'
            pointerVariable: itemIndex
          -
            class_name: TestNodePort
            id: 770
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 776
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 777
            value: ''
            node: 76
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
      -
        class_name: TestNode
        id: 86
        title: 'create settings'
        type: 0
        posX: 15223
        posY: 14939
        flowTest: 52
        sourceTest: 62
        sourceTestName: createList
        sourceTestDescription: 'List creation. Dynamic inputs will be used as list elements (input name as list key, input value as list value).'
        ports:
          -
            class_name: TestNodePort
            id: 749
            value: null
            node: 86
            variable: 596
            variableObject:
              class_name: TestVariable
              id: 596
              name: sourceList
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: sourceList
            pointer: '0'
            pointerVariable: sourceList
          -
            class_name: TestNodePort
            id: 750
            value: null
            node: 86
            variable: 597
            variableObject:
              class_name: TestVariable
              id: 597
              name: result
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: result
            pointer: '0'
            pointerVariable: result
          -
            class_name: TestNodePort
            id: 751
            value: '0'
            node: 86
            variable: 595
            variableObject:
              class_name: TestVariable
              id: 595
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 753
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: canGoBack
            pointer: '0'
            pointerVariable: canGoBack
          -
            class_name: TestNodePort
            id: 755
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankItems
            pointer: '0'
            pointerVariable: itemBankItems
          -
            class_name: TestNodePort
            id: 756
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankTable
            pointer: '0'
            pointerVariable: itemBankTable
          -
            class_name: TestNodePort
            id: 757
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankType
            pointer: '0'
            pointerVariable: itemBankType
          -
            class_name: TestNodePort
            id: 758
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: itemNumLimit
          -
            class_name: TestNodePort
            id: 759
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTemplate
            pointer: '0'
            pointerVariable: itemTemplate
          -
            class_name: TestNodePort
            id: 761
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: itemTimeFullRequired
          -
            class_name: TestNodePort
            id: 762
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: itemTimeLimit
          -
            class_name: TestNodePort
            id: 764
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: order
            pointer: '0'
            pointerVariable: order
          -
            class_name: TestNodePort
            id: 765
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseBank
            pointer: '0'
            pointerVariable: responseBank
          -
            class_name: TestNodePort
            id: 767
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: testTimeLimit
          -
            class_name: TestNodePort
            id: 768
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: testTimeLimitOffset
          -
            class_name: TestNodePort
            id: 895
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 896
            value: ''
            node: 86
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequiedAlert
            pointer: '0'
            pointerVariable: responseRequiedAlert
      -
        class_name: TestNode
        id: 87
        title: 'set settings'
        type: 0
        posX: 15570
        posY: 14971
        flowTest: 52
        sourceTest: 11
        sourceTestName: set
        sourceTestDescription: 'Promote variables. Use dynamic inputs to declare which variables you want to promote.'
        ports:
          -
            class_name: TestNodePort
            id: 752
            value: '0'
            node: 87
            variable: 63
            variableObject:
              class_name: TestVariable
              id: 63
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 11
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 779
            value: ''
            node: 87
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '0'
            pointerVariable: settings
    nodesConnections:
      -
        class_name: TestNodeConnection
        id: 183
        flowTest: 52
        sourceNode: 65
        sourcePort: null
        sourcePortObject: null
        destinationNode: 86
        destinationPort: null
        destinationPortObject: null
        returnFunction: ''
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 188
        flowTest: 52
        sourceNode: 67
        sourcePort: 469
        sourcePortObject:
          class_name: TestNodePort
          id: 469
          value: '0'
          node: 67
          variable: 426
          variableObject:
            class_name: TestVariable
            id: 426
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 53
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 68
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 190
        flowTest: 52
        sourceNode: 65
        sourcePort: 491
        sourcePortObject:
          class_name: TestNodePort
          id: 491
          value: null
          node: 65
          variable: 454
          variableObject:
            class_name: TestVariable
            id: 454
            name: nextItemSelectorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: nextItemSelectorModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 68
        destinationPort: 480
        destinationPortObject:
          class_name: TestNodePort
          id: 480
          value: _linearTestNextItemSelectorModule
          node: 68
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: nextItemSelectorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 198
        flowTest: 52
        sourceNode: 68
        sourcePort: 483
        sourcePortObject:
          class_name: TestNodePort
          id: 483
          value: '0'
          node: 68
          variable: 70
          variableObject:
            class_name: TestVariable
            id: 70
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 15
            parentVariable: 66
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 70
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 205
        flowTest: 52
        sourceNode: 70
        sourcePort: 510
        sourcePortObject:
          class_name: TestNodePort
          id: 510
          value: null
          node: 70
          variable: 470
          variableObject:
            class_name: TestVariable
            id: 470
            name: outOfTime
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 55
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: outOfTime
          pointer: '0'
          pointerVariable: ''
        destinationNode: 71
        destinationPort: null
        destinationPortObject: null
        returnFunction: outOfTime
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 206
        flowTest: 52
        sourceNode: 70
        sourcePort: 509
        sourcePortObject:
          class_name: TestNodePort
          id: 509
          value: '0'
          node: 70
          variable: 461
          variableObject:
            class_name: TestVariable
            id: 461
            name: submitted
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 55
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: submitted
          pointer: '0'
          pointerVariable: ''
        destinationNode: 71
        destinationPort: null
        destinationPortObject: null
        returnFunction: submitted
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 207
        flowTest: 52
        sourceNode: 65
        sourcePort: 518
        sourcePortObject:
          class_name: TestNodePort
          id: 518
          value: null
          node: 65
          variable: 491
          variableObject:
            class_name: TestVariable
            id: 491
            name: scoringModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: scoringModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 71
        destinationPort: 514
        destinationPortObject:
          class_name: TestNodePort
          id: 514
          value: _linearTestScoringModule
          node: 71
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: scoringModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 217
        flowTest: 52
        sourceNode: 71
        sourcePort: 517
        sourcePortObject:
          class_name: TestNodePort
          id: 517
          value: '0'
          node: 71
          variable: 70
          variableObject:
            class_name: TestVariable
            id: 70
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 15
            parentVariable: 66
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 74
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 223
        flowTest: 52
        sourceNode: 65
        sourcePort: 582
        sourcePortObject:
          class_name: TestNodePort
          id: 582
          value: null
          node: 65
          variable: 516
          variableObject:
            class_name: TestVariable
            id: 516
            name: responseProcessorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseProcessorModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 74
        destinationPort: 563
        destinationPortObject:
          class_name: TestNodePort
          id: 563
          value: _linearTestResponseProcessorModule
          node: 74
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: responseProcessorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 224
        flowTest: 52
        sourceNode: 74
        sourcePort: 566
        sourcePortObject:
          class_name: TestNodePort
          id: 566
          value: '0'
          node: 74
          variable: 70
          variableObject:
            class_name: TestVariable
            id: 70
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 15
            parentVariable: 66
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: ''
        destinationNode: 76
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 225
        flowTest: 52
        sourceNode: 76
        sourcePort: 606
        sourcePortObject:
          class_name: TestNodePort
          id: 606
          value: ''
          node: 76
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: stop
          pointer: '0'
          pointerVariable: ''
        destinationNode: 66
        destinationPort: null
        destinationPortObject: null
        returnFunction: stop
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 226
        flowTest: 52
        sourceNode: 76
        sourcePort: 604
        sourcePortObject:
          class_name: TestNodePort
          id: 604
          value: ''
          node: 76
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: continue
          pointer: '0'
          pointerVariable: ''
        destinationNode: 68
        destinationPort: null
        destinationPortObject: null
        returnFunction: continue
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 234
        flowTest: 52
        sourceNode: 65
        sourcePort: 610
        sourcePortObject:
          class_name: TestNodePort
          id: 610
          value: null
          node: 65
          variable: 519
          variableObject:
            class_name: TestVariable
            id: 519
            name: statusCheckModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: statusCheckModule
          pointer: '0'
          pointerVariable: ''
        destinationNode: 76
        destinationPort: 583
        destinationPortObject:
          class_name: TestNodePort
          id: 583
          value: _linearTestStatusCheckModule
          node: 76
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '0'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: ''
        returnFunction: statusCheckModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 268
        flowTest: 52
        sourceNode: 68
        sourcePort: 729
        sourcePortObject:
          class_name: TestNodePort
          id: 729
          value: ''
          node: 68
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: pastResponseSafe
          pointer: '0'
          pointerVariable: ''
        destinationNode: 70
        destinationPort: 731
        destinationPortObject:
          class_name: TestNodePort
          id: 731
          value: null
          node: 70
          variable: 594
          variableObject:
            class_name: TestVariable
            id: 594
            name: responseSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 55
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: responseSafe
          pointer: '0'
          pointerVariable: ''
        returnFunction: pastResponseSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 280
        flowTest: 52
        sourceNode: 86
        sourcePort: 751
        sourcePortObject:
          class_name: TestNodePort
          id: 751
          value: '0'
          node: 86
          variable: 595
          variableObject:
            class_name: TestVariable
            id: 595
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 62
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 87
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 281
        flowTest: 52
        sourceNode: 87
        sourcePort: 752
        sourcePortObject:
          class_name: TestNodePort
          id: 752
          value: '0'
          node: 87
          variable: 63
          variableObject:
            class_name: TestVariable
            id: 63
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 11
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 67
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 282
        flowTest: 52
        sourceNode: 65
        sourcePort: 714
        sourcePortObject:
          class_name: TestNodePort
          id: 714
          value: '0'
          node: 65
          variable: 578
          variableObject:
            class_name: TestVariable
            id: 578
            name: canGoBack
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: canGoBack
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 753
        destinationPortObject:
          class_name: TestNodePort
          id: 753
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: canGoBack
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 283
        flowTest: 52
        sourceNode: 65
        sourcePort: 470
        sourcePortObject:
          class_name: TestNodePort
          id: 470
          value: null
          node: 65
          variable: 432
          variableObject:
            class_name: TestVariable
            id: 432
            name: itemBankItems
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankItems
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 755
        destinationPortObject:
          class_name: TestNodePort
          id: 755
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankItems
          pointer: '0'
          pointerVariable: itemBankItems
        returnFunction: itemBankItems
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 284
        flowTest: 52
        sourceNode: 65
        sourcePort: 471
        sourcePortObject:
          class_name: TestNodePort
          id: 471
          value: null
          node: 65
          variable: 433
          variableObject:
            class_name: TestVariable
            id: 433
            name: itemBankTable
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankTable
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 756
        destinationPortObject:
          class_name: TestNodePort
          id: 756
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankTable
          pointer: '0'
          pointerVariable: itemBankTable
        returnFunction: itemBankTable
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 285
        flowTest: 52
        sourceNode: 65
        sourcePort: 472
        sourcePortObject:
          class_name: TestNodePort
          id: 472
          value: null
          node: 65
          variable: 434
          variableObject:
            class_name: TestVariable
            id: 434
            name: itemBankType
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankType
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 757
        destinationPortObject:
          class_name: TestNodePort
          id: 757
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankType
          pointer: '0'
          pointerVariable: itemBankType
        returnFunction: itemBankType
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 286
        flowTest: 52
        sourceNode: 65
        sourcePort: 608
        sourcePortObject:
          class_name: TestNodePort
          id: 608
          value: null
          node: 65
          variable: 517
          variableObject:
            class_name: TestVariable
            id: 517
            name: itemNumLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 758
        destinationPortObject:
          class_name: TestNodePort
          id: 758
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: itemNumLimit
        returnFunction: itemNumLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 287
        flowTest: 52
        sourceNode: 65
        sourcePort: 513
        sourcePortObject:
          class_name: TestNodePort
          id: 513
          value: null
          node: 65
          variable: 474
          variableObject:
            class_name: TestVariable
            id: 474
            name: itemTemplate
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTemplate
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 759
        destinationPortObject:
          class_name: TestNodePort
          id: 759
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTemplate
          pointer: '0'
          pointerVariable: itemTemplate
        returnFunction: itemTemplate
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 288
        flowTest: 52
        sourceNode: 65
        sourcePort: 609
        sourcePortObject:
          class_name: TestNodePort
          id: 609
          value: null
          node: 65
          variable: 518
          variableObject:
            class_name: TestVariable
            id: 518
            name: itemTimeFullRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 761
        destinationPortObject:
          class_name: TestNodePort
          id: 761
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: itemTimeFullRequired
        returnFunction: itemTimeFullRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 289
        flowTest: 52
        sourceNode: 65
        sourcePort: 511
        sourcePortObject:
          class_name: TestNodePort
          id: 511
          value: '0'
          node: 65
          variable: 472
          variableObject:
            class_name: TestVariable
            id: 472
            name: itemTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 762
        destinationPortObject:
          class_name: TestNodePort
          id: 762
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: itemTimeLimit
        returnFunction: itemTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 290
        flowTest: 52
        sourceNode: 65
        sourcePort: 479
        sourcePortObject:
          class_name: TestNodePort
          id: 479
          value: null
          node: 65
          variable: 453
          variableObject:
            class_name: TestVariable
            id: 453
            name: order
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: order
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 764
        destinationPortObject:
          class_name: TestNodePort
          id: 764
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: order
          pointer: '0'
          pointerVariable: order
        returnFunction: order
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 291
        flowTest: 52
        sourceNode: 65
        sourcePort: 580
        sourcePortObject:
          class_name: TestNodePort
          id: 580
          value: null
          node: 65
          variable: 502
          variableObject:
            class_name: TestVariable
            id: 502
            name: responseBank
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseBank
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 765
        destinationPortObject:
          class_name: TestNodePort
          id: 765
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseBank
          pointer: '0'
          pointerVariable: responseBank
        returnFunction: responseBank
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 292
        flowTest: 52
        sourceNode: 65
        sourcePort: 473
        sourcePortObject:
          class_name: TestNodePort
          id: 473
          value: '0'
          node: 65
          variable: 435
          variableObject:
            class_name: TestVariable
            id: 435
            name: testTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 767
        destinationPortObject:
          class_name: TestNodePort
          id: 767
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: testTimeLimit
        returnFunction: testTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 293
        flowTest: 52
        sourceNode: 65
        sourcePort: 474
        sourcePortObject:
          class_name: TestNodePort
          id: 474
          value: '0'
          node: 65
          variable: 436
          variableObject:
            class_name: TestVariable
            id: 436
            name: testTimeLimitOffset
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: ''
        destinationNode: 86
        destinationPort: 768
        destinationPortObject:
          class_name: TestNodePort
          id: 768
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: testTimeLimitOffset
        returnFunction: testTimeLimitOffset
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 294
        flowTest: 52
        sourceNode: 68
        sourcePort: 614
        sourcePortObject:
          class_name: TestNodePort
          id: 614
          value: ''
          node: 68
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: nextItemSafe
          pointer: '0'
          pointerVariable: itemSafe
        destinationNode: 70
        destinationPort: 615
        destinationPortObject:
          class_name: TestNodePort
          id: 615
          value: null
          node: 70
          variable: 524
          variableObject:
            class_name: TestVariable
            id: 524
            name: itemSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 55
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: itemSafe
          pointer: '0'
          pointerVariable: itemSafe
        returnFunction: nextItemSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 295
        flowTest: 52
        sourceNode: 86
        sourcePort: 750
        sourcePortObject:
          class_name: TestNodePort
          id: 750
          value: null
          node: 86
          variable: 597
          variableObject:
            class_name: TestVariable
            id: 597
            name: result
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 62
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: result
          pointer: '0'
          pointerVariable: result
        destinationNode: 87
        destinationPort: 779
        destinationPortObject:
          class_name: TestNodePort
          id: 779
          value: ''
          node: 87
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: settings
          pointer: '0'
          pointerVariable: settings
        returnFunction: result
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 344
        flowTest: 52
        sourceNode: 65
        sourcePort: 893
        sourcePortObject:
          class_name: TestNodePort
          id: 893
          value: null
          node: 65
          variable: 634
          variableObject:
            class_name: TestVariable
            id: 634
            name: responseRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        destinationNode: 86
        destinationPort: 895
        destinationPortObject:
          class_name: TestNodePort
          id: 895
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        returnFunction: responseRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 345
        flowTest: 52
        sourceNode: 65
        sourcePort: 894
        sourcePortObject:
          class_name: TestNodePort
          id: 894
          value: null
          node: 65
          variable: 636
          variableObject:
            class_name: TestVariable
            id: 636
            name: responseRequiredAlert
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 52
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        destinationNode: 86
        destinationPort: 896
        destinationPortObject:
          class_name: TestNodePort
          id: 896
          value: ''
          node: 86
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequiedAlert
          pointer: '0'
          pointerVariable: responseRequiedAlert
        returnFunction: responseRequiredAlert
        automatic: '0'
        defaultReturnFunction: '1'
    tags: ''
    groups: ''
    starterContent: true
    hash: ddf492e7a72c18df30c27fc337f2619589baa794
  -
    class_name: Test
    id: 54
    name: _linearTestNextItemSelectorModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getSessionId = function(session) {
        id = 0
        if(!is.null(session) && is.list(session)) {
          id = session$id
        } else {
          id = paste0("i",concerto$session$id)
        }
        return(id)
      }
      
      getSafeItem = function(item) {
        item = as.list(item)
        
        if(is.character(item$responseOptions)) { item$responseOptions = fromJSON(item$responseOptions) }
        responseOptionsRandomOrder = item$responseOptions$optionsRandomOrder == "1"
        orderedOptions = c()
      
        if(length(item$responseOptions$options) > 0) {
          if(responseOptionsRandomOrder) {
            orderedOptions = item$responseOptions$options[sample(1:length(item$responseOptions$options))]
          } else {
            orderedOptions = item$responseOptions$options
          }
        }
        orderedOptions = lapply(orderedOptions, function(elem) {
          elem$score = NULL
          return(elem)
        })
        
        item$responseOptions$options = orderedOptions
        item$responseOptions$openScore = NULL
        item$responseOptions$openCorrect = NULL
        return(item)
      }
      
      getSafePastResponse = function(item, session, responseBank) {
        responseBank = fromJSON(responseBank)
        if(is.null(responseBank$table)) {
          concerto.log("no response bank defined")
          return(NULL)
        }
        
        sql = "
      SELECT * FROM {{table}}
      WHERE 
      {{sessionIdColumn}}='{{sessionId}}' AND
      {{itemIdColumn}}={{itemId}}
      "
        response = concerto.table.query(sql, list(
          table=responseBank$table,
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=getSessionId(session),
          itemIdColumn=responseBank$columns$item_id,
          itemId=item$id
        ))
        if(dim(response)[1] > 0) {
          response = as.list(response)
          response$score = NULL
          return(response)
        }
        return(NULL)
      }
      
      concerto.log(prevItemIndex, "prevItemIndex")
      concerto.log(direction, "direction")
      nextItemIndex = as.numeric(prevItemIndex) + as.numeric(direction)
      concerto.log(nextItemIndex, "next item index")
      nextItem = items[nextItemIndex,]
      nextItemSafe = getSafeItem(nextItem)
      pastResponseSafe = getSafePastResponse(nextItem, session, settings$responseBank)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 441
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 450
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 451
        name: nextItemIndex
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 452
        name: nextItem
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 459
        name: itemsAdministrered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 460
        name: direction
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 526
        name: nextItemSafe
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 587
        name: prevItemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 591
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 592
        name: pastResponseSafe
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 593
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
      -
        class_name: TestVariable
        id: 599
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 54
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: ceb6dd1932fc7d0a4790321894d72274eaea54a0
  -
    class_name: Test
    id: 56
    name: _linearTestScoringModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      updateScores = function(response, item, scores) {
        score = 0
      
        if(!is.null(response$response)) {
          responseOptions = fromJSON(item$responseOptions)
          if(responseOptions$type == "open") {
            if(response$response == responseOptions$openCorrect) {
              score = responseOptions$openScore
            }
          } else {
            for(i in 1:length(responseOptions$options)) {
              option = responseOptions$options[[i]]
              if(option$value == response$response) {
                score = option$score
                break
              }
            }
          }
        }
      
        scores[itemIndex] = score
        return(scores)
      }
      
      updateTraitScores = function(scores, items) {
        traitScores = list()
        for(i in 1:length(scores)) {
          score = as.numeric(scores[[i]])
          if(is.null(score)) { score = 0 }
          item = as.list(items[i,])
          if(is.null(traitScores[[item$trait]])) {
            traitScores[[item$trait]] = 0
          }
          traitScores[[item$trait]] = traitScores[[item$trait]] + score
        }
        return(traitScores)
      }
      
      scores = updateScores(response, item, scores)
      traitScores = updateTraitScores(scores, items)
      
      concerto.log(scores, "scores")
      concerto.log(traitScores, "traitScores")
      if(scores[itemIndex] > 0) {
        .branch = "correct"
      } else {
        .branch = "incorrect"
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 475
        name: correct
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 476
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 477
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 478
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 479
        name: scores
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 484
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 485
        name: score
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 486
        name: itemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 488
        name: incorrect
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 489
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 601
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 602
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
      -
        class_name: TestVariable
        id: 817
        name: traitScores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 56
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: d785e712c353bc1f3fe967beec7a1980a4aeff5c
  -
    class_name: Test
    id: 57
    name: _linearTestResponseProcessorModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getSessionId = function(session) {
        id = 0
        if(!is.null(session) && is.list(session)) {
          id = session$id
        } else {
          id = paste0("i",concerto$session$id)
        }
        return(id)
      }
      
      saveResponse = function(responseBank, session, response, item, score) {
        responseBank = fromJSON(responseBank)
        if(is.null(responseBank$table)) {
          concerto.log("no response bank defined, skipping response saving")
          return(NULL)
        }
        
        sql = "SELECT COUNT(*) FROM {{table}} WHERE {{itemIdColumn}}={{itemId}} AND {{sessionIdColumn}}='{{sessionId}}'"
        exist = concerto.table.query(sql, params=list(
          table=responseBank$table,
          itemIdColumn=responseBank$columns$item_id,
          itemId=item$id,
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=getSessionId(session)
        )) > 0
      
        sql = "
      INSERT INTO {{table}} 
      ({{itemIdColumn}}, {{responseColumn}}, {{timeTakenColumn}}, {{sessionIdColumn}}, {{scoreColumn}}, {{traitColumn}})
      VALUES ({{itemId}}, '{{response}}', {{timeTaken}}, '{{sessionId}}', {{score}}, '{{trait}}')
      "
        if(exist) {
          sql = "
      UPDATE {{table}} 
      SET 
      {{itemIdColumn}}={{itemId}}, 
      {{responseColumn}}='{{response}}', 
      {{timeTakenColumn}}={{timeTaken}}, 
      {{sessionIdColumn}}='{{sessionId}}', 
      {{scoreColumn}}={{score}}, 
      {{traitColumn}}='{{trait}}'
      WHERE {{itemIdColumn}}={{itemId}} AND {{sessionIdColumn}}='{{sessionId}}'
      "
        }
        concerto.table.query(sql, list(
          table=responseBank$table,
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=getSessionId(session),
          itemIdColumn=responseBank$columns$item_id,
          itemId=item$id,
          responseColumn=responseBank$columns$response,
          response=response$response,
          timeTakenColumn=responseBank$columns$timeTaken,
          timeTaken=response$timeTaken, #could use time difference
          scoreColumn=responseBank$columns$score,
          score=score,
          traitColumn=responseBank$columns$trait,
          trait=item$trait
        ))
        return(concerto.table.lastInsertId())
      }
      
      responseId = saveResponse(settings$responseBank, session, response, item, score)
      
      direction = 1
      itemsAdministered = unique(c(itemsAdministered, itemIndex)) 
      if(settings$canGoBack == "1" && itemIndex > 1 && response$buttonPressed == "back") {
        direction = -1
      }
      concerto.log(itemsAdministered, "itemsAdministered")
      concerto.log(direction, "direction")
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 493
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 495
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 496
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 497
        name: item
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 498
        name: score
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 500
        name: responseId
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 520
        name: direction
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 583
        name: itemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 584
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 585
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
      -
        class_name: TestVariable
        id: 604
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 57
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: c773d74c7285dda0b190b9b9e02c34c481a0025f
  -
    class_name: Test
    id: 58
    name: _linearTestStatusCheckModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      isOutOfTime = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired) {
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = testTimeLimit - startedAgo
        if(testTimeLimit > 0) {
          if(testTimeLeft <= 0) { return(T) }
          if(testTimeLeft < itemTimeLimit && itemTimeFullRequired) { return(T) }
        }
        return(F)
      }
      
      getBranch = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired, itemNumLimit, itemIndex, itemsNum) {
        if(isOutOfTime(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired)) {
          concerto.log("time out", "test status")
          return("stop")
        }
        
        if(itemNumLimit > 0 && itemIndex >= itemNumLimit || itemIndex >= itemsNum) {
          if(as.numeric(direction) > 0) {
            concerto.log("maximum items reached", "test status")
            return("stop")
          }
        }
        
        concerto.log("continue", "test status")
        return("continue")
      }
      
      .branch = getBranch(
        as.numeric(settings$testTimeLimit), 
        testTimeStarted, 
        as.numeric(settings$itemTimeLimit), 
        settings$itemTimeFullRequired == "1", 
        as.numeric(settings$itemNumLimit), 
        itemIndex, 
        dim(items)[1]
      )
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 504
        name: continue
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 505
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 506
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 511
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 514
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 515
        name: stop
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 586
        name: direction
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 588
        name: itemIndex
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 605
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
      -
        class_name: TestVariable
        id: 606
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 58
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 533e3782841ae62baf0f0b63a5a74d37d312bb17
  -
    class_name: TestWizard
    id: 12
    name: linearTest
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 21
        title: Items
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 12
        params:
          -
            class_name: TestWizardParam
            id: 57
            label: Type
            description: |
              <p>Type of item bank. One of the following:</p>
              
              <ul>
              	<li><strong>Direct</strong>&nbsp;- items are declared directly on node</li>
              	<li><strong>Table</strong> - items are read from data table</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: direct
            testVariable: 434
            name: itemBankType
            wizardStep: 21
            stepTitle: Items
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              options:
                -
                  value: direct
                  label: Direct
                -
                  value: table
                  label: Table
              defvalue: direct
          -
            class_name: TestWizardParam
            id: 58
            label: Items
            description: 'Items collection for test.'
            hideCondition: 'values.itemBankType != "direct"'
            type: 10
            passableThroughUrl: '0'
            value: '[{"id":"1","question":"10 + 10","orderIndex":"1","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"1"},{"value":"200","label":"200","score":"0"},{"value":"2000","label":"2000","score":"0"}],"optionsRandomOrder":"1"}},{"id":"2","question":"100 + 100","orderIndex":"2","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"0"},{"value":"200","label":"200","score":"1"},{"value":"2000","label":"2000","score":"0"}],"optionsRandomOrder":"1"}},{"id":"3","question":"1000 + 1000","orderIndex":"3","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"0"},{"value":"200","label":"200","score":"0"},{"value":"2000","label":"2000","score":"1"}],"optionsRandomOrder":"1"}}]'
            testVariable: 432
            name: itemBankItems
            wizardStep: 21
            stepTitle: Items
            order: 0
            wizard: 12
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: id
                      label: Id
                      definition:
                        placeholder: 0
                    -
                      type: 2
                      name: question
                      label: Question
                      definition:
                        placeholder: 0
                    -
                      type: 9
                      name: responseOptions
                      label: 'Response Options'
                      definition:
                        placeholder: 0
                        fields:
                          -
                            type: 3
                            name: type
                            label: Type
                            definition:
                              placeholder: 0
                              options:
                                -
                                  value: options
                                  label: Options
                                  order: 1
                                -
                                  value: open
                                  label: Open
                                  order: 0
                              defvalue: options
                          -
                            type: 0
                            name: openCorrect
                            label: 'Correct (Open)'
                            definition:
                              placeholder: 0
                              defvalue: ''
                            hideCondition: 'parent.type != "open"'
                          -
                            type: 0
                            name: openScore
                            label: 'Score (Open)'
                            definition:
                              placeholder: 0
                              defvalue: '1'
                            hideCondition: 'parent.type != "open"'
                          -
                            type: 10
                            name: options
                            label: Options
                            definition:
                              placeholder: 0
                              element:
                                type: 9
                                definition:
                                  placeholder: 0
                                  fields:
                                    -
                                      type: 0
                                      name: value
                                      label: Value
                                      definition:
                                        placeholder: 0
                                    -
                                      type: 2
                                      name: label
                                      label: Label
                                      definition:
                                        placeholder: 0
                                    -
                                      type: 0
                                      name: score
                                      label: Score
                                      definition:
                                        placeholder: 0
                                        defvalue: '0'
                            hideCondition: 'parent.type != "options"'
                          -
                            type: 4
                            name: optionsRandomOrder
                            label: 'Random Order (Options)'
                            definition:
                              placeholder: 0
                              defvalue: '1'
                            hideCondition: 'parent.type != "options"'
                    -
                      type: 0
                      name: orderIndex
                      label: 'Order Index'
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: trait
                      label: Trait
                      definition:
                        placeholder: 0
          -
            class_name: TestWizardParam
            id: 59
            label: Table
            description: 'Column mapping for item bank.'
            hideCondition: 'values.itemBankType != "table"'
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 433
            name: itemBankTable
            wizardStep: 21
            stepTitle: Items
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: question
                  label: Question
                  tooltip: ''
                -
                  name: responseOptions
                  label: 'Response Options'
                  tooltip: ''
                -
                  name: orderIndex
                  label: 'Order Index'
                  tooltip: ''
                -
                  name: trait
                  label: Trait
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 60
            label: 'Item Template'
            description: 'Layout template for item page.'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: linearTest
            testVariable: 474
            name: itemTemplate
            wizardStep: 21
            stepTitle: Items
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: linearTest
          -
            class_name: TestWizardParam
            id: 65
            label: Order
            description: |
              <p>Order of items. One of the following:</p>
              
              <ul>
              	<li><strong>Manual</strong>&nbsp;- will use sorted&nbsp;<strong>orderIndex&nbsp;</strong>column for order</li>
              	<li><strong>Random&nbsp;</strong>- item order will be randomized</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: random
            testVariable: 453
            name: order
            wizardStep: 21
            stepTitle: Items
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              options:
                -
                  value: manual
                  label: Manual
                -
                  value: random
                  label: Random
              defvalue: random
          -
            class_name: TestWizardParam
            id: 72
            label: 'Can Go Back?'
            description: 'Should it be possible to go back to already answered items and change your response?'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 578
            name: canGoBack
            wizardStep: 21
            stepTitle: Items
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: '0'
      -
        class_name: TestWizardStep
        id: 22
        title: 'Stopping Rules'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 12
        params:
          -
            class_name: TestWizardParam
            id: 61
            label: 'Test Time Limit'
            description: 'Total test time limit in seconds. <strong>0</strong> for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 435
            name: testTimeLimit
            wizardStep: 22
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 62
            label: 'Item Time Limit'
            description: 'Time limit, in seconds, for each item.&nbsp;<strong>0</strong> for none.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 472
            name: itemTimeLimit
            wizardStep: 22
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 63
            label: 'Sufficient Item Time Required'
            description: 'If checked your total test time left must be greater or equal to item time limit. Otherwise no further questions will be shown.'
            hideCondition: 'values.testTimeLimit == 0 || values.itemTimeLimit == 0'
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 518
            name: itemTimeFullRequired
            wizardStep: 22
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 64
            label: 'Item Number Limit'
            description: 'Maximum number of items.&nbsp;<strong>0&nbsp;</strong>for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 517
            name: itemNumLimit
            wizardStep: 22
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: '0'
      -
        class_name: TestWizardStep
        id: 23
        title: Responses
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 12
        params:
          -
            class_name: TestWizardParam
            id: 66
            label: 'Response Bank'
            description: 'Response column mapping. Don&#39;t select any table if you do not wish to store responses in your data tables.'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 502
            name: responseBank
            wizardStep: 23
            stepTitle: Responses
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: item_id
                  label: 'Item Id'
                  tooltip: ''
                -
                  name: response
                  label: Response
                  tooltip: ''
                -
                  name: timeTaken
                  label: 'Time Taken'
                  tooltip: ''
                -
                  name: session_id
                  label: 'Session Id'
                  tooltip: ''
                -
                  name: score
                  label: Score
                  tooltip: ''
                -
                  name: trait
                  label: Trait
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 77
            label: 'Response required'
            description: 'Are responses required?'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 634
            name: responseRequired
            wizardStep: 23
            stepTitle: Responses
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 78
            label: 'Response required alert'
            description: 'Alert when no response is given.'
            hideCondition: 'values.responseRequired == 0'
            type: 0
            passableThroughUrl: '0'
            value: 'Response required!'
            testVariable: 636
            name: responseRequiredAlert
            wizardStep: 23
            stepTitle: Responses
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: 'Response required!'
      -
        class_name: TestWizardStep
        id: 24
        title: Modules
        description: 'Test modules. Each module is a separate test that can use specific input variables and must return specific return variables.'
        orderNum: 0
        colsNum: 0
        wizard: 12
        params:
          -
            class_name: TestWizardParam
            id: 68
            label: 'Next Item Selector Module'
            description: |
              <p>Next item selector module. Needs to return:</p>
              
              <ul>
              	<li><strong>nextItem</strong>&nbsp;- list, next item to show</li>
              	<li><strong>nextItemIndex</strong>&nbsp;- numerical, index of next item to show</li>
              	<li><strong>nextItemSafe</strong>&nbsp;- list, next item to show with all sensitive data fields removed</li>
              	<li><strong>pastResponseSafe&nbsp;</strong>- list, past response for next item with all sensitive data fields removed</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _linearTestNextItemSelectorModule
            testVariable: 454
            name: nextItemSelectorModule
            wizardStep: 24
            stepTitle: Modules
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: _linearTestNextItemSelectorModule
          -
            class_name: TestWizardParam
            id: 69
            label: 'Scoring Module'
            description: |
              <p>Scoring module. Needs to return:</p>
              
              <ul>
              	<li><strong>score&nbsp;</strong>- numerical, score for last response given</li>
              	<li><strong>scores</strong>&nbsp;- vector, scores for all past responses</li>
              	<li><strong>traitScores</strong>&nbsp;- list, keys are trait names and values are total scores for given trait</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _linearTestScoringModule
            testVariable: 491
            name: scoringModule
            wizardStep: 24
            stepTitle: Modules
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: _linearTestScoringModule
          -
            class_name: TestWizardParam
            id: 70
            label: 'Response Processor Module'
            description: |
              <p>Response processor module. Must return:</p>
              
              <ul>
              	<li><strong>direction</strong>&nbsp;- numerical, positive for next item, negative for previous item</li>
              	<li><strong>itemsAdministered</strong>&nbsp;- vector, contains all indices of already administered items</li>
              	<li><strong>responseId</strong>&nbsp;- id of inserted response record to database</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _linearTestResponseProcessorModule
            testVariable: 516
            name: responseProcessorModule
            wizardStep: 24
            stepTitle: Modules
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: _linearTestResponseProcessorModule
          -
            class_name: TestWizardParam
            id: 71
            label: 'Status Check Module'
            description: |
              <p>Status check module. Checks whether test should continue or end. Must return:</p>
              
              <ul>
              	<li><strong>.branch&nbsp;</strong>- string, shoul be&nbsp;<strong>continue </strong>if test should continue or&nbsp;<strong>stop&nbsp;</strong>if it should be stopped</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _linearTestStatusCheckModule
            testVariable: 519
            name: statusCheckModule
            wizardStep: 24
            stepTitle: Modules
            order: 0
            wizard: 12
            definition:
              placeholder: 0
              defvalue: _linearTestStatusCheckModule
    test: 52
    groups: ''
    starterContent: true
    hash: b6cce42f3a30909a498e2e82ca387773a93dbead
  -
    class_name: Test
    id: 61
    name: linearTest
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Linear test.'
    variables:
      -
        class_name: TestVariable
        id: 561
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 61
        parentVariable: 425
      -
        class_name: TestVariable
        id: 562
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[{"id":"1","question":"10 + 10","orderIndex":"1","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"1"},{"value":"200","label":"200","score":"0"},{"value":"2000","label":"2000","score":"0"}],"optionsRandomOrder":"1"}},{"id":"2","question":"100 + 100","orderIndex":"2","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"0"},{"value":"200","label":"200","score":"1"},{"value":"2000","label":"2000","score":"0"}],"optionsRandomOrder":"1"}},{"id":"3","question":"1000 + 1000","orderIndex":"3","trait":"math","responseOptions":{"type":"options","openCorrect":"","openScore":"1","options":[{"value":"20","label":"20","score":"0"},{"value":"200","label":"200","score":"0"},{"value":"2000","label":"2000","score":"1"}],"optionsRandomOrder":"1"}}]'
        test: 61
        parentVariable: 432
      -
        class_name: TestVariable
        id: 563
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 61
        parentVariable: 433
      -
        class_name: TestVariable
        id: 564
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 61
        parentVariable: 434
      -
        class_name: TestVariable
        id: 565
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 61
        parentVariable: 435
      -
        class_name: TestVariable
        id: 566
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 61
        parentVariable: 436
      -
        class_name: TestVariable
        id: 567
        name: order
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: random
        test: 61
        parentVariable: 453
      -
        class_name: TestVariable
        id: 568
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _linearTestNextItemSelectorModule
        test: 61
        parentVariable: 454
      -
        class_name: TestVariable
        id: 569
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 61
        parentVariable: 472
      -
        class_name: TestVariable
        id: 570
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: linearTest
        test: 61
        parentVariable: 474
      -
        class_name: TestVariable
        id: 571
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _linearTestScoringModule
        test: 61
        parentVariable: 491
      -
        class_name: TestVariable
        id: 572
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 61
        parentVariable: 502
      -
        class_name: TestVariable
        id: 573
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 61
        parentVariable: 503
      -
        class_name: TestVariable
        id: 574
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _linearTestResponseProcessorModule
        test: 61
        parentVariable: 516
      -
        class_name: TestVariable
        id: 575
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 61
        parentVariable: 517
      -
        class_name: TestVariable
        id: 576
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 61
        parentVariable: 518
      -
        class_name: TestVariable
        id: 577
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _linearTestStatusCheckModule
        test: 61
        parentVariable: 519
      -
        class_name: TestVariable
        id: 579
        name: canGoBack
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 61
        parentVariable: 578
      -
        class_name: TestVariable
        id: 635
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 61
        parentVariable: 634
      -
        class_name: TestVariable
        id: 637
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: 'Response required!'
        test: 61
        parentVariable: 636
      -
        class_name: TestVariable
        id: 783
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 61
        parentVariable: 782
    sourceWizard: 12
    sourceWizardTest: 52
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 824df99c81870f3e333885658b0ac185d63b38e6
  -
    class_name: ViewTemplate
    id: 19
    name: linearTest
    description: ''
    accessibility: 0
    archived: '0'
    head: ''
    css: |
      .linearTest-response {
        display: table;
      }
      
      .linearTest-response-radio-cell {
        display: table-cell;
      }
      
      .linearTest-response-label-cell {
        display: table-cell;
      }
      
      .linearTest-error {
      }
      
      .linearTest-timer:empty {
        display: none;
      }
    js: |
      testRunner.controllerProvider.register("linearTest", function($scope) {
        $scope.item = testRunner.R.item;
        $scope.canGoBack = testRunner.R.canGoBack == 1;
        $scope.responseRequired = testRunner.R.responseRequired == 1;
        $scope.responseRequiredAlert = testRunner.R.responeRequiredAlert;
        
        $scope.response = {
          value: testRunner.R.response ? testRunner.R.response.response : null
        }
      });
    html: |
      <form name="form" ng-controller="linearTest">
        <div class="linearTest-timer">[[timeLeft]]</div>
      <div class="linearTest-question" ng-bind-html="item.question"></div>
      
      <div class="linearTest-response-group" ng-if="item.responseOptions.type == 'options'">
      <div class="linearTest-response" ng-repeat="option in item.responseOptions.options track by $index">
      <div class="linearTest-response-radio-cell"><input id="input-response-[[$index+1]]" name="response" ng-model="response.value" ng-required="responseRequired" type="radio" value="[[option.value]]" /></div>
      
      <div class="linearTest-response-label-cell"><label for="input-response-[[$index+1]]" ng-bind-html="option.label">&nbsp;</label></div>
      </div>
      
      <div ng-if="item.responseOptions.type == 'open'"><input name="response" ng-model="response.value" ng-required="responseRequired" type="text" /></div>
      
      <div class="linearTest-error" ng-show="form.response.$error.required &amp;&amp; form.response.$dirty">[[responseRequiredAlert]]</div>
      </div>
      <button name="back" ng-show="canGoBack">Previous</button><button name="next" ng-disabled="!form.$valid">Next</button></form>
      
    groups: ''
    starterContent: true
    hash: 066dffa6a8042f1f70bfbb595d16e0cabee791bf
  -
    class_name: Test
    id: 63
    name: _form
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getTemplateParams = function(templateParams, fields, initialValues) {
        if(!is.list(templateParams)) {
          templateParams = list()
        }
        for(name in .dynamicInputs) {
          templateParams[[name]] = get(name)
        }
        templateParams$fields = fields
        templateParams$initialValues = initialValues
        return(templateParams)
      }
      
      response = concerto5:::concerto.template.show(
        template,
        params=getTemplateParams(templateParams, fields, initialValues)
      )
      
      for(.name in .dynamicReturns) {
        assign(.name, response[[.name]])
      }
      if(".branch" %in% .dynamicReturns) {
        .branch = response$buttonPressed
        if(!(.branch %in% .dynamicBranches)) { .branch = "out" }
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 617
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 63
        parentVariable: null
      -
        class_name: TestVariable
        id: 618
        name: fields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 63
        parentVariable: null
      -
        class_name: TestVariable
        id: 619
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 63
        parentVariable: null
      -
        class_name: TestVariable
        id: 620
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 63
        parentVariable: null
      -
        class_name: TestVariable
        id: 621
        name: template
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 63
        parentVariable: null
      -
        class_name: TestVariable
        id: 623
        name: initialValues
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{}'
        test: 63
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 85fe9d54685e4a28d9558505b70ad9a405c1c5c2
  -
    class_name: TestWizard
    id: 13
    name: form
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 25
        title: Form
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 13
        params:
          -
            class_name: TestWizardParam
            id: 73
            label: Template
            description: 'Layout template to use for form.'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: form
            testVariable: 621
            name: template
            wizardStep: 25
            stepTitle: Form
            order: 0
            wizard: 13
            definition:
              placeholder: 0
              defvalue: form
          -
            class_name: TestWizardParam
            id: 74
            label: Fields
            description: 'List of fields for form.'
            hideCondition: ''
            type: 10
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 618
            name: fields
            wizardStep: 25
            stepTitle: Form
            order: 0
            wizard: 13
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: name
                      label: Name
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: label
                      label: Label
                      definition:
                        placeholder: 0
                    -
                      type: 3
                      name: type
                      label: Type
                      definition:
                        placeholder: 0
                        options:
                          -
                            value: singleLine
                            label: 'Single line text'
                            order: 0
                          -
                            value: multiLine
                            label: 'Multi line text'
                            order: 2
                          -
                            value: checkbox
                            label: Checkbox
                            order: 3
                          -
                            value: password
                            label: Password
                            order: 1
                        defvalue: singleLine
                    -
                      type: 10
                      name: validation
                      label: Validation
                      definition:
                        placeholder: 0
                        element:
                          type: 9
                          definition:
                            placeholder: 0
                            fields:
                              -
                                type: 3
                                name: type
                                label: Type
                                definition:
                                  placeholder: 0
                                  options:
                                    -
                                      value: required
                                      label: Required
                                    -
                                      value: minlength
                                      label: 'Min length'
                                    -
                                      value: maxlength
                                      label: 'Max length'
                                    -
                                      value: min
                                      label: Min
                                    -
                                      value: max
                                      label: Max
                                    -
                                      value: pattern
                                      label: Pattern
                                  defvalue: required
                                hideCondition: ''
                              -
                                type: 0
                                name: value
                                label: Value
                                definition:
                                  placeholder: 0
                                hideCondition: 'parent.type != "minlength" && parent.type != "maxlength" && parent.type != "min" && parent.type != "max" && parent.type != "pattern"'
                              -
                                type: 0
                                name: alert
                                label: Alert
                                definition:
                                  placeholder: 0
                                  defvalue: 'Invalid value!'
    test: 63
    groups: ''
    starterContent: true
    hash: ae9f046fe18e16d49b5dc6f9735fd8de31381451
  -
    class_name: Test
    id: 64
    name: form
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Form page.'
    variables:
      -
        class_name: TestVariable
        id: 624
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 64
        parentVariable: 617
      -
        class_name: TestVariable
        id: 625
        name: fields
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 64
        parentVariable: 618
      -
        class_name: TestVariable
        id: 626
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 64
        parentVariable: 619
      -
        class_name: TestVariable
        id: 627
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 64
        parentVariable: 620
      -
        class_name: TestVariable
        id: 628
        name: template
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: form
        test: 64
        parentVariable: 621
      -
        class_name: TestVariable
        id: 629
        name: initialValues
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 64
        parentVariable: 623
    sourceWizard: 13
    sourceWizardTest: 63
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 9d7d1b5a31a55051cc50d98b1580c2a9b4efdd89
  -
    class_name: ViewTemplate
    id: 20
    name: form
    description: ''
    accessibility: 0
    archived: '0'
    head: ''
    css: ''
    js: |
      testRunner.controllerProvider.register("form", function($scope) {
        $scope.fields = angular.fromJson(testRunner.R.fields);
        $scope.values = angular.fromJson(testRunner.R.initialValues);
        if(typeof $scope.values === 'undefined' || $scope.values === null) $scope.values = {};
      
        $scope.getValidator = function(field, type) {
          for(var i=0; i<field.validation.length; i++) {
            var validation = field.validation[i];
            if(validation.type === type) {
              return validation;
            }
          }
          return null;
        };
      
        function initializeValues() {
          for(var i=0; i<$scope.fields.length; i++) {
            var field = $scope.fields[i];
            
            switch(field.type) {
              case "checkbox": {
                if(typeof $scope.values[field.name] === 'undefined') { $scope.values[field.name] = 0; }
                testRunner.addExtraControl(field.name, function() {
                  return $scope.values[field.name];
                });
                break;
              }
              default: {
                if(typeof $scope.values[field.name] === 'undefined') { $scope.values[field.name] = ""; }
              }
            }
          }
        }
      
        initializeValues();
      });
    html: |
      <form name="form" ng-controller="form">
        <div ng-repeat="field in fields track by $index">
          <div class="form-label">[[field.label]]</div>
      
          <div class="form-field" ng-switch="field.type">
            <div ng-switch-when="singleLine">
              <input name="[[field.name]]" ng-max="getValidator(field, 'max').value" ng-maxlength="getValidator(field, 'maxlength').value" ng-min="getValidator(field, 'min').value" ng-minlength="getValidator(field, 'minlength').value" ng-model="values[field.name]" ng-pattern="getValidator(field, 'pattern').value" ng-required="getValidator(field, 'required')" type="text" />
            </div>
            
            <div ng-switch-when="password">
              <input name="[[field.name]]" ng-max="getValidator(field, 'max').value" ng-maxlength="getValidator(field, 'maxlength').value" ng-min="getValidator(field, 'min').value" ng-minlength="getValidator(field, 'minlength').value" ng-model="values[field.name]" ng-pattern="getValidator(field, 'pattern').value" ng-required="getValidator(field, 'required')" type="password" />
            </div>
      
            <div ng-switch-when="multiLine"><textarea name="[[field.name]]" ng-max="getValidator(field, 'max').value" ng-maxlength="getValidator(field, 'maxlength').value" ng-min="getValidator(field, 'min').value" ng-minlength="getValidator(field, 'minlength').value" ng-model="values[field.name]" ng-pattern="getValidator(field, 'pattern').value" ng-required="getValidator(field, 'required')"></textarea></div>
      
            <div ng-switch-when="checkbox"><input name="[[field.name]]" ng-false-value="'0'" ng-model="values[field.name]" ng-required="getValidator(field, 'required')" ng-true-value="'1'" type="checkbox" /></div>
          </div>
      
          <div class="form-error" ng-repeat="error in field.validation" ng-show="form[field.name].$error[error.type] &amp;&amp; form[field.name].$dirty">[[error.alert]]</div>
        </div>
        <button name="submit" ng-disabled="!form.$valid">submit</button></form>
      
    groups: ''
    starterContent: true
    hash: e061bd6f611594700d47b73539b579d7330e2c06
  -
    class_name: Test
    id: 66
    name: _questionnaireInitialization
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getItems = function(itemBankType, itemBankItems, itemBankTable, order){
        items = NULL
        if(itemBankType == "table") {
          tableMap = fromJSON(itemBankTable)
          table = tableMap$table
          questionColumn = tableMap$columns$question
          orderIndexColumn = tableMap$columns$orderIndex
          traitColumn = tableMap$columns$trait
          reversedScoreColumn = tableMap$columns$reversedScore
          items = concerto.table.query(
            "
      SELECT 
      id, 
      {{questionColumn}} AS question, 
      {{orderIndexColumn}} AS orderIndex,
      {{traitColumn}} AS trait,
      {{reversedScoreColumn}} AS reversedScore
      FROM {{table}} 
      ORDER BY {{orderIndexColumn}}
      ", 
            list(
              questionColumn=questionColumn,
              orderIndexColumn=orderIndexColumn,
              traitColumn=traitColumn,
              reversedScoreColumn=reversedScoreColumn,
              table=table
            ))
        }
        if(itemBankType == "direct") {
          itemBankItems = fromJSON(itemBankItems)
          if(length(itemBankItems) > 0) {
            for(i in 1:length(itemBankItems)) {
              itemBankItems[[i]]$responseOptions = as.character(toJSON(itemBankItems[[i]]$responseOptions)) #response options don't fit into flat table, so turn them back to JSON.
              items = rbind(items, data.frame(itemBankItems[[i]], stringsAsFactors=F))
            }
          }
        } 
      
        if(dim(items)[1] == 0) { stop("Item bank must not be empty!") }
        if(order == "random") {
          items = items[sample(1:dim(items)[1]),]
        }
        return(items)
      }
      
      items = getItems(settings$itemBankType, settings$itemBankItems, settings$itemBankTable, settings$order)
      
      itemsAdministered = NULL
      scores = list()
      traitScores = list()
      
      testTimeStarted = as.numeric(Sys.time())
      testTimeLeft = as.numeric(settings$testTimeLimit) + as.numeric(settings$testTimeLimitOffset)
      concerto.log(settings$testTimeLimit, "testTimeLimit")
      concerto.log(settings$testTimeLimitOffset, "testTimeLimitOffset")
      concerto.log(testTimeLeft, "testTimeLeft")
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 660
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 66
        parentVariable: null
      -
        class_name: TestVariable
        id: 661
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 66
        parentVariable: null
      -
        class_name: TestVariable
        id: 662
        name: items
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 66
        parentVariable: null
      -
        class_name: TestVariable
        id: 663
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 66
        parentVariable: null
      -
        class_name: TestVariable
        id: 664
        name: testTimeStarted
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 66
        parentVariable: null
      -
        class_name: TestVariable
        id: 665
        name: testTimeLeft
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 66
        parentVariable: null
      -
        class_name: TestVariable
        id: 666
        name: traitScores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 66
        parentVariable: null
      -
        class_name: TestVariable
        id: 705
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 66
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: b9dcc7c1691c4629dbad5069edb9304628bf18b8
  -
    class_name: Test
    id: 68
    name: _questionnaireShowItem
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getData = function(itemsSafe, responsesSafe, canGoBack, templateParams, responseRequired, responseRequiredAlert, page, totalPages, responseOptions) {
        templateParams$items = itemsSafe
        templateParams$canGoBack = canGoBack
        templateParams$responses = responsesSafe
        templateParams$responseRequired = responseRequired
        templateParams$responseRequiredAlert = responseRequiredAlert
        templateParams$page = page
        templateParams$totalPages = totalPages
        templateParams$responseOptions = responseOptions
      
        return(templateParams)
      }
      
      getTimeLimit = function(testTimeStarted, testTimeLimit, itemTimeLimit) {
        limit = 0
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = 0
        if(testTimeLimit > 0) {
          testTimeLeft = max(testTimeLimit - startedAgo, 1)
          limit = testTimeLeft
        }
        if(itemTimeLimit > 0) {
          if(limit > 0) {
            limit = min(limit, itemTimeLimit)
          } else {
            limit = itemTimeLimit
          }
        }
        return(limit)
      }
      
      canGoBack = if(settings$canGoBack == "1" && itemIndex > 1) { 1 } else { 0 }
      totalPages = ceiling(dim(items)[1] / as.numeric(settings$itemsPerPage))
      response = concerto.template.show(
        settings$itemTemplate, 
        params=getData(
          itemsSafe, 
          responsesSafe, 
          canGoBack, 
          templateParams, 
          settings$responseRequired, 
          settings$responseRequiredAlert, 
          page, 
          totalPages, 
          fromJSON(settings$responseOptions)
        ), 
        timeLimit=getTimeLimit(
          testTimeStarted, 
          as.numeric(settings$testTimeLimit), 
          as.numeric(settings$itemTimeLimit)
        )
      )
      
      .branch = "submitted"
      if(response$isTimeout == 1) { .branch = "outOfTime" }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 679
        name: outOfTime
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 680
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 681
        name: currentItemsIndices
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 682
        name: itemsSafe
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 683
        name: responsesSafe
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 684
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 685
        name: templateParams
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 686
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 687
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 688
        name: response
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 689
        name: page
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 690
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
      -
        class_name: TestVariable
        id: 691
        name: submitted
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 68
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 63dc98a14403977fa05a222d7a10292b42276e18
  -
    class_name: Test
    id: 65
    name: _questionnaire
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 2
    code: null
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 638
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 639
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 640
        name: order
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 641
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 642
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 643
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 644
        name: itemsPerPage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 645
        name: canGoBack
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 646
        name: responseOptions
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 647
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 648
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 649
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 650
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 651
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 652
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 653
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 654
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 655
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 656
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 657
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 658
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 659
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
      -
        class_name: TestVariable
        id: 708
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 65
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes:
      -
        class_name: TestNode
        id: 96
        title: ''
        type: 1
        posX: 15002
        posY: 15010
        flowTest: 65
        sourceTest: 65
        sourceTestName: _questionnaire
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 937
            value: null
            node: 96
            variable: 639
            variableObject:
              class_name: TestVariable
              id: 639
              name: itemTemplate
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTemplate
            pointer: '0'
            pointerVariable: itemTemplate
          -
            class_name: TestNodePort
            id: 938
            value: null
            node: 96
            variable: 640
            variableObject:
              class_name: TestVariable
              id: 640
              name: order
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: order
            pointer: '0'
            pointerVariable: order
          -
            class_name: TestNodePort
            id: 939
            value: null
            node: 96
            variable: 641
            variableObject:
              class_name: TestVariable
              id: 641
              name: itemBankItems
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankItems
            pointer: '0'
            pointerVariable: itemBankItems
          -
            class_name: TestNodePort
            id: 940
            value: null
            node: 96
            variable: 642
            variableObject:
              class_name: TestVariable
              id: 642
              name: itemBankTable
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankTable
            pointer: '0'
            pointerVariable: itemBankTable
          -
            class_name: TestNodePort
            id: 941
            value: null
            node: 96
            variable: 643
            variableObject:
              class_name: TestVariable
              id: 643
              name: itemBankType
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemBankType
            pointer: '0'
            pointerVariable: itemBankType
          -
            class_name: TestNodePort
            id: 942
            value: null
            node: 96
            variable: 644
            variableObject:
              class_name: TestVariable
              id: 644
              name: itemsPerPage
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemsPerPage
            pointer: '0'
            pointerVariable: itemsPerPage
          -
            class_name: TestNodePort
            id: 943
            value: null
            node: 96
            variable: 645
            variableObject:
              class_name: TestVariable
              id: 645
              name: canGoBack
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: canGoBack
            pointer: '0'
            pointerVariable: canGoBack
          -
            class_name: TestNodePort
            id: 944
            value: null
            node: 96
            variable: 646
            variableObject:
              class_name: TestVariable
              id: 646
              name: responseOptions
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseOptions
            pointer: '0'
            pointerVariable: responseOptions
          -
            class_name: TestNodePort
            id: 945
            value: null
            node: 96
            variable: 647
            variableObject:
              class_name: TestVariable
              id: 647
              name: responseRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 946
            value: null
            node: 96
            variable: 648
            variableObject:
              class_name: TestVariable
              id: 648
              name: responseRequiredAlert
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseRequiredAlert
            pointer: '0'
            pointerVariable: responseRequiredAlert
          -
            class_name: TestNodePort
            id: 947
            value: null
            node: 96
            variable: 649
            variableObject:
              class_name: TestVariable
              id: 649
              name: responseBank
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseBank
            pointer: '0'
            pointerVariable: responseBank
          -
            class_name: TestNodePort
            id: 948
            value: null
            node: 96
            variable: 650
            variableObject:
              class_name: TestVariable
              id: 650
              name: testTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: testTimeLimit
          -
            class_name: TestNodePort
            id: 949
            value: '0'
            node: 96
            variable: 651
            variableObject:
              class_name: TestVariable
              id: 651
              name: testTimeLimitOffset
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: testTimeLimitOffset
          -
            class_name: TestNodePort
            id: 950
            value: null
            node: 96
            variable: 652
            variableObject:
              class_name: TestVariable
              id: 652
              name: itemTimeLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: itemTimeLimit
          -
            class_name: TestNodePort
            id: 951
            value: null
            node: 96
            variable: 653
            variableObject:
              class_name: TestVariable
              id: 653
              name: nextItemSelectorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: nextItemSelectorModule
            pointer: '0'
            pointerVariable: nextItemSelectorModule
          -
            class_name: TestNodePort
            id: 952
            value: null
            node: 96
            variable: 654
            variableObject:
              class_name: TestVariable
              id: 654
              name: scoringModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: scoringModule
            pointer: '0'
            pointerVariable: scoringModule
          -
            class_name: TestNodePort
            id: 953
            value: null
            node: 96
            variable: 655
            variableObject:
              class_name: TestVariable
              id: 655
              name: session
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 954
            value: null
            node: 96
            variable: 656
            variableObject:
              class_name: TestVariable
              id: 656
              name: responseProcessorModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: responseProcessorModule
            pointer: '0'
            pointerVariable: responseProcessorModule
          -
            class_name: TestNodePort
            id: 955
            value: null
            node: 96
            variable: 657
            variableObject:
              class_name: TestVariable
              id: 657
              name: itemNumLimit
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: itemNumLimit
          -
            class_name: TestNodePort
            id: 956
            value: null
            node: 96
            variable: 658
            variableObject:
              class_name: TestVariable
              id: 658
              name: itemTimeFullRequired
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: itemTimeFullRequired
          -
            class_name: TestNodePort
            id: 957
            value: null
            node: 96
            variable: 659
            variableObject:
              class_name: TestVariable
              id: 659
              name: statusCheckModule
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: statusCheckModule
            pointer: '0'
            pointerVariable: statusCheckModule
      -
        class_name: TestNode
        id: 97
        title: ''
        type: 2
        posX: 17337
        posY: 15782
        flowTest: 65
        sourceTest: 65
        sourceTestName: _questionnaire
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 1033
            value: null
            node: 97
            variable: 708
            variableObject:
              class_name: TestVariable
              id: 708
              name: scores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 65
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: scores
            pointer: '1'
            pointerVariable: traitScores
      -
        class_name: TestNode
        id: 98
        title: 'create settings'
        type: 0
        posX: 15354
        posY: 15018
        flowTest: 65
        sourceTest: 62
        sourceTestName: createList
        sourceTestDescription: 'List creation. Dynamic inputs will be used as list elements (input name as list key, input value as list value).'
        ports:
          -
            class_name: TestNodePort
            id: 958
            value: null
            node: 98
            variable: 596
            variableObject:
              class_name: TestVariable
              id: 596
              name: sourceList
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: sourceList
            pointer: '0'
            pointerVariable: sourceList
          -
            class_name: TestNodePort
            id: 959
            value: null
            node: 98
            variable: 597
            variableObject:
              class_name: TestVariable
              id: 597
              name: result
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: result
            pointer: '0'
            pointerVariable: result
          -
            class_name: TestNodePort
            id: 960
            value: '0'
            node: 98
            variable: 595
            variableObject:
              class_name: TestVariable
              id: 595
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 62
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 961
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: canGoBack
            pointer: '0'
            pointerVariable: canGoBack
          -
            class_name: TestNodePort
            id: 962
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankItems
            pointer: '0'
            pointerVariable: itemBankItems
          -
            class_name: TestNodePort
            id: 963
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankTable
            pointer: '0'
            pointerVariable: itemBankTable
          -
            class_name: TestNodePort
            id: 964
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemBankType
            pointer: '0'
            pointerVariable: itemBankType
          -
            class_name: TestNodePort
            id: 965
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemNumLimit
            pointer: '0'
            pointerVariable: itemNumLimit
          -
            class_name: TestNodePort
            id: 966
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsPerPage
            pointer: '0'
            pointerVariable: itemsPerPage
          -
            class_name: TestNodePort
            id: 967
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTemplate
            pointer: '0'
            pointerVariable: itemTemplate
          -
            class_name: TestNodePort
            id: 968
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeFullRequired
            pointer: '0'
            pointerVariable: itemTimeFullRequired
          -
            class_name: TestNodePort
            id: 969
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemTimeLimit
            pointer: '0'
            pointerVariable: itemTimeLimit
          -
            class_name: TestNodePort
            id: 970
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: order
            pointer: '0'
            pointerVariable: order
          -
            class_name: TestNodePort
            id: 971
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseBank
            pointer: '0'
            pointerVariable: responseBank
          -
            class_name: TestNodePort
            id: 972
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseOptions
            pointer: '0'
            pointerVariable: responseOptions
          -
            class_name: TestNodePort
            id: 973
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequired
            pointer: '0'
            pointerVariable: responseRequired
          -
            class_name: TestNodePort
            id: 974
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: responseRequiredAlert
            pointer: '0'
            pointerVariable: responseRequiredAlert
          -
            class_name: TestNodePort
            id: 975
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimit
            pointer: '0'
            pointerVariable: testTimeLimit
          -
            class_name: TestNodePort
            id: 976
            value: ''
            node: 98
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLimitOffset
            pointer: '0'
            pointerVariable: testTimeLimitOffset
      -
        class_name: TestNode
        id: 99
        title: 'set settings'
        type: 0
        posX: 15704
        posY: 15018
        flowTest: 65
        sourceTest: 11
        sourceTestName: set
        sourceTestDescription: 'Promote variables. Use dynamic inputs to declare which variables you want to promote.'
        ports:
          -
            class_name: TestNodePort
            id: 977
            value: '0'
            node: 99
            variable: 63
            variableObject:
              class_name: TestVariable
              id: 63
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 11
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 978
            value: ''
            node: 99
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '0'
            pointerVariable: settings
      -
        class_name: TestNode
        id: 100
        title: ''
        type: 0
        posX: 15908
        posY: 15220
        flowTest: 65
        sourceTest: 66
        sourceTestName: _questionnaireInitialization
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 979
            value: null
            node: 100
            variable: 661
            variableObject:
              class_name: TestVariable
              id: 661
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 66
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 980
            value: null
            node: 100
            variable: 662
            variableObject:
              class_name: TestVariable
              id: 662
              name: items
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 66
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 981
            value: null
            node: 100
            variable: 663
            variableObject:
              class_name: TestVariable
              id: 663
              name: itemsAdministered
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 66
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 982
            value: null
            node: 100
            variable: 664
            variableObject:
              class_name: TestVariable
              id: 664
              name: testTimeStarted
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 66
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 983
            value: null
            node: 100
            variable: 665
            variableObject:
              class_name: TestVariable
              id: 665
              name: testTimeLeft
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 66
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 984
            value: null
            node: 100
            variable: 666
            variableObject:
              class_name: TestVariable
              id: 666
              name: traitScores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 66
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: traitScores
            pointer: '1'
            pointerVariable: traitScores
          -
            class_name: TestNodePort
            id: 985
            value: '0'
            node: 100
            variable: 660
            variableObject:
              class_name: TestVariable
              id: 660
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 66
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 1018
            value: null
            node: 100
            variable: 705
            variableObject:
              class_name: TestVariable
              id: 705
              name: scores
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 66
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
      -
        class_name: TestNode
        id: 102
        title: 'next item selector module'
        type: 0
        posX: 16291
        posY: 15214
        flowTest: 65
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 989
            value: null
            node: 102
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: test
          -
            class_name: TestNodePort
            id: 990
            value: null
            node: 102
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: params
          -
            class_name: TestNodePort
            id: 991
            value: null
            node: 102
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: results
          -
            class_name: TestNodePort
            id: 992
            value: '0'
            node: 102
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 993
            value: '1'
            node: 102
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 994
            value: ''
            node: 102
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 995
            value: 'NULL'
            node: 102
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 996
            value: '0'
            node: 102
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: prevPage
            pointer: '1'
            pointerVariable: page
          -
            class_name: TestNodePort
            id: 997
            value: ''
            node: 102
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 998
            value: ''
            node: 102
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 999
            value: ''
            node: 102
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItems
            pointer: '1'
            pointerVariable: currentItems
          -
            class_name: TestNodePort
            id: 1000
            value: ''
            node: 102
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemsIndices
            pointer: '1'
            pointerVariable: currentItemsIndices
          -
            class_name: TestNodePort
            id: 1001
            value: ''
            node: 102
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextPage
            pointer: '1'
            pointerVariable: page
          -
            class_name: TestNodePort
            id: 1002
            value: ''
            node: 102
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: pastResponsesSafe
            pointer: '0'
            pointerVariable: pastResponses
          -
            class_name: TestNodePort
            id: 1003
            value: ''
            node: 102
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: nextItemsSafe
            pointer: '0'
            pointerVariable: itemsSafe
      -
        class_name: TestNode
        id: 103
        title: ''
        type: 0
        posX: 16662
        posY: 15221
        flowTest: 65
        sourceTest: 68
        sourceTestName: _questionnaireShowItem
        sourceTestDescription: ''
        ports:
          -
            class_name: TestNodePort
            id: 1004
            value: null
            node: 103
            variable: 680
            variableObject:
              class_name: TestVariable
              id: 680
              name: items
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 1005
            value: null
            node: 103
            variable: 681
            variableObject:
              class_name: TestVariable
              id: 681
              name: currentItemsIndices
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: currentItemsIndices
            pointer: '1'
            pointerVariable: currentItemsIndices
          -
            class_name: TestNodePort
            id: 1006
            value: null
            node: 103
            variable: 682
            variableObject:
              class_name: TestVariable
              id: 682
              name: itemsSafe
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: itemsSafe
            pointer: '0'
            pointerVariable: itemsSafe
          -
            class_name: TestNodePort
            id: 1007
            value: null
            node: 103
            variable: 683
            variableObject:
              class_name: TestVariable
              id: 683
              name: responsesSafe
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: responsesSafe
            pointer: '0'
            pointerVariable: responsesSafe
          -
            class_name: TestNodePort
            id: 1008
            value: null
            node: 103
            variable: 684
            variableObject:
              class_name: TestVariable
              id: 684
              name: settings
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 1009
            value: c.getDynamicInputs()
            node: 103
            variable: 685
            variableObject:
              class_name: TestVariable
              id: 685
              name: templateParams
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '0'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: templateParams
            pointer: '0'
            pointerVariable: templateParams
          -
            class_name: TestNodePort
            id: 1010
            value: null
            node: 103
            variable: 686
            variableObject:
              class_name: TestVariable
              id: 686
              name: testTimeLeft
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 1011
            value: null
            node: 103
            variable: 687
            variableObject:
              class_name: TestVariable
              id: 687
              name: testTimeStarted
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 1012
            value: null
            node: 103
            variable: 689
            variableObject:
              class_name: TestVariable
              id: 689
              name: page
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: page
            pointer: '1'
            pointerVariable: page
          -
            class_name: TestNodePort
            id: 1013
            value: null
            node: 103
            variable: 688
            variableObject:
              class_name: TestVariable
              id: 688
              name: response
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '0'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 1014
            value: '0'
            node: 103
            variable: 679
            variableObject:
              class_name: TestVariable
              id: 679
              name: outOfTime
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: outOfTime
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 1015
            value: null
            node: 103
            variable: 690
            variableObject:
              class_name: TestVariable
              id: 690
              name: .branch
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: .branch
          -
            class_name: TestNodePort
            id: 1016
            value: null
            node: 103
            variable: 691
            variableObject:
              class_name: TestVariable
              id: 691
              name: submitted
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 68
              parentVariable: null
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: submitted
            pointer: '0'
            pointerVariable: submitted
      -
        class_name: TestNode
        id: 104
        title: 'scoring module'
        type: 0
        posX: 17058
        posY: 15229
        flowTest: 65
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 1019
            value: null
            node: 104
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: test
          -
            class_name: TestNodePort
            id: 1020
            value: null
            node: 104
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: params
          -
            class_name: TestNodePort
            id: 1021
            value: null
            node: 104
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: results
          -
            class_name: TestNodePort
            id: 1022
            value: '0'
            node: 104
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 1023
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 1024
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 1025
            value: 'NULL'
            node: 104
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 1026
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 1027
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: currentItemsIndices
            pointer: '1'
            pointerVariable: currentItemsIndices
          -
            class_name: TestNodePort
            id: 1028
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 1029
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: currentItems
            pointer: '1'
            pointerVariable: currentItems
          -
            class_name: TestNodePort
            id: 1030
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: traitScores
            pointer: '1'
            pointerVariable: traitScores
          -
            class_name: TestNodePort
            id: 1031
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 1032
            value: ''
            node: 104
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: traitScores
            pointer: '1'
            pointerVariable: traitScores
      -
        class_name: TestNode
        id: 105
        title: 'response processing module'
        type: 0
        posX: 17422
        posY: 15230
        flowTest: 65
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 1034
            value: null
            node: 105
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: test
          -
            class_name: TestNodePort
            id: 1035
            value: null
            node: 105
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: params
          -
            class_name: TestNodePort
            id: 1036
            value: null
            node: 105
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: results
          -
            class_name: TestNodePort
            id: 1037
            value: '0'
            node: 105
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '1'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 1038
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: response
            pointer: '1'
            pointerVariable: response
          -
            class_name: TestNodePort
            id: 1039
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: session
            pointer: '1'
            pointerVariable: session
          -
            class_name: TestNodePort
            id: 1040
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: currentItems
            pointer: '1'
            pointerVariable: currentItems
          -
            class_name: TestNodePort
            id: 1041
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: currentItemsIndices
            pointer: '1'
            pointerVariable: currentItemsIndices
          -
            class_name: TestNodePort
            id: 1042
            value: 'NULL'
            node: 105
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 1043
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: page
            pointer: '1'
            pointerVariable: page
          -
            class_name: TestNodePort
            id: 1044
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: scores
            pointer: '1'
            pointerVariable: scores
          -
            class_name: TestNodePort
            id: 1045
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 1046
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 1047
            value: ''
            node: 105
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
      -
        class_name: TestNode
        id: 106
        title: 'status check module'
        type: 0
        posX: 16951
        posY: 15719
        flowTest: 65
        sourceTest: 15
        sourceTestName: runTest
        sourceTestDescription: 'Run other test.'
        ports:
          -
            class_name: TestNodePort
            id: 1048
            value: null
            node: 106
            variable: 71
            variableObject:
              class_name: TestVariable
              id: 71
              name: test
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 67
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '1'
            name: test
            pointer: '0'
            pointerVariable: test
          -
            class_name: TestNodePort
            id: 1049
            value: null
            node: 106
            variable: 72
            variableObject:
              class_name: TestVariable
              id: 72
              name: params
              type: 0
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 68
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 0
            exposed: '0'
            name: params
            pointer: '0'
            pointerVariable: params
          -
            class_name: TestNodePort
            id: 1050
            value: null
            node: 106
            variable: 73
            variableObject:
              class_name: TestVariable
              id: 73
              name: results
              type: 1
              description: ''
              passableThroughUrl: '0'
              value: null
              test: 15
              parentVariable: 69
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 1
            exposed: '0'
            name: results
            pointer: '0'
            pointerVariable: results
          -
            class_name: TestNodePort
            id: 1051
            value: '0'
            node: 106
            variable: 70
            variableObject:
              class_name: TestVariable
              id: 70
              name: out
              type: 2
              description: ''
              passableThroughUrl: '0'
              value: '0'
              test: 15
              parentVariable: 66
            string: '1'
            defaultValue: '1'
            dynamic: '0'
            type: 2
            exposed: '0'
            name: out
            pointer: '0'
            pointerVariable: out
          -
            class_name: TestNodePort
            id: 1052
            value: ''
            node: 106
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: continue
            pointer: '0'
            pointerVariable: continue
          -
            class_name: TestNodePort
            id: 1053
            value: ''
            node: 106
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 2
            exposed: '1'
            name: stop
            pointer: '0'
            pointerVariable: stop
          -
            class_name: TestNodePort
            id: 1054
            value: ''
            node: 106
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeLeft
            pointer: '1'
            pointerVariable: testTimeLeft
          -
            class_name: TestNodePort
            id: 1055
            value: ''
            node: 106
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: testTimeStarted
            pointer: '1'
            pointerVariable: testTimeStarted
          -
            class_name: TestNodePort
            id: 1056
            value: 'NULL'
            node: 106
            variable: null
            variableObject: null
            string: '0'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: itemsAdministered
            pointer: '1'
            pointerVariable: itemsAdministered
          -
            class_name: TestNodePort
            id: 1057
            value: ''
            node: 106
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: direction
            pointer: '1'
            pointerVariable: direction
          -
            class_name: TestNodePort
            id: 1058
            value: ''
            node: 106
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: items
            pointer: '1'
            pointerVariable: items
          -
            class_name: TestNodePort
            id: 1059
            value: ''
            node: 106
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '0'
            dynamic: '1'
            type: 0
            exposed: '1'
            name: settings
            pointer: '1'
            pointerVariable: settings
          -
            class_name: TestNodePort
            id: 1156
            value: ''
            node: 106
            variable: null
            variableObject: null
            string: '1'
            defaultValue: '1'
            dynamic: '1'
            type: 1
            exposed: '1'
            name: .branch
            pointer: '0'
            pointerVariable: .branch
    nodesConnections:
      -
        class_name: TestNodeConnection
        id: 347
        flowTest: 65
        sourceNode: 96
        sourcePort: null
        sourcePortObject: null
        destinationNode: 98
        destinationPort: null
        destinationPortObject: null
        returnFunction: ''
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 348
        flowTest: 65
        sourceNode: 96
        sourcePort: 943
        sourcePortObject:
          class_name: TestNodePort
          id: 943
          value: null
          node: 96
          variable: 645
          variableObject:
            class_name: TestVariable
            id: 645
            name: canGoBack
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: canGoBack
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 349
        flowTest: 65
        sourceNode: 96
        sourcePort: 939
        sourcePortObject:
          class_name: TestNodePort
          id: 939
          value: null
          node: 96
          variable: 641
          variableObject:
            class_name: TestVariable
            id: 641
            name: itemBankItems
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankItems
          pointer: '0'
          pointerVariable: itemBankItems
        destinationNode: 98
        destinationPort: 962
        destinationPortObject:
          class_name: TestNodePort
          id: 962
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankItems
          pointer: '0'
          pointerVariable: itemBankItems
        returnFunction: itemBankItems
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 350
        flowTest: 65
        sourceNode: 96
        sourcePort: 940
        sourcePortObject:
          class_name: TestNodePort
          id: 940
          value: null
          node: 96
          variable: 642
          variableObject:
            class_name: TestVariable
            id: 642
            name: itemBankTable
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankTable
          pointer: '0'
          pointerVariable: itemBankTable
        destinationNode: 98
        destinationPort: 963
        destinationPortObject:
          class_name: TestNodePort
          id: 963
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankTable
          pointer: '0'
          pointerVariable: itemBankTable
        returnFunction: itemBankTable
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 351
        flowTest: 65
        sourceNode: 96
        sourcePort: 941
        sourcePortObject:
          class_name: TestNodePort
          id: 941
          value: null
          node: 96
          variable: 643
          variableObject:
            class_name: TestVariable
            id: 643
            name: itemBankType
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankType
          pointer: '0'
          pointerVariable: itemBankType
        destinationNode: 98
        destinationPort: 964
        destinationPortObject:
          class_name: TestNodePort
          id: 964
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemBankType
          pointer: '0'
          pointerVariable: itemBankType
        returnFunction: itemBankType
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 352
        flowTest: 65
        sourceNode: 96
        sourcePort: 955
        sourcePortObject:
          class_name: TestNodePort
          id: 955
          value: null
          node: 96
          variable: 657
          variableObject:
            class_name: TestVariable
            id: 657
            name: itemNumLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: itemNumLimit
        destinationNode: 98
        destinationPort: 965
        destinationPortObject:
          class_name: TestNodePort
          id: 965
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: itemNumLimit
        returnFunction: itemNumLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 353
        flowTest: 65
        sourceNode: 96
        sourcePort: 942
        sourcePortObject:
          class_name: TestNodePort
          id: 942
          value: null
          node: 96
          variable: 644
          variableObject:
            class_name: TestVariable
            id: 644
            name: itemsPerPage
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemsPerPage
          pointer: '0'
          pointerVariable: itemsPerPage
        destinationNode: 98
        destinationPort: 966
        destinationPortObject:
          class_name: TestNodePort
          id: 966
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemsPerPage
          pointer: '0'
          pointerVariable: itemsPerPage
        returnFunction: itemsPerPage
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 354
        flowTest: 65
        sourceNode: 96
        sourcePort: 937
        sourcePortObject:
          class_name: TestNodePort
          id: 937
          value: null
          node: 96
          variable: 639
          variableObject:
            class_name: TestVariable
            id: 639
            name: itemTemplate
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTemplate
          pointer: '0'
          pointerVariable: itemTemplate
        destinationNode: 98
        destinationPort: 967
        destinationPortObject:
          class_name: TestNodePort
          id: 967
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTemplate
          pointer: '0'
          pointerVariable: itemTemplate
        returnFunction: itemTemplate
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 355
        flowTest: 65
        sourceNode: 96
        sourcePort: 956
        sourcePortObject:
          class_name: TestNodePort
          id: 956
          value: null
          node: 96
          variable: 658
          variableObject:
            class_name: TestVariable
            id: 658
            name: itemTimeFullRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: itemTimeFullRequired
        destinationNode: 98
        destinationPort: 968
        destinationPortObject:
          class_name: TestNodePort
          id: 968
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: itemTimeFullRequired
        returnFunction: itemTimeFullRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 356
        flowTest: 65
        sourceNode: 96
        sourcePort: 950
        sourcePortObject:
          class_name: TestNodePort
          id: 950
          value: null
          node: 96
          variable: 652
          variableObject:
            class_name: TestVariable
            id: 652
            name: itemTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: itemTimeLimit
        destinationNode: 98
        destinationPort: 969
        destinationPortObject:
          class_name: TestNodePort
          id: 969
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: itemTimeLimit
        returnFunction: itemTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 357
        flowTest: 65
        sourceNode: 96
        sourcePort: 938
        sourcePortObject:
          class_name: TestNodePort
          id: 938
          value: null
          node: 96
          variable: 640
          variableObject:
            class_name: TestVariable
            id: 640
            name: order
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: order
          pointer: '0'
          pointerVariable: order
        destinationNode: 98
        destinationPort: 970
        destinationPortObject:
          class_name: TestNodePort
          id: 970
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: order
          pointer: '0'
          pointerVariable: order
        returnFunction: order
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 358
        flowTest: 65
        sourceNode: 96
        sourcePort: 947
        sourcePortObject:
          class_name: TestNodePort
          id: 947
          value: null
          node: 96
          variable: 649
          variableObject:
            class_name: TestVariable
            id: 649
            name: responseBank
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseBank
          pointer: '0'
          pointerVariable: responseBank
        destinationNode: 98
        destinationPort: 971
        destinationPortObject:
          class_name: TestNodePort
          id: 971
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseBank
          pointer: '0'
          pointerVariable: responseBank
        returnFunction: responseBank
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 359
        flowTest: 65
        sourceNode: 96
        sourcePort: 944
        sourcePortObject:
          class_name: TestNodePort
          id: 944
          value: null
          node: 96
          variable: 646
          variableObject:
            class_name: TestVariable
            id: 646
            name: responseOptions
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseOptions
          pointer: '0'
          pointerVariable: responseOptions
        destinationNode: 98
        destinationPort: 972
        destinationPortObject:
          class_name: TestNodePort
          id: 972
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseOptions
          pointer: '0'
          pointerVariable: responseOptions
        returnFunction: responseOptions
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 360
        flowTest: 65
        sourceNode: 96
        sourcePort: 945
        sourcePortObject:
          class_name: TestNodePort
          id: 945
          value: null
          node: 96
          variable: 647
          variableObject:
            class_name: TestVariable
            id: 647
            name: responseRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        destinationNode: 98
        destinationPort: 973
        destinationPortObject:
          class_name: TestNodePort
          id: 973
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        returnFunction: responseRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 361
        flowTest: 65
        sourceNode: 96
        sourcePort: 946
        sourcePortObject:
          class_name: TestNodePort
          id: 946
          value: null
          node: 96
          variable: 648
          variableObject:
            class_name: TestVariable
            id: 648
            name: responseRequiredAlert
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        destinationNode: 98
        destinationPort: 974
        destinationPortObject:
          class_name: TestNodePort
          id: 974
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        returnFunction: responseRequiredAlert
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 362
        flowTest: 65
        sourceNode: 96
        sourcePort: 948
        sourcePortObject:
          class_name: TestNodePort
          id: 948
          value: null
          node: 96
          variable: 650
          variableObject:
            class_name: TestVariable
            id: 650
            name: testTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: testTimeLimit
        destinationNode: 98
        destinationPort: 975
        destinationPortObject:
          class_name: TestNodePort
          id: 975
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: testTimeLimit
        returnFunction: testTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 363
        flowTest: 65
        sourceNode: 96
        sourcePort: 949
        sourcePortObject:
          class_name: TestNodePort
          id: 949
          value: '0'
          node: 96
          variable: 651
          variableObject:
            class_name: TestVariable
            id: 651
            name: testTimeLimitOffset
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: testTimeLimitOffset
        destinationNode: 98
        destinationPort: 976
        destinationPortObject:
          class_name: TestNodePort
          id: 976
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: testTimeLimitOffset
        returnFunction: testTimeLimitOffset
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 364
        flowTest: 65
        sourceNode: 98
        sourcePort: 959
        sourcePortObject:
          class_name: TestNodePort
          id: 959
          value: null
          node: 98
          variable: 597
          variableObject:
            class_name: TestVariable
            id: 597
            name: result
            type: 1
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 62
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '1'
          name: result
          pointer: '0'
          pointerVariable: result
        destinationNode: 99
        destinationPort: 978
        destinationPortObject:
          class_name: TestNodePort
          id: 978
          value: ''
          node: 99
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: settings
          pointer: '0'
          pointerVariable: settings
        returnFunction: result
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 365
        flowTest: 65
        sourceNode: 98
        sourcePort: 960
        sourcePortObject:
          class_name: TestNodePort
          id: 960
          value: '0'
          node: 98
          variable: 595
          variableObject:
            class_name: TestVariable
            id: 595
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 62
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 99
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 366
        flowTest: 65
        sourceNode: 99
        sourcePort: 977
        sourcePortObject:
          class_name: TestNodePort
          id: 977
          value: '0'
          node: 99
          variable: 63
          variableObject:
            class_name: TestVariable
            id: 63
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 11
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 100
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 367
        flowTest: 65
        sourceNode: 100
        sourcePort: 985
        sourcePortObject:
          class_name: TestNodePort
          id: 985
          value: '0'
          node: 100
          variable: 660
          variableObject:
            class_name: TestVariable
            id: 660
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 66
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 102
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 368
        flowTest: 65
        sourceNode: 96
        sourcePort: 951
        sourcePortObject:
          class_name: TestNodePort
          id: 951
          value: null
          node: 96
          variable: 653
          variableObject:
            class_name: TestVariable
            id: 653
            name: nextItemSelectorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: nextItemSelectorModule
          pointer: '0'
          pointerVariable: nextItemSelectorModule
        destinationNode: 102
        destinationPort: 989
        destinationPortObject:
          class_name: TestNodePort
          id: 989
          value: null
          node: 102
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: test
        returnFunction: nextItemSelectorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 369
        flowTest: 65
        sourceNode: 102
        sourcePort: 992
        sourcePortObject:
          class_name: TestNodePort
          id: 992
          value: '0'
          node: 102
          variable: 70
          variableObject:
            class_name: TestVariable
            id: 70
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 15
            parentVariable: 66
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 103
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 370
        flowTest: 65
        sourceNode: 102
        sourcePort: 1003
        sourcePortObject:
          class_name: TestNodePort
          id: 1003
          value: ''
          node: 102
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: nextItemsSafe
          pointer: '0'
          pointerVariable: itemsSafe
        destinationNode: 103
        destinationPort: 1006
        destinationPortObject:
          class_name: TestNodePort
          id: 1006
          value: null
          node: 103
          variable: 682
          variableObject:
            class_name: TestVariable
            id: 682
            name: itemsSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 68
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: itemsSafe
          pointer: '0'
          pointerVariable: itemsSafe
        returnFunction: nextItemsSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 371
        flowTest: 65
        sourceNode: 102
        sourcePort: 1002
        sourcePortObject:
          class_name: TestNodePort
          id: 1002
          value: ''
          node: 102
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: pastResponsesSafe
          pointer: '0'
          pointerVariable: pastResponses
        destinationNode: 103
        destinationPort: 1007
        destinationPortObject:
          class_name: TestNodePort
          id: 1007
          value: null
          node: 103
          variable: 683
          variableObject:
            class_name: TestVariable
            id: 683
            name: responsesSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 68
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: responsesSafe
          pointer: '0'
          pointerVariable: responsesSafe
        returnFunction: pastResponsesSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 372
        flowTest: 65
        sourceNode: 103
        sourcePort: 1014
        sourcePortObject:
          class_name: TestNodePort
          id: 1014
          value: '0'
          node: 103
          variable: 679
          variableObject:
            class_name: TestVariable
            id: 679
            name: outOfTime
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 68
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: outOfTime
          pointer: '0'
          pointerVariable: out
        destinationNode: 104
        destinationPort: null
        destinationPortObject: null
        returnFunction: outOfTime
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 373
        flowTest: 65
        sourceNode: 103
        sourcePort: 1016
        sourcePortObject:
          class_name: TestNodePort
          id: 1016
          value: null
          node: 103
          variable: 691
          variableObject:
            class_name: TestVariable
            id: 691
            name: submitted
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 68
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: submitted
          pointer: '0'
          pointerVariable: submitted
        destinationNode: 104
        destinationPort: null
        destinationPortObject: null
        returnFunction: submitted
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 374
        flowTest: 65
        sourceNode: 104
        sourcePort: 1022
        sourcePortObject:
          class_name: TestNodePort
          id: 1022
          value: '0'
          node: 104
          variable: 70
          variableObject:
            class_name: TestVariable
            id: 70
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 15
            parentVariable: 66
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 105
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 375
        flowTest: 65
        sourceNode: 96
        sourcePort: 952
        sourcePortObject:
          class_name: TestNodePort
          id: 952
          value: null
          node: 96
          variable: 654
          variableObject:
            class_name: TestVariable
            id: 654
            name: scoringModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: scoringModule
          pointer: '0'
          pointerVariable: scoringModule
        destinationNode: 104
        destinationPort: 1019
        destinationPortObject:
          class_name: TestNodePort
          id: 1019
          value: null
          node: 104
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: test
        returnFunction: scoringModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 376
        flowTest: 65
        sourceNode: 96
        sourcePort: 954
        sourcePortObject:
          class_name: TestNodePort
          id: 954
          value: null
          node: 96
          variable: 656
          variableObject:
            class_name: TestVariable
            id: 656
            name: responseProcessorModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseProcessorModule
          pointer: '0'
          pointerVariable: responseProcessorModule
        destinationNode: 105
        destinationPort: 1034
        destinationPortObject:
          class_name: TestNodePort
          id: 1034
          value: null
          node: 105
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: test
        returnFunction: responseProcessorModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 377
        flowTest: 65
        sourceNode: 106
        sourcePort: 1053
        sourcePortObject:
          class_name: TestNodePort
          id: 1053
          value: ''
          node: 106
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: stop
          pointer: '0'
          pointerVariable: stop
        destinationNode: 97
        destinationPort: null
        destinationPortObject: null
        returnFunction: stop
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 378
        flowTest: 65
        sourceNode: 106
        sourcePort: 1052
        sourcePortObject:
          class_name: TestNodePort
          id: 1052
          value: ''
          node: 106
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: continue
          pointer: '0'
          pointerVariable: continue
        destinationNode: 102
        destinationPort: null
        destinationPortObject: null
        returnFunction: continue
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 379
        flowTest: 65
        sourceNode: 105
        sourcePort: 1037
        sourcePortObject:
          class_name: TestNodePort
          id: 1037
          value: '0'
          node: 105
          variable: 70
          variableObject:
            class_name: TestVariable
            id: 70
            name: out
            type: 2
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 15
            parentVariable: 66
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 2
          exposed: '1'
          name: out
          pointer: '0'
          pointerVariable: out
        destinationNode: 106
        destinationPort: null
        destinationPortObject: null
        returnFunction: out
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 380
        flowTest: 65
        sourceNode: 105
        sourcePort: 1046
        sourcePortObject:
          class_name: TestNodePort
          id: 1046
          value: ''
          node: 105
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: direction
          pointer: '1'
          pointerVariable: direction
        destinationNode: 106
        destinationPort: 1057
        destinationPortObject:
          class_name: TestNodePort
          id: 1057
          value: ''
          node: 106
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: direction
          pointer: '1'
          pointerVariable: direction
        returnFunction: direction
        automatic: '1'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 381
        flowTest: 65
        sourceNode: 105
        sourcePort: 1047
        sourcePortObject:
          class_name: TestNodePort
          id: 1047
          value: ''
          node: 105
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 1
          exposed: '1'
          name: itemsAdministered
          pointer: '1'
          pointerVariable: itemsAdministered
        destinationNode: 106
        destinationPort: 1056
        destinationPortObject:
          class_name: TestNodePort
          id: 1056
          value: 'NULL'
          node: 106
          variable: null
          variableObject: null
          string: '0'
          defaultValue: '0'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: itemsAdministered
          pointer: '1'
          pointerVariable: itemsAdministered
        returnFunction: itemsAdministered
        automatic: '1'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 382
        flowTest: 65
        sourceNode: 96
        sourcePort: 957
        sourcePortObject:
          class_name: TestNodePort
          id: 957
          value: null
          node: 96
          variable: 659
          variableObject:
            class_name: TestVariable
            id: 659
            name: statusCheckModule
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: statusCheckModule
          pointer: '0'
          pointerVariable: statusCheckModule
        destinationNode: 106
        destinationPort: 1048
        destinationPortObject:
          class_name: TestNodePort
          id: 1048
          value: null
          node: 106
          variable: 71
          variableObject:
            class_name: TestVariable
            id: 71
            name: test
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 15
            parentVariable: 67
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: test
          pointer: '0'
          pointerVariable: test
        returnFunction: statusCheckModule
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 611
        flowTest: 65
        sourceNode: 96
        sourcePort: 939
        sourcePortObject:
          class_name: TestNodePort
          id: 939
          value: null
          node: 96
          variable: 641
          variableObject:
            class_name: TestVariable
            id: 641
            name: itemBankItems
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankItems
          pointer: '0'
          pointerVariable: itemBankItems
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: itemBankItems
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 612
        flowTest: 65
        sourceNode: 96
        sourcePort: 940
        sourcePortObject:
          class_name: TestNodePort
          id: 940
          value: null
          node: 96
          variable: 642
          variableObject:
            class_name: TestVariable
            id: 642
            name: itemBankTable
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankTable
          pointer: '0'
          pointerVariable: itemBankTable
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: itemBankTable
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 613
        flowTest: 65
        sourceNode: 96
        sourcePort: 941
        sourcePortObject:
          class_name: TestNodePort
          id: 941
          value: null
          node: 96
          variable: 643
          variableObject:
            class_name: TestVariable
            id: 643
            name: itemBankType
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemBankType
          pointer: '0'
          pointerVariable: itemBankType
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: itemBankType
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 614
        flowTest: 65
        sourceNode: 96
        sourcePort: 955
        sourcePortObject:
          class_name: TestNodePort
          id: 955
          value: null
          node: 96
          variable: 657
          variableObject:
            class_name: TestVariable
            id: 657
            name: itemNumLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemNumLimit
          pointer: '0'
          pointerVariable: itemNumLimit
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: itemNumLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 615
        flowTest: 65
        sourceNode: 96
        sourcePort: 942
        sourcePortObject:
          class_name: TestNodePort
          id: 942
          value: null
          node: 96
          variable: 644
          variableObject:
            class_name: TestVariable
            id: 644
            name: itemsPerPage
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemsPerPage
          pointer: '0'
          pointerVariable: itemsPerPage
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: itemsPerPage
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 616
        flowTest: 65
        sourceNode: 96
        sourcePort: 937
        sourcePortObject:
          class_name: TestNodePort
          id: 937
          value: null
          node: 96
          variable: 639
          variableObject:
            class_name: TestVariable
            id: 639
            name: itemTemplate
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTemplate
          pointer: '0'
          pointerVariable: itemTemplate
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: itemTemplate
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 617
        flowTest: 65
        sourceNode: 96
        sourcePort: 956
        sourcePortObject:
          class_name: TestNodePort
          id: 956
          value: null
          node: 96
          variable: 658
          variableObject:
            class_name: TestVariable
            id: 658
            name: itemTimeFullRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTimeFullRequired
          pointer: '0'
          pointerVariable: itemTimeFullRequired
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: itemTimeFullRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 618
        flowTest: 65
        sourceNode: 96
        sourcePort: 950
        sourcePortObject:
          class_name: TestNodePort
          id: 950
          value: null
          node: 96
          variable: 652
          variableObject:
            class_name: TestVariable
            id: 652
            name: itemTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: itemTimeLimit
          pointer: '0'
          pointerVariable: itemTimeLimit
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: itemTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 619
        flowTest: 65
        sourceNode: 96
        sourcePort: 938
        sourcePortObject:
          class_name: TestNodePort
          id: 938
          value: null
          node: 96
          variable: 640
          variableObject:
            class_name: TestVariable
            id: 640
            name: order
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: order
          pointer: '0'
          pointerVariable: order
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: order
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 620
        flowTest: 65
        sourceNode: 96
        sourcePort: 947
        sourcePortObject:
          class_name: TestNodePort
          id: 947
          value: null
          node: 96
          variable: 649
          variableObject:
            class_name: TestVariable
            id: 649
            name: responseBank
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseBank
          pointer: '0'
          pointerVariable: responseBank
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: responseBank
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 621
        flowTest: 65
        sourceNode: 96
        sourcePort: 944
        sourcePortObject:
          class_name: TestNodePort
          id: 944
          value: null
          node: 96
          variable: 646
          variableObject:
            class_name: TestVariable
            id: 646
            name: responseOptions
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseOptions
          pointer: '0'
          pointerVariable: responseOptions
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: responseOptions
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 622
        flowTest: 65
        sourceNode: 96
        sourcePort: 945
        sourcePortObject:
          class_name: TestNodePort
          id: 945
          value: null
          node: 96
          variable: 647
          variableObject:
            class_name: TestVariable
            id: 647
            name: responseRequired
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequired
          pointer: '0'
          pointerVariable: responseRequired
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: responseRequired
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 623
        flowTest: 65
        sourceNode: 96
        sourcePort: 946
        sourcePortObject:
          class_name: TestNodePort
          id: 946
          value: null
          node: 96
          variable: 648
          variableObject:
            class_name: TestVariable
            id: 648
            name: responseRequiredAlert
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: responseRequiredAlert
          pointer: '0'
          pointerVariable: responseRequiredAlert
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: responseRequiredAlert
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 624
        flowTest: 65
        sourceNode: 96
        sourcePort: 948
        sourcePortObject:
          class_name: TestNodePort
          id: 948
          value: null
          node: 96
          variable: 650
          variableObject:
            class_name: TestVariable
            id: 650
            name: testTimeLimit
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: testTimeLimit
          pointer: '0'
          pointerVariable: testTimeLimit
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: testTimeLimit
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 625
        flowTest: 65
        sourceNode: 96
        sourcePort: 949
        sourcePortObject:
          class_name: TestNodePort
          id: 949
          value: '0'
          node: 96
          variable: 651
          variableObject:
            class_name: TestVariable
            id: 651
            name: testTimeLimitOffset
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: '0'
            test: 65
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 1
          exposed: '0'
          name: testTimeLimitOffset
          pointer: '0'
          pointerVariable: testTimeLimitOffset
        destinationNode: 98
        destinationPort: 961
        destinationPortObject:
          class_name: TestNodePort
          id: 961
          value: ''
          node: 98
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: canGoBack
          pointer: '0'
          pointerVariable: canGoBack
        returnFunction: testTimeLimitOffset
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 626
        flowTest: 65
        sourceNode: 102
        sourcePort: 993
        sourcePortObject:
          class_name: TestNodePort
          id: 993
          value: '1'
          node: 102
          variable: null
          variableObject: null
          string: '0'
          defaultValue: '0'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: direction
          pointer: '1'
          pointerVariable: direction
        destinationNode: 103
        destinationPort: 1006
        destinationPortObject:
          class_name: TestNodePort
          id: 1006
          value: null
          node: 103
          variable: 682
          variableObject:
            class_name: TestVariable
            id: 682
            name: itemsSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 68
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: itemsSafe
          pointer: '0'
          pointerVariable: itemsSafe
        returnFunction: nextItemsSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 627
        flowTest: 65
        sourceNode: 102
        sourcePort: 993
        sourcePortObject:
          class_name: TestNodePort
          id: 993
          value: '1'
          node: 102
          variable: null
          variableObject: null
          string: '0'
          defaultValue: '0'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: direction
          pointer: '1'
          pointerVariable: direction
        destinationNode: 103
        destinationPort: 1007
        destinationPortObject:
          class_name: TestNodePort
          id: 1007
          value: null
          node: 103
          variable: 683
          variableObject:
            class_name: TestVariable
            id: 683
            name: responsesSafe
            type: 0
            description: ''
            passableThroughUrl: '0'
            value: null
            test: 68
            parentVariable: null
          string: '1'
          defaultValue: '1'
          dynamic: '0'
          type: 0
          exposed: '1'
          name: responsesSafe
          pointer: '0'
          pointerVariable: responsesSafe
        returnFunction: pastResponsesSafe
        automatic: '0'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 628
        flowTest: 65
        sourceNode: 105
        sourcePort: 1038
        sourcePortObject:
          class_name: TestNodePort
          id: 1038
          value: ''
          node: 105
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: response
          pointer: '1'
          pointerVariable: response
        destinationNode: 106
        destinationPort: 1052
        destinationPortObject:
          class_name: TestNodePort
          id: 1052
          value: ''
          node: 106
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: continue
          pointer: '0'
          pointerVariable: continue
        returnFunction: direction
        automatic: '1'
        defaultReturnFunction: '1'
      -
        class_name: TestNodeConnection
        id: 629
        flowTest: 65
        sourceNode: 105
        sourcePort: 1038
        sourcePortObject:
          class_name: TestNodePort
          id: 1038
          value: ''
          node: 105
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '0'
          dynamic: '1'
          type: 0
          exposed: '1'
          name: response
          pointer: '1'
          pointerVariable: response
        destinationNode: 106
        destinationPort: 1052
        destinationPortObject:
          class_name: TestNodePort
          id: 1052
          value: ''
          node: 106
          variable: null
          variableObject: null
          string: '1'
          defaultValue: '1'
          dynamic: '1'
          type: 2
          exposed: '1'
          name: continue
          pointer: '0'
          pointerVariable: continue
        returnFunction: itemsAdministered
        automatic: '1'
        defaultReturnFunction: '1'
    tags: ''
    groups: ''
    starterContent: true
    hash: 11f73b6d0003aee7322491a061922501f566f320
  -
    class_name: Test
    id: 67
    name: _questionnaireNextItemSelectorModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getSessionId = function(session) {
        id = 0
        if(!is.null(session) && is.list(session)) {
          id = session$id
        } else {
          id = paste0("i",concerto$session$id)
        }
        return(id)
      }
      
      getSafeItems = function(items) {
        items[,"reversedScore"] = NULL
        return(items)
      }
      
      getSafePastResponses = function(nextItems, session, responseBank) {
        responseBank = fromJSON(responseBank)
        if(is.null(responseBank$table)) {
          concerto.log("no response bank defined")
          return(NULL)
        }
      
        sql = "
      SELECT * FROM {{table}}
      WHERE 
      {{sessionIdColumn}}='{{sessionId}}' AND
      {{itemIdColumn}} IN ({{itemIds}})
      "
        #TODO: instead of itemIdColumn IN (itemIds) should use LIMIT
        response = concerto.table.query(sql, list(
          table=responseBank$table,
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=getSessionId(session),
          itemIdColumn=responseBank$columns$item_id,
          itemIds=paste(nextItems[,"id"], collapse=",")
        ))
        if(dim(response)[1] > 0) {
          response[,"score"] = NULL
          return(response)
        }
        return(NULL)
      }
      
      concerto.log(prevPage, "previous page")
      concerto.log(direction, "direction")
      nextPage = as.numeric(prevPage) + as.numeric(direction)
      
      pageFirstItemIndex = (nextPage - 1) * as.numeric(settings$itemsPerPage) + 1
      pageLastItemIndex = min(nextPage * as.numeric(settings$itemsPerPage), dim(items)[1])
      
      nextItemsIndices = pageFirstItemIndex:pageLastItemIndex
      concerto.log(nextItemsIndices, "next item indices")
      nextItems = items[nextItemsIndices,]
      nextItemsSafe = getSafeItems(nextItems)
      pastResponsesSafe = getSafePastResponses(nextItems, session, settings$responseBank)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 667
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 668
        name: direction
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '1'
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 669
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 670
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 671
        name: prevPage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 672
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 673
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 674
        name: nextItems
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 675
        name: nextItemsIndices
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 676
        name: nextPage
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 677
        name: nextItemsSafe
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
      -
        class_name: TestVariable
        id: 678
        name: pastResponsesSafe
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 67
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 717d56417f97fdb8db741a4141e75b487b3717f8
  -
    class_name: Test
    id: 69
    name: _questionnaireScoringModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getResponseScore = function(responseOptions, value, reversed) {
        minScore = NULL
        maxScore = NULL
        selectedScore = 0
        for(i in 1:length(responseOptions)) {
          option = responseOptions[[i]]
          score = as.numeric(option$score)
          if(!is.null(value) && value == option$value) { selectedScore = score }
          if(is.null(minScore) || score < minScore) { minScore = score }
          if(is.null(maxScore) || score > maxScore) { maxScore = score }
        }
        
        if(reversed) {
          return(maxScore - selectedScore + minScore)
        }
        return(selectedScore)
      }
      
      updateScores = function(currentItems, currentItemsIndices, scores, responseOptions, templateResponse) {
        for(i in 1:dim(currentItems)[1]) {
          item = currentItems[i,]
          index = currentItemsIndices[i]
          score = getResponseScore(
            responseOptions, 
            templateResponse[[paste0("r",item$id)]], 
            item$reversedScore == "1"
          )
          scores[index] = list(score)
        }
        return(scores)
      }
      
      updateTraitScores = function(scores, items) {
        traitScores = list()
        for(i in 1:length(scores)) {
          score = scores[[i]]
          if(is.null(score)) { score = 0 }
          item = as.list(items[i,])
          if(is.null(traitScores[[item$trait]])) {
            traitScores[[item$trait]] = 0
          }
          traitScores[[item$trait]] = traitScores[[item$trait]] + score
        }
        return(traitScores)
      }
      
      scores = updateScores(currentItems, currentItemsIndices, scores, fromJSON(settings$responseOptions), response)
      traitScores = updateTraitScores(scores, items)
      concerto.log(scores, "scores")
      concerto.log(traitScores, "traitScores")
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 692
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 693
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 694
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 695
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 696
        name: scores
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 697
        name: currentItemsIndices
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 698
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 700
        name: currentItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 701
        name: traitScores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 706
        name: traitScores
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
      -
        class_name: TestVariable
        id: 707
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 69
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 85de17d7acdc9d8b94c0ced35d42e648630c9c6c
  -
    class_name: Test
    id: 70
    name: _questionnaireResponseProcessingModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getSessionId = function(session) {
        id = 0
        if(!is.null(session) && is.list(session)) {
          id = session$id
        } else {
          id = paste0("i",concerto$session$id)
        }
        return(id)
      }
      
      saveResponses = function(responseBank, sessionId, templateResponse, currentItems, currentItemsIndices, scores) {
        responseBank = fromJSON(responseBank)
        if(is.null(responseBank$table)) {
          concerto.log("no response bank defined, skipping response saving")
          return(NULL)
        }
      
        sql = "SELECT * FROM {{table}} WHERE {{itemIdColumn}} IN ({{itemsIds}}) AND {{sessionIdColumn}}='{{sessionId}}'"
        responses = concerto.table.query(sql, params=list(
          table=responseBank$table,
          itemIdColumn=responseBank$columns$item_id,
          itemsIds=paste(currentItems[,"id"], collapse=","),
          sessionIdColumn=responseBank$columns$session_id,
          sessionId=sessionId
        ))
      
        queries = NULL
        for(i in 1:dim(currentItems)[1]) {
          found = F
          item = as.list(currentItems[i,])
          sql = ""
          if(dim(responses)[1] > 0) {
            for(j in 1:dim(responses)[1]) {
              response = as.list(responses[j,])
              if(response$item_id == item$id) {
                found = T
                sql = "
        UPDATE {{table}} 
        SET 
        {{itemIdColumn}}={{itemId}}, 
        {{responseColumn}}='{{response}}', 
        {{timeTakenColumn}}={{timeTaken}}, 
        {{sessionIdColumn}}='{{sessionId}}', 
        {{scoreColumn}}={{score}}, 
        {{traitColumn}}='{{trait}}'
        WHERE {{itemIdColumn}}={{itemId}} AND {{sessionIdColumn}}='{{sessionId}}'
        "
                break
              }
            }
          }
          if(!found) {
            sql = "
      INSERT INTO {{table}} ({{itemIdColumn}}, {{responseColumn}}, {{timeTakenColumn}}, {{sessionIdColumn}}, {{scoreColumn}}, {{traitColumn}})
      VALUES ({{itemId}}, '{{response}}', {{timeTaken}}, '{{sessionId}}', {{score}}, '{{trait}}')
      "
          }
          sql = concerto.table.insertParams(sql, list(
            table=responseBank$table,
            sessionIdColumn=responseBank$columns$session_id,
            sessionId=sessionId,
            itemIdColumn=responseBank$columns$item_id,
            itemId=item$id,
            responseColumn=responseBank$columns$response,
            response=templateResponse$response,
            timeTakenColumn=responseBank$columns$timeTaken,
            timeTaken=response$timeTaken, #could use time difference
            scoreColumn=responseBank$columns$score,
            score=scores[currentItemsIndices[i]],
            traitColumn=responseBank$columns$trait,
            trait=item$trait
          ))
          queries = c(queries, sql)
        }
        for(i in 1:length(queries)) {
        	concerto.table.query(queries[i])  
        }
      }
      
      sessionId = getSessionId(session)
      saveResponses(settings$responseBank, sessionId, response, currentItems, currentItemsIndices, scores)
      
      direction = 1
      itemsAdministered = unique(c(itemsAdministered, currentItemsIndices)) 
      if(settings$canGoBack == "1" && page > 1 && response$buttonPressed == "back") {
        direction = -1
      }
      concerto.log(itemsAdministered, "itemsAdministered")
      concerto.log(direction, "direction")
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 709
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 710
        name: response
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 711
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 712
        name: currentItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 713
        name: scores
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 714
        name: currenttemsIndices
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 715
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 716
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 718
        name: direction
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 719
        name: itemsAdministered
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
      -
        class_name: TestVariable
        id: 720
        name: page
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 70
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 7aec55a7eaa09ddbd554aa585614af76f8be3733
  -
    class_name: Test
    id: 71
    name: _questionnaireStatusCheckModule
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      isOutOfTime = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired) {
        startedAgo = as.numeric(Sys.time()) - testTimeStarted
        testTimeLeft = testTimeLimit - startedAgo
        if(testTimeLimit > 0) {
          if(testTimeLeft <= 0) { return(T) }
          if(testTimeLeft < itemTimeLimit && itemTimeFullRequired) { return(T) }
        }
        return(F)
      }
      
      getBranch = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired, itemNumLimit, itemsNum, direction, itemsAdministered) {
        if(isOutOfTime(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired)) {
          concerto.log("time out", "test status")
          return("stop")
        }
        
        if(itemNumLimit > 0 && length(itemsAdministered) >= itemNumLimit || length(itemsAdministered) >= itemsNum) {
          if(direction > 0) {
            concerto.log("maximum items reached", "test status")
            return("stop")
          }
        }
        
        concerto.log("continue", "test status")
        return("continue")
      }
      
      .branch = getBranch(
        as.numeric(settings$testTimeLimit), 
        testTimeStarted, 
        as.numeric(settings$itemTimeLimit), 
        settings$itemTimeFullRequired == "1", 
        as.numeric(settings$itemNumLimit), 
        dim(items)[1],
        direction,
        itemsAdministered
      )
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 721
        name: continue
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 71
        parentVariable: null
      -
        class_name: TestVariable
        id: 722
        name: testTimeLeft
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 71
        parentVariable: null
      -
        class_name: TestVariable
        id: 723
        name: testTimeStarted
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 71
        parentVariable: null
      -
        class_name: TestVariable
        id: 724
        name: itemsAdministered
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 71
        parentVariable: null
      -
        class_name: TestVariable
        id: 725
        name: direction
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 71
        parentVariable: null
      -
        class_name: TestVariable
        id: 727
        name: settings
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 71
        parentVariable: null
      -
        class_name: TestVariable
        id: 728
        name: items
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 71
        parentVariable: null
      -
        class_name: TestVariable
        id: 730
        name: .branch
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 71
        parentVariable: null
      -
        class_name: TestVariable
        id: 731
        name: stop
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 71
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 9ef431228073c50a6ba01027ef0a3f53b484914f
  -
    class_name: TestWizard
    id: 14
    name: questionnaire
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 26
        title: Items
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 14
        params:
          -
            class_name: TestWizardParam
            id: 79
            label: 'Can go back?'
            description: 'Can go back to previous page of questionnaire?'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 645
            name: canGoBack
            wizardStep: 26
            stepTitle: Items
            order: 5
            wizard: 14
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 80
            label: Items
            description: 'Items collection to use in questionnaire'
            hideCondition: 'values.itemBankType != "direct"'
            type: 10
            passableThroughUrl: '0'
            value: '[{"id":"1","question":"I like cats","orderIndex":"1","trait":"pets","reversedScore":"0"},{"id":"2","question":"I like dogs","orderIndex":"2","trait":"pets","reversedScore":"0"},{"id":"3","question":"I like horsies","orderIndex":"3","trait":"pets","reversedScore":"0"}]'
            testVariable: 641
            name: itemBankItems
            wizardStep: 26
            stepTitle: Items
            order: 1
            wizard: 14
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: id
                      label: Id
                      definition:
                        placeholder: 0
                    -
                      type: 2
                      name: question
                      label: Question
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: orderIndex
                      label: 'Order index'
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: trait
                      label: Trait
                      definition:
                        placeholder: 0
                    -
                      type: 4
                      name: reversedScore
                      label: 'Reversed score'
                      definition:
                        placeholder: 0
          -
            class_name: TestWizardParam
            id: 81
            label: Table
            description: 'Column mapping for item bank data table'
            hideCondition: 'values.itemBankType != "table"'
            type: 12
            passableThroughUrl: '0'
            value: '[]'
            testVariable: 642
            name: itemBankTable
            wizardStep: 26
            stepTitle: Items
            order: 1
            wizard: 14
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: question
                  label: Question
                  tooltip: ''
                -
                  name: orderIndex
                  label: 'Order index'
                  tooltip: ''
                -
                  name: trait
                  label: Trait
                  tooltip: ''
                -
                  name: reversedScore
                  label: 'Reversed score'
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 82
            label: Type
            description: |
              <p>Type of item bank to use. One of the following:</p>
              
              <ul>
              	<li><strong>Direct</strong>&nbsp;- use item bank defined in wizard</li>
              	<li><strong>Table&nbsp;</strong>- use item bank from data table</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: direct
            testVariable: 643
            name: itemBankType
            wizardStep: 26
            stepTitle: Items
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              options:
                -
                  value: direct
                  label: Direct
                -
                  value: table
                  label: Table
              defvalue: direct
          -
            class_name: TestWizardParam
            id: 84
            label: 'Items per page'
            description: 'Number of items to show on single questionnaire page'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '10'
            testVariable: 644
            name: itemsPerPage
            wizardStep: 26
            stepTitle: Items
            order: 3
            wizard: 14
            definition:
              placeholder: 0
              defvalue: '10'
          -
            class_name: TestWizardParam
            id: 85
            label: 'Item template'
            description: 'Questionnaire page layout template'
            hideCondition: ''
            type: 5
            passableThroughUrl: '0'
            value: questionnaire
            testVariable: 639
            name: itemTemplate
            wizardStep: 26
            stepTitle: Items
            order: 4
            wizard: 14
            definition:
              placeholder: 0
              defvalue: questionnaire
          -
            class_name: TestWizardParam
            id: 89
            label: Order
            description: |
              <p>Order of questions. One of the following:</p>
              
              <ul>
              	<li><strong>Manual</strong>&nbsp;- will use sorted&nbsp;<strong>orderIndex&nbsp;</strong>value for order</li>
              	<li><strong>Random</strong>&nbsp;- order will be randomised</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: random
            testVariable: 640
            name: order
            wizardStep: 26
            stepTitle: Items
            order: 2
            wizard: 14
            definition:
              placeholder: 0
              options:
                -
                  value: manual
                  label: Manual
                -
                  value: random
                  label: Random
              defvalue: random
      -
        class_name: TestWizardStep
        id: 27
        title: 'Stopping Rules'
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 14
        params:
          -
            class_name: TestWizardParam
            id: 83
            label: 'Item Number Limit'
            description: 'Items number limit.&nbsp;<strong>0&nbsp;</strong>for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 657
            name: itemNumLimit
            wizardStep: 27
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 86
            label: 'Sufficient Item Time Required'
            description: 'If checked and currenty test time left is lesser than item time limit, then test will be finished.'
            hideCondition: 'values.testTimeLimit == 0 || values.itemTimeLimit == 0'
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 658
            name: itemTimeFullRequired
            wizardStep: 27
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 87
            label: 'Item time limit'
            description: 'Item time limit in seconds.&nbsp;<strong>0</strong>&nbsp;for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 652
            name: itemTimeLimit
            wizardStep: 27
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 97
            label: 'Test time limit'
            description: 'Total test time limit in seconds.&nbsp;<strong>0&nbsp;</strong>for no limit.'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: '0'
            testVariable: 650
            name: testTimeLimit
            wizardStep: 27
            stepTitle: 'Stopping Rules'
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: '0'
      -
        class_name: TestWizardStep
        id: 28
        title: Responses
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 14
        params:
          -
            class_name: TestWizardParam
            id: 90
            label: 'Response bank'
            description: 'Response table column map. Choose none for no response storing.'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '{"table":"questionnaireResponses","columns":{"id":"id","item_id":"item_id","response":"response","timeTaken":"timeTaken","session_id":"session_id","score":"score","trait":"trait"}}'
            testVariable: 649
            name: responseBank
            wizardStep: 28
            stepTitle: Responses
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: item_id
                  label: 'Item id'
                  tooltip: ''
                -
                  name: response
                  label: Response
                  tooltip: ''
                -
                  name: timeTaken
                  label: 'Time taken'
                  tooltip: ''
                -
                  name: session_id
                  label: 'Session id'
                  tooltip: ''
                -
                  name: score
                  label: Score
                  tooltip: ''
                -
                  name: trait
                  label: Trait
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 91
            label: 'Response options'
            description: 'Possible response options for questionnaire items.'
            hideCondition: ''
            type: 10
            passableThroughUrl: '0'
            value: '[{"value":"yes","label":"Yes","score":"1"},{"value":"no","label":"No","score":"0"}]'
            testVariable: 646
            name: responseOptions
            wizardStep: 28
            stepTitle: Responses
            order: 0
            wizard: 14
            definition:
              element:
                type: 9
                definition:
                  placeholder: 0
                  fields:
                    -
                      type: 0
                      name: value
                      label: Value
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: label
                      label: Label
                      definition:
                        placeholder: 0
                    -
                      type: 0
                      name: score
                      label: Score
                      definition:
                        placeholder: 0
          -
            class_name: TestWizardParam
            id: 93
            label: 'Response required'
            description: 'Check if answers to all items are required.'
            hideCondition: ''
            type: 4
            passableThroughUrl: '0'
            value: '0'
            testVariable: 647
            name: responseRequired
            wizardStep: 28
            stepTitle: Responses
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: '0'
          -
            class_name: TestWizardParam
            id: 94
            label: 'Response required alert'
            description: 'Alert text when there is missing answer.'
            hideCondition: 'values.responseRequired == "0"'
            type: 0
            passableThroughUrl: '0'
            value: 'Response required!'
            testVariable: 648
            name: responseRequiredAlert
            wizardStep: 28
            stepTitle: Responses
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: 'Response required!'
      -
        class_name: TestWizardStep
        id: 29
        title: Modules
        description: 'Test modules. Each module is a separate test that can use specific input variables and must return specific return variables.'
        orderNum: 0
        colsNum: 0
        wizard: 14
        params:
          -
            class_name: TestWizardParam
            id: 88
            label: 'Next item selector module'
            description: |
              <p>Next item selector module. Must return:</p>
              
              <ul>
              	<li><strong>nextItems</strong>&nbsp;- data frame, next items collection</li>
              	<li><strong>nextItemsIndices</strong>&nbsp;- vector, contains indices of next items</li>
              	<li><strong>nextItemsSafe</strong>&nbsp;- data frame, next items collection with sensitive data removed</li>
              	<li><strong>nextPage</strong>&nbsp;- numerical, index of next page</li>
              	<li><strong>pastResponsesSafe</strong>&nbsp;- data frame, past response for each of next item with sensitive data removed</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _questionnaireNextItemSelectorModule
            testVariable: 653
            name: nextItemSelectorModule
            wizardStep: 29
            stepTitle: Modules
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: _questionnaireNextItemSelectorModule
          -
            class_name: TestWizardParam
            id: 92
            label: 'Response processor module'
            description: |
              <p>Response processor module. Must return:</p>
              
              <ul>
              	<li><strong>direction</strong>&nbsp;- numerical, positive if we should go to next page, negative if we should go to previous page</li>
              	<li><strong>itemsAdministered</strong>&nbsp;- vector, contains indices of already shown items</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _questionnaireResponseProcessingModule
            testVariable: 656
            name: responseProcessorModule
            wizardStep: 29
            stepTitle: Modules
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: _questionnaireResponseProcessingModule
          -
            class_name: TestWizardParam
            id: 95
            label: 'Scoring module'
            description: |
              <p>Scoring module. Must return:</p>
              
              <ul>
              	<li><strong>scores</strong>&nbsp;- vector, contains scores for each of administered item</li>
              	<li><strong>traitScores</strong>&nbsp;- list, where key is trait name and value is sum of scores for given trait</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _questionnaireScoringModule
            testVariable: 654
            name: scoringModule
            wizardStep: 29
            stepTitle: Modules
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: _questionnaireScoringModule
          -
            class_name: TestWizardParam
            id: 96
            label: 'Status check module'
            description: |
              <p>Status check module. Must return:</p>
              
              <ul>
              	<li><strong>.branch</strong>&nbsp;- string, should return&nbsp;<strong>continue&nbsp;</strong>if test should continue, or&nbsp;<strong>stop</strong>&nbsp;if test should be stopped</li>
              </ul>
              
            hideCondition: ''
            type: 8
            passableThroughUrl: '0'
            value: _questionnaireStatusCheckModule
            testVariable: 659
            name: statusCheckModule
            wizardStep: 29
            stepTitle: Modules
            order: 0
            wizard: 14
            definition:
              placeholder: 0
              defvalue: _questionnaireStatusCheckModule
    test: 65
    groups: ''
    starterContent: true
    hash: 47868b80eae38b4a6593e768c5c13ff0665b7572
  -
    class_name: Test
    id: 73
    name: questionnaire
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: Questionnaire
    variables:
      -
        class_name: TestVariable
        id: 755
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 73
        parentVariable: 638
      -
        class_name: TestVariable
        id: 756
        name: itemTemplate
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: questionnaire
        test: 73
        parentVariable: 639
      -
        class_name: TestVariable
        id: 757
        name: order
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: random
        test: 73
        parentVariable: 640
      -
        class_name: TestVariable
        id: 758
        name: itemBankItems
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[{"id":"1","question":"I like cats","orderIndex":"1","trait":"pets","reversedScore":"0"},{"id":"2","question":"I like dogs","orderIndex":"2","trait":"pets","reversedScore":"0"},{"id":"3","question":"I like horsies","orderIndex":"3","trait":"pets","reversedScore":"0"}]'
        test: 73
        parentVariable: 641
      -
        class_name: TestVariable
        id: 759
        name: itemBankTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[]'
        test: 73
        parentVariable: 642
      -
        class_name: TestVariable
        id: 760
        name: itemBankType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: direct
        test: 73
        parentVariable: 643
      -
        class_name: TestVariable
        id: 761
        name: itemsPerPage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '10'
        test: 73
        parentVariable: 644
      -
        class_name: TestVariable
        id: 762
        name: canGoBack
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 73
        parentVariable: 645
      -
        class_name: TestVariable
        id: 763
        name: responseOptions
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '[{"value":"yes","label":"Yes","score":"1"},{"value":"no","label":"No","score":"0"}]'
        test: 73
        parentVariable: 646
      -
        class_name: TestVariable
        id: 764
        name: responseRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 73
        parentVariable: 647
      -
        class_name: TestVariable
        id: 765
        name: responseRequiredAlert
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: 'Response required!'
        test: 73
        parentVariable: 648
      -
        class_name: TestVariable
        id: 766
        name: responseBank
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"questionnaireResponses","columns":{"id":"id","item_id":"item_id","response":"response","timeTaken":"timeTaken","session_id":"session_id","score":"score","trait":"trait"}}'
        test: 73
        parentVariable: 649
      -
        class_name: TestVariable
        id: 767
        name: testTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 73
        parentVariable: 650
      -
        class_name: TestVariable
        id: 768
        name: testTimeLimitOffset
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 73
        parentVariable: 651
      -
        class_name: TestVariable
        id: 769
        name: itemTimeLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 73
        parentVariable: 652
      -
        class_name: TestVariable
        id: 770
        name: nextItemSelectorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _questionnaireNextItemSelectorModule
        test: 73
        parentVariable: 653
      -
        class_name: TestVariable
        id: 771
        name: scoringModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _questionnaireScoringModule
        test: 73
        parentVariable: 654
      -
        class_name: TestVariable
        id: 772
        name: session
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 73
        parentVariable: 655
      -
        class_name: TestVariable
        id: 773
        name: responseProcessorModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _questionnaireResponseProcessingModule
        test: 73
        parentVariable: 656
      -
        class_name: TestVariable
        id: 774
        name: itemNumLimit
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 73
        parentVariable: 657
      -
        class_name: TestVariable
        id: 775
        name: itemTimeFullRequired
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 73
        parentVariable: 658
      -
        class_name: TestVariable
        id: 776
        name: statusCheckModule
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: _questionnaireStatusCheckModule
        test: 73
        parentVariable: 659
      -
        class_name: TestVariable
        id: 777
        name: scores
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 73
        parentVariable: 708
    sourceWizard: 14
    sourceWizardTest: 65
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: 5f49f14c299202a432400780a066dae80f6a11d6
  -
    class_name: ViewTemplate
    id: 21
    name: questionnaire
    description: ''
    accessibility: 0
    archived: '0'
    head: ''
    css: |
      .questionnaire-table {
        display: table;
      }
      
      .questionnaire-header {
        
      }
      
      .questionnaire-row {
        display: table-row;
      }
      
      .questionnaire-cell {
        display: table-cell;
      }
      
      .questionnaire-error {
      }
      
      .questionnaire-timer:empty {
        display: none;
      }
    js: |
      testRunner.controllerProvider.register("questionnaire", function($scope) {
        $scope.items = testRunner.R.items;
        $scope.responseOptions = testRunner.R.responseOptions;
        $scope.canGoBack = testRunner.R.canGoBack == 1;
        $scope.responseRequired = testRunner.R.responseRequired == 1;
        $scope.responseRequiredAlert = testRunner.R.responeRequiredAlert;
        $scope.pastResponses = testRunner.R.responses;
        $scope.responses = {};
      
        if($scope.pastResponses) {
          for(var i=0;i<$scope.pastResponses.length;i++) {
            var response = $scope.pastResponses[i];
            $scope.responses["r"+response.item_id] = response.response;
          }
        }
      
        for(var i=0;i<$scope.items.length;i++) {
          var item = $scope.items[i];
          if(typeof $scope.responses["r"+item.id] === 'undefined') {
            $scope.responses["r"+item.id] = null;
          }
        }
      });
    html: |
      <form name="form" ng-controller="questionnaire">
        <div class="questionnaire-timer">[[timeLeft]]</div>
        <div class="questionnaire-table">
          <div class="questionnaire-row questionnaire-header">
            <div class="questionnaire-cell"></div>
      
            <div class="questionnaire-cell" ng-repeat="option in responseOptions">[[option.label]]</div>
          </div>
      
          <div class="questionnaire-row" ng-repeat="item in items track by $index">
            <div class="questionnaire-cell">[[item.question]]</div>
      
            <div class="questionnaire-cell" ng-repeat="option in responseOptions"><input id="r[[item.id]]-[[option.value]]" name="r[[item.id]]" ng-model="responses['r' + item.id]" ng-required="responseRequired" ng-value="option.value" type="radio" /></div>
          </div>
        </div>
      
        <div class="questionnaire-error" ng-show="form['r'+item.id].$error.required &amp;&amp; form['r'+item.id].$dirty">[[responseRequiredAlert]]</div>
        <button name="back" ng-show="canGoBack">Previous</button><button name="next" ng-disabled="!form.$valid">Next</button></form>
      
    groups: ''
    starterContent: true
    hash: 316e50e862c24d7cbe387f58f9de433d6fd72d10
  -
    class_name: Test
    id: 74
    name: _dataManipulation
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      getWhereClause = function(where, type) {
        if((is.na(where) || where == "") && type != "update") {
          elems = NULL
          for(name in .dynamicInputs) {
            elem = concerto.table.insertParams("{{name}}='{{value}}'", list(
              name=name,
              value=get(name)
            ))
            elems = c(elems, elem)
          }
          if(length(elems) > 0) {
            elemsJoined = paste(elems, collapse=" AND ")
            return(paste0("WHERE ", elemsJoined))
          }
        } else if(length(where) == 1) {
          id = suppressWarnings(as.numeric(where))
          if(is.character(where) && is.na(id)) {
            params = list()
            for(name in .dynamicInputs) {
              params[[name]] = get(name)
            }
            elemsJoined = concerto.table.insertParams(where, params)
            return(paste0("WHERE ", elemsJoined))
          } else if(is.numeric(id)) {
            return(paste0("WHERE id=",where))
          }
        }
        return(NULL)
      }
          
      getSetClause = function(set, type) {
        if(is.na(set) || set == "") {
          if(type == "insert") {
            cols = NULL
            vals = NULL
            for(name in .dynamicInputs) {
              cols = c(cols, name)
              val = concerto.table.insertParams("'{{value}}'", list(
                value=get(name)
              ))
              vals = c(vals, val)
            }
            if(length(cols) > 0) {
              colsJoined = paste(cols, collapse=", ")
              valsJoined = paste(vals, collapse=", ")
              return(paste0("(",colsJoined,") VALUES (",valsJoined,")"))
            }
          } else {
            elems = NULL
            for(name in .dynamicInputs) {
              elem = concerto.table.insertParams("{{name}}='{{value}}'", list(
                name=name,
                value=get(name)
              ))
              elems = c(elems, elem)
            }
            if(length(elems) > 0) {
              elemsJoined = paste(elems, collapse=", ")
              return(paste0("SET ", elemsJoined))
            }
          }
        } else if(length(set) == 1 && is.character(set)) {
          params = list()
          for(name in .dynamicInputs) {
            params[[name]] = get(name)
          }
          elemsJoined = concerto.table.insertParams(set, params)
          return(paste0("SET ", elemsJoined))
        }
        return(NULL)
      }
        
      getCustomQuery = function(queryString) {
        params = list()
        for(name in .dynamicInputs) {
          params[[name]] = get(name)
        }
        queryString = concerto.table.insertParams(queryString, params)
        return(queryString)
      }
      
      result = NULL
      if(queryType == "select") {
        queryString = "SELECT * FROM {{table}}"
        whereString = getWhereClause(whereClause, queryType)
        if(!is.null(whereString)) {
          queryString = paste0(queryString, " ", whereString)
        }
        result = concerto.table.query(queryString, params=list(
          table=table
        ))
      } else if(queryType == "insert") {
        queryString = "INSERT INTO {{table}}"
        setString = getSetClause(setClause, queryType)
        if(!is.null(setString)) {
          queryString = paste0(queryString, " ", setString)
        }
        result = concerto.table.query(queryString, params=list(
          table=table
        ))
      } else if(queryType == "update") {
        queryString = "UPDATE {{table}}"
        setString = getSetClause(setClause, queryType)
        if(!is.null(setString)) {
          queryString = paste0(queryString, " ", setString)
        } else {
          stop("No 'set' clause for UPDATE query")
        }
        whereString = getWhereClause(whereClause, queryType)
        if(!is.null(whereString)) {
          queryString = paste0(queryString, " ", whereString)
        }
        result = concerto.table.query(queryString, params=list(
          table=table
        ))
      } else if(queryType == "delete") {
        queryString = "DELETE FROM {{table}}"
        whereString = getWhereClause(whereClause, queryType)
        if(!is.null(whereString)) {
          queryString = paste0(queryString, " ", whereString)
        }
        result = concerto.table.query(queryString, params=list(
          table=table
        ))
      } else {
        queryString = getCustomQuery(queryString)
        result = concerto.table.query(queryString)
      }
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 784
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 74
        parentVariable: null
      -
        class_name: TestVariable
        id: 785
        name: queryType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 74
        parentVariable: null
      -
        class_name: TestVariable
        id: 786
        name: queryString
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 74
        parentVariable: null
      -
        class_name: TestVariable
        id: 788
        name: result
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 74
        parentVariable: null
      -
        class_name: TestVariable
        id: 789
        name: table
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 74
        parentVariable: null
      -
        class_name: TestVariable
        id: 790
        name: whereClause
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 74
        parentVariable: null
      -
        class_name: TestVariable
        id: 791
        name: setClause
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 74
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 7b166ef0f94a905354beb9012f9df019bff0c226
  -
    class_name: TestWizard
    id: 15
    name: dataManipulation
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 30
        title: Data
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 15
        params:
          -
            class_name: TestWizardParam
            id: 98
            label: 'Query type'
            description: |
              <p>Type of query. One of following:</p>
              
              <ul>
              	<li><strong>Select&nbsp;</strong>- reads data from table</li>
              	<li><strong>Update&nbsp;</strong>- updates existing data in table</li>
              	<li><strong>Insert&nbsp;</strong>- inserts new data to table</li>
              	<li><strong>Delete&nbsp;</strong>- deletes existing data from table</li>
              	<li><strong>Custom&nbsp;</strong>- custom query</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: select
            testVariable: 785
            name: queryType
            wizardStep: 30
            stepTitle: Data
            order: 0
            wizard: 15
            definition:
              placeholder: 0
              options:
                -
                  value: select
                  label: Select
                  order: 0
                -
                  value: update
                  label: Update
                  order: 1
                -
                  value: delete
                  label: Delete
                  order: 3
                -
                  value: custom
                  label: Custom
                  order: 4
                -
                  value: insert
                  label: Insert
                  order: 2
              defvalue: select
          -
            class_name: TestWizardParam
            id: 99
            label: Table
            description: 'Table to run query on.'
            hideCondition: 'values.queryType == "custom"'
            type: 6
            passableThroughUrl: '0'
            value: ''
            testVariable: 789
            name: table
            wizardStep: 30
            stepTitle: Data
            order: 0
            wizard: 15
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 100
            label: Query
            description: 'Custom query. Can use insert directives that will be replaced with dynamic input values.'
            hideCondition: 'values.queryType != "custom"'
            type: 1
            passableThroughUrl: '0'
            value: ''
            testVariable: 786
            name: queryString
            wizardStep: 30
            stepTitle: Data
            order: 0
            wizard: 15
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 101
            label: 'Set clause'
            description: |
              <ul>
              	<li>if is string (<strong>Insert</strong>,&nbsp;<strong>Update</strong> only), will be used literally and replace any insert directives with dynamic inputs from node, e.g.:<br />
              	<strong>column1={{column1Value}} AND column2={{column2Value}}</strong></li>
              	<li>if empty (<strong>Insert</strong>&nbsp;only), will build clause from dynamic inputs, using &#39;<b>=</b>&#39;<b>&nbsp;</b>and &#39;<b>AND</b>&#39;<b>&nbsp;</b>operators, e.g. for dynamic inputs:&nbsp;<strong>col1=2</strong>,&nbsp;<strong>col2=3:</strong><br />
              	<strong>(col1,col2) VALUES (2,3)</strong></li>
              	<li>if empty (<b>Update&nbsp;</b>only), will build set clause from dynamic inputs, using &#39;<b>=</b>&#39;<b>&nbsp;</b>and &#39;<b>AND</b>&#39;<b>&nbsp;</b>operators, e.g. for dynamic inputs:&nbsp;<strong>col1=2</strong>,&nbsp;<strong>col2=3:</strong><br />
              	<strong>col1=2, col2=3</strong></li>
              </ul>
              
            hideCondition: 'values.queryType == "select"'
            type: 1
            passableThroughUrl: '0'
            value: ''
            testVariable: 791
            name: setClause
            wizardStep: 30
            stepTitle: Data
            order: 0
            wizard: 15
            definition:
              placeholder: 0
              defvalue: ''
          -
            class_name: TestWizardParam
            id: 102
            label: 'Where clause'
            description: |
              <ul>
              	<li>if is string (<strong>Select</strong>,&nbsp;<strong>Delete</strong> only), will be used literally and replace any insert directives with dynamic inputs from node, e.g.:<br />
              	<strong>column1={{column1Value}} AND column2={{column2Value}}</strong></li>
              	<li>if numeric, e.g.:<br />
              	<strong>23</strong><br />
              	will be converted to:<br />
              	<strong>id=23</strong></li>
              	<li>if empty, will build where clause from dynamic inputs, using &#39;<b>=</b>&#39;<b>&nbsp;</b>and &#39;<b>AND</b>&#39;<b>&nbsp;</b>operators, e.g. for dyanmic inputs:&nbsp;<strong>col1=2</strong>,&nbsp;<strong>col2=3:</strong><br />
              	<strong>col1=2 AND col2=3</strong></li>
              </ul>
              
            hideCondition: 'values.queryType == "insert"'
            type: 1
            passableThroughUrl: '0'
            value: ''
            testVariable: 790
            name: whereClause
            wizardStep: 30
            stepTitle: Data
            order: 0
            wizard: 15
            definition:
              placeholder: 0
              defvalue: ''
    test: 74
    groups: ''
    starterContent: true
    hash: a1bfc20f4861f9fae563a12f1ac558512a143433
  -
    class_name: Test
    id: 75
    name: dataManipulation
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Data tables manipulation.'
    variables:
      -
        class_name: TestVariable
        id: 792
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 75
        parentVariable: 784
      -
        class_name: TestVariable
        id: 793
        name: queryType
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: select
        test: 75
        parentVariable: 785
      -
        class_name: TestVariable
        id: 794
        name: queryString
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 75
        parentVariable: 786
      -
        class_name: TestVariable
        id: 795
        name: result
        type: 1
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 75
        parentVariable: 788
      -
        class_name: TestVariable
        id: 796
        name: table
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 75
        parentVariable: 789
      -
        class_name: TestVariable
        id: 797
        name: whereClause
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 75
        parentVariable: 790
      -
        class_name: TestVariable
        id: 798
        name: setClause
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 75
        parentVariable: 791
    sourceWizard: 15
    sourceWizardTest: 74
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: b1d4bcb5913e2052e0ad72aee6072574a08d6cbe
  -
    class_name: Test
    id: 76
    name: _translationDictionary
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 0
    code: |
      selectedLanguage = language
      if(is.na(language)) { selectedLanguage = defaultLanguage }
      
      concerto.log(selectedLanguage, "selected language")
      
      dictionaryTable = fromJSON(dictionaryTable)
      if(type == "multiTable") {
        suffixStartIndex = regexpr("_[^_]*$", dictionaryTable$table)
        if(suffixStartIndex==-1) {
          stop(paste0("dictionary mapping table ", dictionaryTable$table, " doesn't contain proper language suffix"))
        }
        
        dictionaryTable$table = paste0(substr(dictionaryTable$table, 1, suffixStartIndex), selectedLanguage)
      }
      
      entries = concerto.table.query("SELECT {{keyColumn}} AS entryKey, {{langColumn}} AS trans FROM {{table}}", params=list(
        keyColumn = dictionaryTable$columns$entryKey,
        langColumn = selectedLanguage,
        table = dictionaryTable$table
      ))
      
      c.set("dictionary", entries, global=T)
    description: ''
    variables:
      -
        class_name: TestVariable
        id: 799
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 76
        parentVariable: null
      -
        class_name: TestVariable
        id: 800
        name: language
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 76
        parentVariable: null
      -
        class_name: TestVariable
        id: 801
        name: defaultLanguage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 76
        parentVariable: null
      -
        class_name: TestVariable
        id: 803
        name: dictionaryTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 76
        parentVariable: null
      -
        class_name: TestVariable
        id: 846
        name: type
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 76
        parentVariable: null
    sourceWizard: null
    sourceWizardTest: null
    nodes: {  }
    nodesConnections: {  }
    tags: ''
    groups: ''
    starterContent: true
    hash: 321143322cd4ada2b19bc868db8e1e3f6144f1f9
  -
    class_name: TestWizard
    id: 16
    name: translationDictionary
    description: ''
    accessibility: 0
    archived: '0'
    steps:
      -
        class_name: TestWizardStep
        id: 31
        title: Dictionary
        description: ''
        orderNum: 0
        colsNum: 0
        wizard: 16
        params:
          -
            class_name: TestWizardParam
            id: 103
            label: 'Dictionary table'
            description: 'Dictionary table mapping. For&nbsp;<strong>Language per table</strong>&nbsp;type, this can be mapping to any of the language tables.'
            hideCondition: ''
            type: 12
            passableThroughUrl: '0'
            value: '{"table":"translationDictionary","columns":{"id":"id","entryKey":"entryKey"}}'
            testVariable: 803
            name: dictionaryTable
            wizardStep: 31
            stepTitle: Dictionary
            order: 1
            wizard: 16
            definition:
              placeholder: 0
              cols:
                -
                  name: id
                  label: Id
                  tooltip: ''
                -
                  name: entryKey
                  label: 'Entry key'
                  tooltip: ''
          -
            class_name: TestWizardParam
            id: 104
            label: 'Default language'
            description: 'Default language to use when no language is specified'
            hideCondition: ''
            type: 0
            passableThroughUrl: '0'
            value: en
            testVariable: 801
            name: defaultLanguage
            wizardStep: 31
            stepTitle: Dictionary
            order: 2
            wizard: 16
            definition:
              placeholder: 0
              defvalue: en
          -
            class_name: TestWizardParam
            id: 109
            label: Type
            description: |
              <p>Dictionary table type. One of the following:</p>
              
              <ul>
              	<li><strong>Language per table&nbsp;</strong>- each language in its own table (tables must end with underscore followed by language code, e.g.:&nbsp;<strong>dictionary_en</strong>&nbsp;for english), translation column name need to be same as language code (e.g.&nbsp;<strong>en</strong>&nbsp;for english)</li>
              	<li><strong>Language per column</strong>&nbsp;- single table, each language in its own column (column for each supported language, translation columns needs to be same as language code (e.g.&nbsp;<strong>en&nbsp;</strong>for english)</li>
              </ul>
              
            hideCondition: ''
            type: 3
            passableThroughUrl: '0'
            value: multiColumn
            testVariable: 846
            name: type
            wizardStep: 31
            stepTitle: Dictionary
            order: 0
            wizard: 16
            definition:
              placeholder: 0
              options:
                -
                  value: multiTable
                  label: 'Language per table'
                  order: 1
                -
                  value: multiColumn
                  label: 'Language per column'
                  order: 0
              defvalue: multiColumn
    test: 76
    groups: ''
    starterContent: true
    hash: dbf5061fbaa01ec66e70f4eaeb6b0632603f944c
  -
    class_name: Test
    id: 77
    name: translationDictionary
    accessibility: 0
    archived: '0'
    visibility: 2
    type: 1
    code: null
    description: 'Sets translation dictionary rules.'
    variables:
      -
        class_name: TestVariable
        id: 804
        name: out
        type: 2
        description: ''
        passableThroughUrl: '0'
        value: '0'
        test: 77
        parentVariable: 799
      -
        class_name: TestVariable
        id: 805
        name: language
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: null
        test: 77
        parentVariable: 800
      -
        class_name: TestVariable
        id: 806
        name: defaultLanguage
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: en
        test: 77
        parentVariable: 801
      -
        class_name: TestVariable
        id: 807
        name: dictionaryTable
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: '{"table":"translationDictionary","columns":{"id":"id","entryKey":"entryKey"}}'
        test: 77
        parentVariable: 803
      -
        class_name: TestVariable
        id: 847
        name: type
        type: 0
        description: ''
        passableThroughUrl: '0'
        value: multiColumn
        test: 77
        parentVariable: 846
    sourceWizard: 16
    sourceWizardTest: 76
    nodes: {  }
    nodesConnections: {  }
    tags: _concerto_core
    groups: ''
    starterContent: true
    hash: b6269263d88939b531153057cb2e8d9df2a310a7
