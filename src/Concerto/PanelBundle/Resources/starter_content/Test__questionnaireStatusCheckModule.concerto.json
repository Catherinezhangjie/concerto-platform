{
    "version": "5.0.beta.9.1",
    "collection": [
        {
            "class_name": "Test",
            "id": 71,
            "name": "_questionnaireStatusCheckModule",
            "accessibility": 0,
            "archived": "0",
            "visibility": 2,
            "type": 0,
            "code": "isOutOfTime = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired) {\n  startedAgo = as.numeric(Sys.time()) - testTimeStarted\n  testTimeLeft = testTimeLimit - startedAgo\n  if(testTimeLimit > 0) {\n    if(testTimeLeft <= 0) { return(T) }\n    if(testTimeLeft < itemTimeLimit && itemTimeFullRequired) { return(T) }\n  }\n  return(F)\n}\n\ngetBranch = function(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired, itemNumLimit, itemsNum, direction, itemsAdministered) {\n  if(isOutOfTime(testTimeLimit, testTimeStarted, itemTimeLimit, itemTimeFullRequired)) {\n    concerto.log(\"time out\", \"test status\")\n    return(\"stop\")\n  }\n  \n  if(itemNumLimit > 0 && length(itemsAdministered) >= itemNumLimit || length(itemsAdministered) >= itemsNum) {\n    if(direction > 0) {\n      concerto.log(\"maximum items reached\", \"test status\")\n      return(\"stop\")\n    }\n  }\n  \n  concerto.log(\"continue\", \"test status\")\n  return(\"continue\")\n}\n\n.branch = getBranch(\n  as.numeric(settings$testTimeLimit), \n  testTimeStarted, \n  as.numeric(settings$itemTimeLimit), \n  settings$itemTimeFullRequired == \"1\", \n  as.numeric(settings$itemNumLimit), \n  dim(items)[1],\n  direction,\n  itemsAdministered\n)",
            "outdated": "0",
            "description": "",
            "variables": [
                {
                    "class_name": "TestVariable",
                    "id": 721,
                    "name": "continue",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "0",
                    "test": 71,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 722,
                    "name": "testTimeLeft",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 71,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 723,
                    "name": "testTimeStarted",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 71,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 724,
                    "name": "itemsAdministered",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 71,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 725,
                    "name": "direction",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 71,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 727,
                    "name": "settings",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 71,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 728,
                    "name": "items",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 71,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 730,
                    "name": ".branch",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 71,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 731,
                    "name": "stop",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 71,
                    "parentVariable": null
                }
            ],
            "sourceWizard": null,
            "sourceWizardName": null,
            "sourceWizardTest": null,
            "sourceWizardTestName": null,
            "updatedOn": "2019-02-06 14:53:00",
            "updatedBy": "admin",
            "nodes": [],
            "nodesConnections": [],
            "tags": "",
            "owner": null,
            "groups": "",
            "starterContent": true,
            "hash": "7ae7510c86beb3f9286b270aa3f49805876d3486"
        }
    ]
}