{
    "version": "5.0.beta.9.1",
    "collection": [
        {
            "class_name": "Test",
            "id": 76,
            "name": "_translationDictionary",
            "accessibility": 0,
            "archived": "0",
            "visibility": 2,
            "type": 0,
            "code": "selectedLanguage = language\nif(is.na(language)) { selectedLanguage = defaultLanguage }\n\nconcerto.log(selectedLanguage, \"selected language\")\n\ndictionaryTable = fromJSON(dictionaryTable)\nif(type == \"multiTable\") {\n  suffixStartIndex = regexpr(\"_[^_]*$\", dictionaryTable$table)\n  if(suffixStartIndex==-1) {\n    stop(paste0(\"dictionary mapping table \", dictionaryTable$table, \" doesn't contain proper language suffix\"))\n  }\n  \n  dictionaryTable$table = paste0(substr(dictionaryTable$table, 1, suffixStartIndex), selectedLanguage)\n}\n\nentries = concerto.table.query(\"SELECT {{keyColumn}} AS entryKey, {{langColumn}} AS trans FROM {{table}}\", params=list(\n  keyColumn = dictionaryTable$columns$entryKey,\n  langColumn = selectedLanguage,\n  table = dictionaryTable$table\n))\n\nc.set(\"dictionary\", entries, global=T)",
            "outdated": "0",
            "description": "",
            "variables": [
                {
                    "class_name": "TestVariable",
                    "id": 799,
                    "name": "out",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "0",
                    "test": 76,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 800,
                    "name": "language",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 76,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 801,
                    "name": "defaultLanguage",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 76,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 803,
                    "name": "dictionaryTable",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 76,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 846,
                    "name": "type",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 76,
                    "parentVariable": null
                }
            ],
            "sourceWizard": null,
            "sourceWizardName": null,
            "sourceWizardTest": null,
            "sourceWizardTestName": null,
            "updatedOn": "2019-02-13 09:51:26",
            "updatedBy": "admin",
            "nodes": [],
            "nodesConnections": [],
            "tags": "",
            "owner": null,
            "groups": "",
            "starterContent": true,
            "hash": "1294d462e44b034b6be10023f2c14fea203e8609"
        },
        {
            "class_name": "TestWizard",
            "id": 16,
            "name": "translationDictionary",
            "description": "",
            "accessibility": 0,
            "archived": "0",
            "steps": [
                {
                    "class_name": "TestWizardStep",
                    "id": 31,
                    "title": "Dictionary",
                    "description": "",
                    "orderNum": 0,
                    "colsNum": 0,
                    "wizard": 16,
                    "params": [
                        {
                            "class_name": "TestWizardParam",
                            "id": 103,
                            "label": "Dictionary table",
                            "description": "Dictionary table mapping. For&nbsp;<strong>Language per table<\/strong>&nbsp;type, this can be mapping to any of the language tables.",
                            "hideCondition": "",
                            "type": 12,
                            "passableThroughUrl": "0",
                            "value": "{\"table\":\"translationDictionary\",\"columns\":{\"id\":\"id\",\"entryKey\":\"entryKey\"}}",
                            "testVariable": 803,
                            "name": "dictionaryTable",
                            "wizardStep": 31,
                            "stepTitle": "Dictionary",
                            "order": 1,
                            "wizard": 16,
                            "definition": {
                                "placeholder": 0,
                                "cols": [
                                    {
                                        "name": "id",
                                        "label": "Id",
                                        "tooltip": ""
                                    },
                                    {
                                        "name": "entryKey",
                                        "label": "Entry key",
                                        "tooltip": ""
                                    }
                                ]
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 104,
                            "label": "Default language",
                            "description": "Default language to use when no language is specified",
                            "hideCondition": "",
                            "type": 0,
                            "passableThroughUrl": "0",
                            "value": "en",
                            "testVariable": 801,
                            "name": "defaultLanguage",
                            "wizardStep": 31,
                            "stepTitle": "Dictionary",
                            "order": 2,
                            "wizard": 16,
                            "definition": {
                                "placeholder": 0,
                                "defvalue": "en"
                            }
                        },
                        {
                            "class_name": "TestWizardParam",
                            "id": 109,
                            "label": "Type",
                            "description": "<p>Dictionary table type. One of the following:<\/p>\n\n<ul>\n\t<li><strong>Language per table&nbsp;<\/strong>- each language in its own table (tables must end with underscore followed by language code, e.g.:&nbsp;<strong>dictionary_en<\/strong>&nbsp;for english), translation column name need to be same as language code (e.g.&nbsp;<strong>en<\/strong>&nbsp;for english)<\/li>\n\t<li><strong>Language per column<\/strong>&nbsp;- single table, each language in its own column (column for each supported language, translation columns needs to be same as language code (e.g.&nbsp;<strong>en&nbsp;<\/strong>for english)<\/li>\n<\/ul>\n",
                            "hideCondition": "",
                            "type": 3,
                            "passableThroughUrl": "0",
                            "value": "multiColumn",
                            "testVariable": 846,
                            "name": "type",
                            "wizardStep": 31,
                            "stepTitle": "Dictionary",
                            "order": 0,
                            "wizard": 16,
                            "definition": {
                                "placeholder": 0,
                                "options": [
                                    {
                                        "value": "multiTable",
                                        "label": "Language per table",
                                        "order": 1
                                    },
                                    {
                                        "value": "multiColumn",
                                        "label": "Language per column",
                                        "order": 0
                                    }
                                ],
                                "defvalue": "multiColumn"
                            }
                        }
                    ]
                }
            ],
            "test": 76,
            "testName": "_translationDictionary",
            "updatedOn": "2019-02-07 13:57:35",
            "updatedBy": "admin",
            "owner": null,
            "groups": "",
            "starterContent": true,
            "hash": "dbf5061fbaa01ec66e70f4eaeb6b0632603f944c"
        }
    ]
}