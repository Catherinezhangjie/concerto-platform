{
    "version": "5.0.beta.9.1",
    "collection": [
        {
            "class_name": "Test",
            "id": 56,
            "name": "_linearTestScoringModule",
            "accessibility": 0,
            "archived": "0",
            "visibility": 2,
            "type": 0,
            "code": "updateScores = function(response, item, scores) {\n  score = 0\n\n  if(!is.null(response$response)) {\n    responseOptions = fromJSON(item$responseOptions)\n    if(responseOptions$type == \"open\") {\n      if(response$response == responseOptions$openCorrect) {\n        score = responseOptions$openScore\n      }\n    } else {\n      for(i in 1:length(responseOptions$options)) {\n        option = responseOptions$options[[i]]\n        if(option$value == response$response) {\n          score = option$score\n          break\n        }\n      }\n    }\n  }\n\n  scores[itemIndex] = score\n  return(scores)\n}\n\nupdateTraitScores = function(scores, items) {\n  traitScores = list()\n  for(i in 1:length(scores)) {\n    score = as.numeric(scores[[i]])\n    if(is.null(score)) { score = 0 }\n    item = as.list(items[i,])\n    if(is.null(traitScores[[item$trait]])) {\n      traitScores[[item$trait]] = 0\n    }\n    traitScores[[item$trait]] = traitScores[[item$trait]] + score\n  }\n  return(traitScores)\n}\n\nscores = updateScores(response, item, scores)\ntraitScores = updateTraitScores(scores, items)\n\nconcerto.log(scores, \"scores\")\nconcerto.log(traitScores, \"traitScores\")\nif(scores[itemIndex] > 0) {\n  .branch = \"correct\"\n} else {\n  .branch = \"incorrect\"\n}",
            "outdated": "0",
            "description": "",
            "variables": [
                {
                    "class_name": "TestVariable",
                    "id": 475,
                    "name": "correct",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": "0",
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 476,
                    "name": "response",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 477,
                    "name": "item",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 478,
                    "name": "itemsAdministered",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 479,
                    "name": "scores",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 484,
                    "name": "scores",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 485,
                    "name": "score",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 486,
                    "name": "itemIndex",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 488,
                    "name": "incorrect",
                    "type": 2,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 489,
                    "name": ".branch",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 601,
                    "name": "settings",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 602,
                    "name": "items",
                    "type": 0,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                },
                {
                    "class_name": "TestVariable",
                    "id": 817,
                    "name": "traitScores",
                    "type": 1,
                    "description": "",
                    "passableThroughUrl": "0",
                    "value": null,
                    "test": 56,
                    "parentVariable": null
                }
            ],
            "sourceWizard": null,
            "sourceWizardName": null,
            "sourceWizardTest": null,
            "sourceWizardTestName": null,
            "updatedOn": "2019-02-12 10:01:15",
            "updatedBy": "admin",
            "nodes": [],
            "nodesConnections": [],
            "tags": "",
            "owner": 1,
            "groups": "",
            "starterContent": true,
            "hash": "0dd57373ed468b01040bc3d096ee1549670043ac"
        }
    ]
}